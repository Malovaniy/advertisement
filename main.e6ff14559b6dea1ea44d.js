(self.webpackChunkadvertisement=self.webpackChunkadvertisement||[]).push([[179],{255:fa=>{function Xr(Dr){return Promise.resolve().then(()=>{var qn=new Error("Cannot find module '"+Dr+"'");throw qn.code="MODULE_NOT_FOUND",qn})}Xr.keys=()=>[],Xr.resolve=Xr,Xr.id=255,fa.exports=Xr},676:function(fa,Xr){!function(Dr){"use strict";function qn(V){return Array.prototype.slice.call(V)}function pa(V){return new Promise(function(ie,he){V.onsuccess=function(){ie(V.result)},V.onerror=function(){he(V.error)}})}function Zt(V,ie,he){var Re,fe=new Promise(function(Z,hs){pa(Re=V[ie].apply(V,he)).then(Z,hs)});return fe.request=Re,fe}function ls(V,ie,he){var Re=Zt(V,ie,he);return Re.then(function(fe){if(fe)return new Te(fe,Re.request)})}function Ar(V,ie,he){he.forEach(function(Re){Object.defineProperty(V.prototype,Re,{get:function(){return this[ie][Re]},set:function(fe){this[ie][Re]=fe}})})}function Mi(V,ie,he,Re){Re.forEach(function(fe){fe in he.prototype&&(V.prototype[fe]=function(){return Zt(this[ie],fe,arguments)})})}function ds(V,ie,he,Re){Re.forEach(function(fe){fe in he.prototype&&(V.prototype[fe]=function(){return this[ie][fe].apply(this[ie],arguments)})})}function Sm(V,ie,he,Re){Re.forEach(function(fe){fe in he.prototype&&(V.prototype[fe]=function(){return ls(this[ie],fe,arguments)})})}function ar(V){this._index=V}function Te(V,ie){this._cursor=V,this._request=ie}function Gn(V){this._store=V}function Zr(V){this._tx=V,this.complete=new Promise(function(ie,he){V.oncomplete=function(){ie()},V.onerror=function(){he(V.error)},V.onabort=function(){he(V.error)}})}function Dc(V,ie,he){this._db=V,this.oldVersion=ie,this.transaction=new Zr(he)}function De(V){this._db=V}Ar(ar,"_index",["name","keyPath","multiEntry","unique"]),Mi(ar,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Sm(ar,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ar(Te,"_cursor",["direction","key","primaryKey","value"]),Mi(Te,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(V){V in IDBCursor.prototype&&(Te.prototype[V]=function(){var ie=this,he=arguments;return Promise.resolve().then(function(){return ie._cursor[V].apply(ie._cursor,he),pa(ie._request).then(function(Re){if(Re)return new Te(Re,ie._request)})})})}),Gn.prototype.createIndex=function(){return new ar(this._store.createIndex.apply(this._store,arguments))},Gn.prototype.index=function(){return new ar(this._store.index.apply(this._store,arguments))},Ar(Gn,"_store",["name","keyPath","indexNames","autoIncrement"]),Mi(Gn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Sm(Gn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ds(Gn,"_store",IDBObjectStore,["deleteIndex"]),Zr.prototype.objectStore=function(){return new Gn(this._tx.objectStore.apply(this._tx,arguments))},Ar(Zr,"_tx",["objectStoreNames","mode"]),ds(Zr,"_tx",IDBTransaction,["abort"]),Dc.prototype.createObjectStore=function(){return new Gn(this._db.createObjectStore.apply(this._db,arguments))},Ar(Dc,"_db",["name","version","objectStoreNames"]),ds(Dc,"_db",IDBDatabase,["deleteObjectStore","close"]),De.prototype.transaction=function(){return new Zr(this._db.transaction.apply(this._db,arguments))},Ar(De,"_db",["name","version","objectStoreNames"]),ds(De,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(V){[Gn,ar].forEach(function(ie){V in ie.prototype&&(ie.prototype[V.replace("open","iterate")]=function(){var he=qn(arguments),Re=he[he.length-1],fe=this._store||this._index,Z=fe[V].apply(fe,he.slice(0,-1));Z.onsuccess=function(){Re(Z.result)}})})}),[ar,Gn].forEach(function(V){V.prototype.getAll||(V.prototype.getAll=function(ie,he){var Re=this,fe=[];return new Promise(function(Z){Re.iterateCursor(ie,function(hs){hs?(fe.push(hs.value),void 0===he||fe.length!=he?hs.continue():Z(fe)):Z(fe)})})})}),Dr.openDb=function(V,ie,he){var Re=Zt(indexedDB,"open",[V,ie]),fe=Re.request;return fe&&(fe.onupgradeneeded=function(Z){he&&he(new Dc(fe.result,Z.oldVersion,fe.transaction))}),Re.then(function(Z){return new De(Z)})},Dr.deleteDb=function(V){return Zt(indexedDB,"deleteDatabase",[V])},Object.defineProperty(Dr,"__esModule",{value:!0})}(Xr)},900:(fa,Xr,Dr)=>{"use strict";function qn(t){return"function"==typeof t}let pa=!1;const Zt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else pa&&console.log("RxJS: Back to a better error behavior. Thank you. <3");pa=t},get useDeprecatedSynchronousErrorHandling(){return pa}};function ls(t){setTimeout(()=>{throw t},0)}const Ar={closed:!0,next(t){},error(t){if(Zt.useDeprecatedSynchronousErrorHandling)throw t;ls(t)},complete(){}},Mi=Array.isArray||(t=>t&&"number"==typeof t.length);function ds(t){return null!==t&&"object"==typeof t}const ar=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class Te{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Te)n.remove(this);else if(null!==n)for(let o=0;o<n.length;++o)n[o].remove(this);if(qn(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof ar?Gn(o.errors):[o]}}if(Mi(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if(ds(u))try{u.unsubscribe()}catch(c){e=e||[],c instanceof ar?e=e.concat(Gn(c.errors)):e.push(c)}}}if(e)throw new ar(e)}add(e){let n=e;if(!e)return Te.EMPTY;switch(typeof e){case"function":n=new Te(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Te)){const s=n;n=new Te,n._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof Te){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function Gn(t){return t.reduce((e,n)=>e.concat(n instanceof ar?n.errors:n),[])}Te.EMPTY=((t=new Te).closed=!0,t);const Zr="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class De extends Te{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ar;break;case 1:if(!e){this.destination=Ar;break}if("object"==typeof e){e instanceof De?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new ah(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new ah(this,e,n,r)}}[Zr](){return this}static create(e,n,r){const i=new De(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class ah extends De{constructor(e,n,r,i){super(),this._parentSubscriber=e;let s,o=this;qn(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==Ar&&(o=Object.create(n),qn(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Zt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=Zt;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):ls(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;ls(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);Zt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),Zt.useDeprecatedSynchronousErrorHandling)throw r;ls(r)}}__tryOrSetError(e,n,r){if(!Zt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return Zt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(ls(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function he(t){return t}let Z=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:s}=this,o=function(t,e,n){if(t){if(t instanceof De)return t;if(t[Zr])return t[Zr]()}return t||e||n?new De(t,e,n):new De(Ar)}(n,r,i);if(o.add(s?s.call(o,this.source):this.source||Zt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Zt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){Zt.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof De?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=hs(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[ie](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?he:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=hs(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hs(t){if(t||(t=Zt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const ga=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class O$ extends Te{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class OA extends De{constructor(e){super(e),this.destination=e}}let Sr=(()=>{class t extends Z{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Zr](){return new OA(this)}lift(n){const r=new PA(this,this);return r.operator=n,r}next(n){if(this.closed)throw new ga;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(n)}}error(n){if(this.closed)throw new ga;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(n);this.observers.length=0}complete(){if(this.closed)throw new ga;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new ga;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new ga;return this.hasError?(n.error(this.thrownError),Te.EMPTY):this.isStopped?(n.complete(),Te.EMPTY):(this.observers.push(n),new O$(this,n))}asObservable(){const n=new Z;return n.source=this,n}}return t.create=(e,n)=>new PA(e,n),t})();class PA extends Sr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):Te.EMPTY}}function uh(t){return t&&"function"==typeof t.schedule}function _e(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new P$(t,e))}}class P${constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new F$(e,this.project,this.thisArg))}}class F$ extends De{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const FA=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},ch="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",LA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function VA(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Rm=t=>{if(t&&"function"==typeof t[ie])return(t=>e=>{const n=t[ie]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(LA(t))return FA(t);if(VA(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ls),e))(t);if(t&&"function"==typeof t[ch])return(t=>e=>{const n=t[ch]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${ds(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Mm(t,e){return new Z(n=>{const r=new Te;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Ut(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ie]}(t))return function(t,e){return new Z(n=>{const r=new Te;return r.add(e.schedule(()=>{const i=t[ie]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>n.next(s)))},error(s){r.add(e.schedule(()=>n.error(s)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(VA(t))return function(t,e){return new Z(n=>{const r=new Te;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(LA(t))return Mm(t,e);if(function(t){return t&&"function"==typeof t[ch]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{const r=new Te;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[ch](),r.add(e.schedule(function(){if(n.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void n.error(a)}o?n.complete():(n.next(s),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Z?t:new Z(Rm(t))}class Nm extends De{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class km extends De{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Om(t,e){if(e.closed)return;if(t instanceof Z)return t.subscribe(e);let n;try{n=Rm(t)(e)}catch(r){e.error(r)}return n}function Bt(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Bt((i,s)=>Ut(t(i,s)).pipe(_e((o,a)=>e(i,o,s,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new z$(t,n)))}class z${constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new K$(e,this.project,this.concurrent))}}class K$ extends km{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new Nm(this),r=this.destination;r.add(n);const i=Om(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Ac(t=Number.POSITIVE_INFINITY){return Bt(he,t)}function Pm(t,e){return e?Mm(t,e):new Z(FA(t))}function Fm(){return function(e){return e.lift(new Y$(e))}}class Y${constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new J$(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class J$ extends De{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class UA extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Te,e.add(this.source.subscribe(new Z$(this.getSubject(),this))),e.closed&&(this._connection=null,e=Te.EMPTY)),e}refCount(){return Fm()(this)}}const X$=(()=>{const t=UA.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z$ extends OA{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function rH(){return new Sr}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Lm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Vm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const sH=we({__forward_ref__:we});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return re(this())},t}function F(t){return BA(t)?t():t}function BA(t){return"function"==typeof t&&t.hasOwnProperty(sH)&&t.__forward_ref__===Ne}class no extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function pn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}function lh(t,e){const n=e?` in ${e}`:"";throw new no("201",`No provider for ${pn(t)} found${n}`)}function zn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ki(t){return jA(t,dh)||jA(t,HA)}function jA(t,e){return t.hasOwnProperty(e)?t[e]:null}function $A(t){return t&&(t.hasOwnProperty(Bm)||t.hasOwnProperty(hH))?t[Bm]:null}const dh=we({\u0275prov:we}),Bm=we({\u0275inj:we}),HA=we({ngInjectableDef:we}),hH=we({ngInjectorDef:we});var U=(()=>((U=U||{})[U.Default=0]="Default",U[U.Host=1]="Host",U[U.Self=2]="Self",U[U.SkipSelf=4]="SkipSelf",U[U.Optional=8]="Optional",U))();let jm;function fs(t){const e=jm;return jm=t,e}function qA(t,e,n){const r=ki(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&U.Optional?null:void 0!==e?e:void lh(re(t),"Injector")}function ps(t){return{toString:t}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),gt=(()=>((gt=gt||{})[gt.Emulated=0]="Emulated",gt[gt.None=2]="None",gt[gt.ShadowDom=3]="ShadowDom",gt))();const pH="undefined"!=typeof globalThis&&globalThis,gH="undefined"!=typeof window&&window,mH="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=pH||"undefined"!=typeof global&&global||gH||mH,ma={},xe=[],hh=we({\u0275cmp:we}),$m=we({\u0275dir:we}),Hm=we({\u0275pipe:we}),GA=we({\u0275mod:we}),yH=we({\u0275loc:we}),Oi=we({\u0275fac:we}),Sc=we({__NG_ELEMENT_ID__:we});let _H=0;function gs(t){return ps(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||gt.Emulated,id:"c",styles:t.styles||xe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=_H++,r.inputs=QA(t.inputs,n),r.outputs=QA(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(WA):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(zA):null,r})}function WA(t){return mn(t)||function(t){return t[$m]||null}(t)}function zA(t){return function(t){return t[Hm]||null}(t)}const KA={};function jt(t){return ps(()=>{const e={type:t.type,bootstrap:t.bootstrap||xe,declarations:t.declarations||xe,imports:t.imports||xe,exports:t.exports||xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(KA[t.id]=t.type),e})}function QA(t,e){if(null==t)return ma;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const j=gs;function gn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function mn(t){return t[hh]||null}function cr(t,e){const n=t[GA]||null;if(!n&&!0===e)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return n}function ei(t){return Array.isArray(t)&&"object"==typeof t[1]}function Rr(t){return Array.isArray(t)&&!0===t[1]}function Wm(t){return 0!=(8&t.flags)}function mh(t){return 2==(2&t.flags)}function yh(t){return 1==(1&t.flags)}function Mr(t){return null!==t.template}function TH(t){return 0!=(512&t[2])}function ao(t,e){return t.hasOwnProperty(Oi)?t[Oi]:null}class JA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function tn(){return XA}function XA(t){return t.type.prototype.ngOnChanges&&(t.setInput=xH),SH}function SH(){const t=eS(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ma)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xH(t,e,n,r){const i=eS(t)||function(t,e){return t[ZA]=e}(t,{previous:ma,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new JA(u&&u.currentValue,e,o===ma),t[r]=e}tn.ngInherit=!0;const ZA="__ngSimpleChanges__";function eS(t){return t[ZA]||null}let Qm;function Qe(t){return!!t.listen}const rS={createRenderer:(t,e)=>void 0!==Qm?Qm:"undefined"!=typeof document?document:void 0};function st(t){for(;Array.isArray(t);)t=t[0];return t}function _h(t,e){return st(e[t])}function hr(t,e){return st(e[t.index])}function Jm(t,e){return t.data[e]}function wa(t,e){return t[e]}function Qn(t,e){const n=e[t];return ei(n)?n:n[0]}function Xm(t){return 128==(128&t[2])}function ys(t,e){return null==e?null:t[e]}function sS(t){t[18]=0}function Zm(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const G={lFrame:fS(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oS(){return G.bindingsEnabled}function b(){return G.lFrame.lView}function pe(){return G.lFrame.tView}function uo(t){return G.lFrame.contextLView=t,t[8]}function mt(){let t=aS();for(;null!==t&&64===t.type;)t=t.parent;return t}function aS(){return G.lFrame.currentTNode}function ti(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function ey(){return G.lFrame.isParent}function vh(){return G.isInCheckNoChangesMode}function Eh(t){G.isInCheckNoChangesMode=t}function yn(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ba(){return G.lFrame.bindingIndex++}function qH(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,ny(e)}function ny(t){G.lFrame.currentDirectiveIndex=t}function iy(t){G.lFrame.currentQueryIndex=t}function WH(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function dS(t,e,n){if(n&U.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&U.Host||(i=WH(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=G.lFrame=hS();return r.currentTNode=e,r.lView=t,!0}function wh(t){const e=hS(),n=t[1];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hS(){const t=G.lFrame,e=null===t?null:t.child;return null===e?fS(t):e}function fS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pS(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gS=pS;function bh(){const t=pS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return G.lFrame.selectedIndex}function _s(t){G.lFrame.selectedIndex=t}function Ch(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Ih(t,e,n){mS(t,e,3,n)}function Th(t,e,n,r){(3&t[2])===n&&mS(t,e,n,r)}function sy(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function mS(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(t3(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function t3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class kc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Dh(t,e,n){const r=Qe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];ay(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function yS(t){return 3===t||4===t||6===t}function ay(t){return 64===t.charCodeAt(0)}function Ah(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_S(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _S(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function vS(t){return-1!==t}function Ca(t){return 32767&t}function Ia(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let uy=!0;function Sh(t){const e=uy;return uy=t,e}let a3=0;function Pc(t,e){const n=ly(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cy(r.data,t),cy(e,null),cy(r.blueprint,null));const i=xh(t,e),s=t.injectorIndex;if(vS(i)){const o=Ca(i),a=Ia(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function cy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ly(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Rh(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sc)&&(r=n[Sc]),null==r&&(r=n[Sc]=a3++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function bS(t,e,n){if(n&U.Optional)return t;lh(e,"NodeInjector")}function CS(t,e,n,r){if(n&U.Optional&&void 0===r&&(r=null),0==(n&(U.Self|U.Host))){const i=t[9],s=fs(void 0);try{return i?i.get(e,r,n&U.Optional):qA(e,r,n&U.Optional)}finally{fs(s)}}return bS(r,e,n)}function IS(t,e,n,r=U.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sc)?t[Sc]:void 0;return"number"==typeof e?e>=0?255&e:l3:e}(n);if("function"==typeof s){if(!dS(e,t,r))return r&U.Host?bS(i,n,r):CS(e,n,r,i);try{const o=s(r);if(null!=o||r&U.Optional)return o;lh(n)}finally{gS()}}else if("number"==typeof s){let o=null,a=ly(t,e),u=-1,c=r&U.Host?e[16][6]:null;for((-1===a||r&U.SkipSelf)&&(u=-1===a?xh(t,e):e[a+8],-1!==u&&AS(r,!1)?(o=e[1],a=Ca(u),e=Ia(u,e)):a=-1);-1!==a;){const l=e[1];if(DS(s,a,l.data)){const d=d3(a,e,n,o,r,c);if(d!==TS)return d}u=e[a+8],-1!==u&&AS(r,e[1].data[a+8]===c)&&DS(s,a,e)?(o=l,a=Ca(u),e=Ia(u,e)):a=-1}}}return CS(e,n,r,i)}const TS={};function l3(){return new Ta(mt(),b())}function d3(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Mr(f)&&f.type===n)return u}return null}(a,o,n,null==r?mh(a)&&uy:r!=o&&0!=(3&a.type),i&U.Host&&s===a);return null!==l?Fc(e,o,l,a):TS}function Fc(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof kc}(i)){const o=i;o.resolving&&function(t,e){throw new no("200",`Circular dependency in DI detected for ${t}`)}(pn(s[n]));const a=Sh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?fs(o.injectImpl):null;dS(t,r,U.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=XA(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&fs(u),Sh(a),o.resolving=!1,gS()}}return i}function DS(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function AS(t,e){return!(t&U.Self||t&U.Host&&e)}class Ta{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return IS(this._tNode,this._lView,e,r,n)}}function fr(t){return ps(()=>{const e=t.prototype.constructor,n=e[Oi]||dy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Oi]||dy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function dy(t){return BA(t)?()=>{const e=dy(F(t));return e&&e()}:ao(t)}function Lc(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(yS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(mt(),t)}const Aa="__parameters__";function co(t,e,n){return ps(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Aa)?u[Aa]:Object.defineProperty(u,Aa,{value:[]})[Aa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const g3=new z("AnalyzeForEntryComponents"),Nh=Function;function ri(t,e){t.forEach(n=>Array.isArray(n)?ri(n,e):e(n))}function Oh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yn(t,e,n){let r=xa(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fy(t,e){const n=xa(t,e);if(n>=0)return t[1|n]}function xa(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const jc={},gy="__NG_DI_FLAG__",Ra="ngTempTokenPath",T3=/\n/gm,my="__source",yy=we({provide:String,useValue:we});let $c;function Ma(t){const e=$c;return $c=t,e}function A3(t,e=U.Default){if(void 0===$c)throw new Error("inject() must be called from an injection context");return null===$c?qA(t,void 0,e):$c.get(t,e&U.Optional?null:void 0,e)}function S(t,e=U.Default){return(jm||A3)(F(t),e)}function ho(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=U.Default;for(let o=0;o<r.length;o++){const a=r[o],u=S3(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Hc(t,e){return t[gy]=e,t.prototype[gy]=e,t}function S3(t){return t[gy]}function kS(t,e,n,r){const i=t[Ra];throw e[my]&&i.unshift(e[my]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=re(e);if(Array.isArray(e))i=e.map(re).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):re(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(T3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ra]=null,t}const Na=Hc(co("Inject",t=>({token:t})),-1),Ae=Hc(co("Optional"),8),ws=Hc(co("SkipSelf"),4);const XS="__ngContext__";function nn(t,e){t[XS]=e}function Ay(t){const e=function(t){return t[XS]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function jh(t){return t.ngOriginalError}function wq(t,...e){t.error(...e)}class po{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||wq}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(jh(e)):null}_findOriginalError(e){let n=e&&jh(e);for(;n&&jh(n);)n=jh(n);return n||null}}const ax=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function oi(t){return t instanceof Function?t():t}var Xn=(()=>((Xn=Xn||{})[Xn.Important=1]="Important",Xn[Xn.DashCase=2]="DashCase",Xn))();function Ry(t,e){return undefined(t,e)}function Qc(t){const e=t[3];return Rr(e)?e[3]:e}function My(t){return hx(t[13])}function Ny(t){return hx(t[4])}function hx(t){for(;null!==t&&!Rr(t);)t=t[4];return t}function Fa(t,e,n,r,i){if(null!=r){let s,o=!1;Rr(r)?s=r:ei(r)&&(o=!0,r=r[0]);const a=st(r);0===t&&null!==n?null==i?_x(e,n,a):go(e,n,a,i||null,!0):1===t&&null!==n?go(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Hh(t,e);r&&function(t,e,n,r){Qe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==st(n)&&Fa(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Yc(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Oy(t,e,n){return Qe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function px(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Zm(i,-1)),n.splice(r,1)}function Py(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&px(i,r),e>0&&(t[n-1][4]=r[4]);const s=lo(t,10+e);!function(t,e){Yc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function gx(t,e){if(!(256&e[2])){const n=e[11];Qe(n)&&n.destroyNode&&Yc(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fy(t[1],t);for(;e;){let n=null;if(ei(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)ei(e)&&Fy(e[1],e),e=e[3];null===e&&(e=t),ei(e)&&Fy(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fy(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof kc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):st(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Qe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Rr(e[3])){n!==e[3]&&px(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function mx(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===gt.None||i===gt.Emulated)return null}return hr(r,n)}(t,e.parent,n)}function go(t,e,n,r,i){Qe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function _x(t,e,n){Qe(t)?t.appendChild(e,n):e.appendChild(n)}function vx(t,e,n,r,i){null!==r?go(t,e,n,r,i):_x(t,e,n)}function Hh(t,e){return Qe(t)?t.parentNode(e):e.parentNode}let bx=function(t,e,n){return 40&t.type?hr(t,n):null};function qh(t,e,n,r){const i=mx(t,r,e),s=e[11],a=function(t,e,n){return bx(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)vx(s,i,n[u],a,!1);else vx(s,i,n,a,!1)}function Gh(t,e){if(null!==e){const n=e.type;if(3&n)return hr(e,t);if(4&n)return Vy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Gh(t,r);{const i=t[e.index];return Rr(i)?Vy(-1,i):st(i)}}if(32&n)return Ry(e,t)()||st(t[e.index]);{const r=Ix(t,e);return null!==r?Array.isArray(r)?r[0]:Gh(Qc(t[16]),r):Gh(t,e.next)}}return null}function Ix(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vy(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Gh(r,i)}return e[7]}function Uy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&nn(st(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Uy(t,e,n.child,r,i,s,!1),Fa(e,t,i,a,s);else if(32&u){const c=Ry(n,r);let l;for(;l=c();)Fa(e,t,i,l,s);Fa(e,t,i,a,s)}else 16&u?Dx(t,e,r,n,i,s):Fa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yc(t,e,n,r,i,s){Uy(n,r,t.firstChild,e,i,s,!1)}function Dx(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Fa(e,t,i,u[c],s);else Uy(t,e,u,o[3],i,s,!0)}function Ax(t,e,n){Qe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function By(t,e,n){Qe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Sx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const xx="ng-template";function zq(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Sx(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Rx(t){return 4===t.type&&t.value!==xx}function Kq(t,e,n){return e===(4!==t.type||n?t.value:xx)}function Qq(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(yS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Kq(t,u,n)||""===u&&1===e.length){if(Nr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!zq(t.attrs,c,n)){if(Nr(r))return!1;o=!0}continue}const d=Yq(8&r?"class":u,i,Rx(t),n);if(-1===d){if(Nr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Sx(f,c,0)||2&r&&c!==h){if(Nr(r))return!1;o=!0}}}}else{if(!o&&!Nr(r)&&!Nr(u))return!1;if(o&&Nr(u))continue;o=!1,r=u|1&r}}return Nr(r)||o}function Nr(t){return 0==(1&t)}function Yq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Mx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qq(t,e[r],n))return!0;return!1}function Nx(t,e){return t?":not("+e.trim()+")":e}function tG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Nr(o)&&(e+=Nx(s,i),i=""),r=o,s=s||!Nr(r);n++}return""!==i&&(e+=Nx(s,i)),e}const K={};function nt(t){kx(pe(),b(),_n()+t,vh())}function kx(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ih(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Th(e,s,0,n)}_s(n)}function Wh(t,e){return t<<17|e<<2}function kr(t){return t>>17&32767}function jy(t){return 2|t}function Fi(t){return(131068&t)>>2}function $y(t,e){return-131069&t|e<<2}function Hy(t){return 1|t}function Hx(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];iy(i),o.contentQueries(2,e[s],s)}}}function Jc(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,sS(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function La(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=aS(),o=ey(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),G.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ti(s,!0),s}function Va(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xc(t,e,n){wh(e);try{const r=t.viewQuery;null!==r&&s_(1,r,n);const i=t.template;null!==i&&qx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hx(t,e),t.staticViewQueries&&s_(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)OG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,bh()}}function Ua(t,e,n,r){const i=e[2];if(256==(256&i))return;wh(e);const s=vh();try{sS(e),function(t){G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&qx(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Ih(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Th(e,c,0,null),sy(e,0)}if(function(t){for(let e=My(t);null!==e;e=Ny(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Zm(s,1),i[2]|=1024}}}(e),function(t){for(let e=My(t);null!==e;e=Ny(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Xm(r)&&Ua(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Hx(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Ih(e,c)}else{const c=t.contentHooks;null!==c&&Th(e,c,1),sy(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)_s(~i);else{const s=i,o=n[++r],a=n[++r];qH(o,s),a(2,e[s])}}}finally{_s(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)kG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&s_(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Ih(e,c)}else{const c=t.viewHooks;null!==c&&Th(e,c,2),sy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zm(e[3],-1))}finally{bh()}}function pG(t,e,n,r){const i=e[10],s=!vh(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Xc(t,e,r),Ua(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function qx(t,e,n,r,i){const s=_n(),o=2&r;try{_s(-1),o&&e.length>20&&kx(t,e,20,vh()),n(r,i)}finally{_s(s)}}function Jy(t,e,n){!oS()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Pc(n,e),nn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Mr(u);c&&SG(e,n,u);const l=Fc(e,t,a,n);nn(l,e),null!==o&&xG(0,a-i,l,u,0,o),c&&(Qn(n.index,e)[8]=l)}}(t,e,n,hr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=G.lFrame.currentDirectiveIndex;try{_s(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];ny(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Zx(c,l)}}finally{_s(-1),ny(a)}}(t,e,n))}function Xy(t,e,n=hr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Wx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qh(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:K);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Yx(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Zy(t,e,n,r){let i=!1;if(oS()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Mx(n,o.selectors,!1)&&(i||(i=[]),Rh(Pc(n,e),t,o.type),Mr(o)?(eR(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,tR(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Va(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Ah(n.mergedAttrs,d.hostAttrs),nR(t,n,e,c,d),AG(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||Rx(e)?null:RG(d,s);o.push(h),a=Yx(d,c,a),u=Yx(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new no("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Ah(n.mergedAttrs,n.attrs),i}function Xx(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function Zx(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function eR(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function AG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function tR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function nR(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ao(i.type)),o=new kc(s,Mr(i),null);t.blueprint[r]=o,n[r]=o,Xx(t,e,0,r,Va(t,n,i.hostVars,K),i)}function SG(t,e,n){const r=hr(e,t),i=Wx(n),s=t[10],o=Yh(t,Jc(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function xG(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function RG(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function rR(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function kG(t,e){const n=Qn(e,t);if(Xm(n)){const r=n[1];80&n[2]?Ua(r,n,r.template,n[8]):n[5]>0&&t_(n)}}function t_(t){for(let r=My(t);null!==r;r=Ny(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ua(o,s,o.template,s[8])}else s[5]>0&&t_(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Qn(n[r],t);Xm(i)&&i[5]>0&&t_(i)}}function OG(t,e){const n=Qn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Xc(r,n,n[8])}function Yh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function n_(t){for(;t;){t[2]|=64;const e=Qc(t);if(TH(t)&&!e)return t;t=e}return null}function i_(t,e,n){const r=e[10];r.begin&&r.begin();try{Ua(t,e,t.template,n)}catch(i){throw uR(e,i),i}finally{r.end&&r.end()}}function iR(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ay(n),i=r[1];pG(i,r,i.template,n)}}(t[8])}function s_(t,e,n){iy(0),e(t,n)}const UG=(()=>Promise.resolve(null))();function sR(t){return t[7]||(t[7]=[])}function oR(t){return t.cleanup||(t.cleanup=[])}function uR(t,e){const n=t[9],r=n?n.get(po,null):null;r&&r.handleError(e)}function cR(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Vi(t,e,n){const r=_h(e,t);!function(t,e,n){Qe(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Jh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Vm(i,a):2==s&&(r=Vm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ba=new z("INJECTOR",-1);class lR{get(e,n=jc){if(n===jc){const r=new Error(`NullInjectorError: No provider for ${re(e)}!`);throw r.name="NullInjectorError",r}return n}}const Zc=new z("Set Injector scope."),el={},$G={};let o_;function dR(){return void 0===o_&&(o_=new lR),o_}function hR(t,e=null,n=null,r){return new qG(t,n,e||dR(),r)}class qG{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&ri(n,a=>this.processProvider(a,e,n)),ri([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ba,ja(void 0,this));const o=this.records.get(Zc);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=jc,r=U.Default){this.assertNotDestroyed();const i=Ma(this),s=fs(void 0);try{if(!(r&U.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&ki(e);a=u&&this.injectableDefInScope(u)?ja(a_(e),el):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&U.Self?dR():this.parent).get(e,n=r&U.Optional&&n===jc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ra]=o[Ra]||[]).unshift(re(e)),i)throw o;return kS(o,e,"R3InjectorError",this.source)}throw o}finally{fs(s),Ma(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(re(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=F(e)))return!1;let i=$A(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=$A(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{ri(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];ri(f,p=>this.processProvider(p,h,f||xe))}}this.injectorDefTypes.add(o);const u=ao(o)||(()=>new o);this.records.set(o,ja(u,el));const c=i.providers;if(null!=c&&!a){const l=e;ri(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=$a(e=F(e))?e:F(e&&e.provide);const s=function(t,e,n){return pR(t)?ja(void 0,t.useValue):ja(fR(t),el)}(e);if($a(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ja(void 0,el,!0),o.factory=()=>ho(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===el&&(n.value=$G,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=F(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function a_(t){const e=ki(t),n=null!==e?e.factory:ao(t);if(null!==n)return n;if(t instanceof z)throw new Error(`Token ${re(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${re(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[dh]||t[HA]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fR(t,e,n){let r;if($a(t)){const i=F(t);return ao(i)||a_(i)}if(pR(t))r=()=>F(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ho(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>S(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ao(i)||a_(i);r=()=>new i(...ho(t.deps))}return r}function ja(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pR(t){return null!==t&&"object"==typeof t&&yy in t}function $a(t){return"function"==typeof t}const gR=function(t,e,n){return function(t,e=null,n=null,r){const i=hR(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ge=(()=>{class t{static create(n,r){return Array.isArray(n)?gR(n,r,""):gR(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=jc,t.NULL=new lR,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>S(Ba)}),t.__NG_ELEMENT_ID__=-1,t})();function d4(t,e){Ch(Ay(t)[1],mt())}function Fe(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=f_(t.inputs),o.declaredInputs=f_(t.declaredInputs),o.outputs=f_(t.outputs);const a=i.hostBindings;a&&g4(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&f4(t,u),c&&p4(t,c),Lm(t.inputs,i.inputs),Lm(t.declaredInputs,i.declaredInputs),Lm(t.outputs,i.outputs),Mr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Fe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ah(i.hostAttrs,n=Ah(n,i.hostAttrs))}}(r)}function f_(t){return t===ma?{}:t===xe?[]:t}function f4(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function p4(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function g4(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Xh=null;function Ha(){if(!Xh){const t=Ce.Symbol;if(t&&t.iterator)Xh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Xh=r)}}}return Xh}class Pr{constructor(e){this.wrapped=e}static wrap(e){return new Pr(e)}static unwrap(e){return Pr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Pr}}function nl(t){return!!p_(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ha()in t)}function p_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ui(t,e,n){return t[e]=n}function rn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function mo(t,e,n,r){const i=rn(t,e,n);return rn(t,e+1,r)||i}function li(t,e,n,r,i,s,o,a){const u=b(),c=pe(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=La(e,t,4,o||null,ys(c,a));Zy(e,n,l,ys(c,u)),Ch(e,l);const d=l.tViews=Qh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ti(d,!1);const h=u[11].createComment("");qh(c,u,h,d),nn(h,u),Yh(u,u[l]=rR(h,u,h,d)),yh(d)&&Jy(c,u,d),null!=o&&Xy(u,d,a)}function I(t,e=U.Default){const n=b();return null===n?S(t,e):IS(mt(),n,F(t),e)}function $t(t,e,n){const r=b();return rn(r,ba(),e)&&function(t,e,n,r,i,s,o,a){const u=hr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(cR(t,n,l,r,i),mh(e)&&function(t,e){const n=Qn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Qe(s)?s.setProperty(u,r,i):ay(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(pe(),function(){const t=G.lFrame;return Jm(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),$t}function v_(t,e,n,r,i){const o=i?"class":"style";cR(t,n,e.inputs[o],o,r)}function ue(t,e,n,r){const i=b(),s=pe(),o=20+t,a=i[11],u=i[o]=Oy(a,e,G.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=La(e,t,2,i,ys(a,s));return Zy(e,n,c,ys(a,o)),null!==c.attrs&&Jh(c,c.attrs,!1),null!==c.mergedAttrs&&Jh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];ti(c,!0);const l=c.mergedAttrs;null!==l&&Dh(a,u,l);const d=c.classes;null!==d&&By(a,u,d);const h=c.styles;null!==h&&Ax(a,u,h),64!=(64&c.flags)&&qh(s,i,u,c),0===G.lFrame.elementDepthCount&&nn(u,i),G.lFrame.elementDepthCount++,yh(c)&&(Jy(s,i,c),function(t,e,n){if(Wm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Xy(i,c)}function ce(){let t=mt();ey()?G.lFrame.isParent=!1:(t=t.parent,ti(t,!1));const e=t;G.lFrame.elementDepthCount--;const n=pe();n.firstCreatePass&&(Ch(n,t),Wm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&v_(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&v_(n,e,b(),e.stylesWithoutHost,!1)}function Is(t,e,n,r){ue(t,e,n,r),ce()}function eu(){return b()}function il(t){return!!t&&"function"==typeof t.then}const tf=function(t){return!!t&&"function"==typeof t.subscribe};function qe(t,e,n,r){const i=b(),s=pe(),o=mt();return function(t,e,n,r,i,s,o,a){const u=yh(r),l=t.firstCreatePass&&oR(t),d=e[8],h=sR(e);let f=!0;if(3&r.type||a){const g=hr(r,e),v=a?a(g):g,_=h.length,C=a?D=>a(st(D[r.index])):r.index;if(Qe(n)){let D=null;if(!a&&u&&(D=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,f=!1;else{s=E_(r,e,d,s,!1);const L=n.listen(v,i,s);h.push(s,L),l&&l.push(i,C,_,_+1)}}else s=E_(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,C,_,o)}else s=E_(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let v=0;v<g;v+=2){const Ee=e[m[v]][m[v+1]].subscribe(s),It=h.length;h.push(s,Ee),l&&l.push(i,r.index,It,-(It+1))}}}(s,i,i[11],o,t,e,!!n,r),qe}function iM(t,e,n,r){try{return!1!==n(r)}catch(i){return uR(t,i),!1}}function E_(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Qn(t.index,e):e;0==(32&e[2])&&n_(a);let u=iM(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=iM(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function di(t=1){return function(t){return(G.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,G.lFrame.contextLView))[8]}(t)}function pM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?kr(s):Fi(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];nW(t[a],e)&&(u=!0,t[a+1]=r?Hy(l):jy(l)),a=r?kr(l):Fi(l)}u&&(t[n+1]=r?jy(s):Hy(s))}function nW(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&xa(t,e)>=0}function nf(t,e){return function(t,e,n,r){const i=b(),s=pe(),o=function(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_n()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=sl(n=b_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=b_(i,t,e,n,r),null===s){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fi(r))return t[kr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=b_(null,t,e,u[1],r),u=sl(u,e.attrs,r),function(t,e,n,r){t[kr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=sl(r,t[s].hostAttrs,n);return sl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=kr(o),u=Fi(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||xa(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=kr(t[a+1]);t[r+1]=Wh(h,a),0!==h&&(t[h+1]=$y(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Wh(a,0),0!==a&&(t[a+1]=$y(t[a+1],r)),a=r;else t[r+1]=Wh(u,0),0===a?a=r:t[u+1]=$y(t[u+1],r),u=r;c&&(t[r+1]=jy(t[r+1])),pM(t,l,r,!0),pM(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&xa(s,e)>=0&&(n[r+1]=Hy(n[r+1]))}(e,l,t,r,s),o=Wh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==K&&rn(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];rf(function(t){return 1==(1&t)}(c)?DM(u,e,n,i,Fi(c),o):void 0)||(rf(s)||function(t){return 2==(2&t)}(c)&&(s=DM(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Qe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Xn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Xn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,_h(_n(),n),i,s))}(s,s.data[_n()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=re(function(t){return t instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),nf}function b_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=sl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function sl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function DM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===K&&(h=d?xe:void 0);let f=d?fy(h,r):l===r?h:void 0;if(c&&!rf(f)&&(f=fy(u,r)),rf(f)&&(a=f,o))return a;const p=t[i+1];i=o?kr(p):Fi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=fy(u,r))}return a}function rf(t){return void 0!==t}function Ge(t,e=""){const n=b(),r=pe(),i=t+20,s=r.firstCreatePass?La(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Qe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qh(r,n,o,s),ti(s,!1)}function Ts(t){return sf("",t,""),Ts}function sf(t,e,n){const r=b(),i=function(t,e,n,r){return rn(t,ba(),n)?e+J(n)+r:K}(r,t,e,n);return i!==K&&Vi(r,_n(),i),sf}const yo=void 0;var LW=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let nu={};function En(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=zM(e);if(n)return n;const r=e.split("-")[0];if(n=zM(r),n)return n;if("en"===r)return LW;throw new Error(`Missing locale data for the locale "${t}".`)}function zM(t){return t in nu||(nu[t]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[t]),nu[t]}var N=(()=>((N=N||{})[N.LocaleId=0]="LocaleId",N[N.DayPeriodsFormat=1]="DayPeriodsFormat",N[N.DayPeriodsStandalone=2]="DayPeriodsStandalone",N[N.DaysFormat=3]="DaysFormat",N[N.DaysStandalone=4]="DaysStandalone",N[N.MonthsFormat=5]="MonthsFormat",N[N.MonthsStandalone=6]="MonthsStandalone",N[N.Eras=7]="Eras",N[N.FirstDayOfWeek=8]="FirstDayOfWeek",N[N.WeekendRange=9]="WeekendRange",N[N.DateFormat=10]="DateFormat",N[N.TimeFormat=11]="TimeFormat",N[N.DateTimeFormat=12]="DateTimeFormat",N[N.NumberSymbols=13]="NumberSymbols",N[N.NumberFormats=14]="NumberFormats",N[N.CurrencyCode=15]="CurrencyCode",N[N.CurrencySymbol=16]="CurrencySymbol",N[N.CurrencyName=17]="CurrencyName",N[N.Currencies=18]="Currencies",N[N.Directionality=19]="Directionality",N[N.PluralCase=20]="PluralCase",N[N.ExtraData=21]="ExtraData",N))();const of="en-US";let KM=of;function I_(t){zn(t,"Expected localeId to be defined"),"string"==typeof t&&(KM=t.toLowerCase().replace(/_/g,"-"))}function A_(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let s=0;s<t.length;s++)A_(t[s],e,n,r,i);else{const s=pe(),o=b();let a=$a(t)?t:F(t.provide),u=fR(t);const c=mt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if($a(t)||!t.multi){const f=new kc(u,i,I),p=x_(a,e,i?l:l+h,d);-1===p?(Rh(Pc(c,o),s,a),S_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=x_(a,e,l+h,d),p=x_(a,e,l,l+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Rh(Pc(c,o),s,a);const v=function(t,e,n,r,i){const s=new kc(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,_N(s,i,r&&!n),s}(i?Oz:kz,n.length,i,r,u);!i&&g&&(n[p].providerFactory=v),S_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else S_(s,t,f>-1?f:p,_N(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function S_(t,e,n,r){const i=$a(e);if(i||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=a.indexOf(n);-1===u?a.push(n,[r,o]):a[u+1].push(r,o)}else a.push(n,o)}}}function _N(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function x_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function kz(t,e,n,r){return R_(this.multi,[])}function Oz(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Fc(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),R_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],R_(i,s);return s}function R_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=pe();if(r.firstCreatePass){const i=Mr(t);A_(n,r.data,r.blueprint,i,!0),A_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class vN{}const wN="ngComponent";class Lz{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return e[wN]=t,e}(e)}}let _o=(()=>{class t{}return t.NULL=new Lz,t})();function df(...t){}function iu(t,e){return new Dt(hr(t,e))}const Bz=function(){return iu(mt(),b())};let Dt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=Bz,t})();class hf{}let Bi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$z(),t})();const $z=function(){const t=b(),n=Qn(mt().index,t);return function(t){return t[11]}(ei(n)?n:t)};let N_=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),t})();class su{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const k_=new su("12.2.13");class CN{constructor(){}supports(e){return nl(e)}create(e){return new Wz(e)}}const Gz=(t,e)=>e;class Wz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<TN(r,i,s)?n:r,a=TN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!nl(e))throw new Error(`Error trying to diff '${re(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ha()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zz(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new IN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class IN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Kz,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class DN{constructor(){}supports(e){return e instanceof Map||p_(e)}create(){return new Qz}}class Qz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||p_(e)))throw new Error(`Error trying to diff '${re(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Yz(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Yz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AN(){return new ll([new CN])}let ll=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||AN()),deps:[[t,new ws,new Ae]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:AN}),t})();function SN(){return new ou([new DN])}let ou=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||SN()),deps:[[t,new ws,new Ae]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=$({token:t,providedIn:"root",factory:SN}),t})();function ff(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(st(s)),Rr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ff(u[1],u,c,r)}const o=n.type;if(8&o)ff(t,e,n.child,r);else if(32&o){const a=Ry(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ix(e,n);if(Array.isArray(a))r.push(...a);else{const u=Qc(e[16]);ff(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class dl{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return ff(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Rr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Py(e,r),lo(n,r))}this._attachedToViewContainer=!1}gx(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=sR(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&oR(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){n_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){i_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Eh(!0);try{i_(t,e,n)}finally{Eh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){Yc(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Xz extends dl{constructor(e){super(e),this._view=e}detectChanges(){iR(this._view)}checkNoChanges(){!function(t){Eh(!0);try{iR(t)}finally{Eh(!1)}}(this._view)}get context(){return null}}const e8=function(t){return function(t,e,n){if(mh(t)&&!n){const r=Qn(t.index,e);return new dl(r,r)}return 47&t.type?new dl(e[16],e):null}(mt(),b(),16==(16&t))};let O_=(()=>{class t{}return t.__NG_ELEMENT_ID__=e8,t})();const r8=[new DN],s8=new ll([new CN]),o8=new ou(r8),u8=function(){return function(t,e){return 4&t.type?new l8(e,t,iu(t,e)):null}(mt(),b())};let ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=u8,t})();const c8=ji,l8=class extends c8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Jc(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Xc(n,r,e),new dl(r)}};class pi{}class xN{}const f8=function(){return function(t,e){let n;const r=e[t.index];if(Rr(r))n=r;else{let i;if(8&t.type)i=st(r);else{const s=e[11];i=s.createComment("");const o=hr(t,e);go(s,Hh(s,o),i,function(t,e){return Qe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=rR(r,e,i,t),Yh(e,n)}return new RN(n,t,e)}(mt(),b())};let Vr=(()=>{class t{}return t.__NG_ELEMENT_ID__=f8,t})();const g8=Vr,RN=class extends g8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return iu(this._hostTNode,this._hostLView)}get injector(){return new Ta(this._hostTNode,this._hostLView)}get parentInjector(){const e=xh(this._hostTNode,this._hostLView);if(vS(e)){const n=Ia(e,this._hostLView),r=Ca(e);return new Ta(n[1].data[r+8],n)}return new Ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=MN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const u=o.get(pi,null);u&&(s=u)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return Rr(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new RN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Oh(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Vy(s,o),u=r[11],c=Hh(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Yc(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),Oh(P_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=MN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Py(this._lContainer,n);r&&(lo(P_(this._lContainer),n),gx(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Py(this._lContainer,n);return r&&null!=lo(P_(this._lContainer),n)?new dl(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function MN(t){return t[8]}function P_(t){return t[8]||(t[8]=[])}const lu={};class XN extends _o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=mn(e);return new ek(n,this.ngModule)}}function ZN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const d6=new z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ax});class ek extends vN{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(tG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return ZN(this.componentDef.inputs)}get outputs(){return ZN(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,lu,i);return s!==lu||r===lu?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(hf,rS),a=s.get(N_,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(Qe(t))return t.selectRootElement(e,n===gt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Oy(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||ax,clean:UG,playerHandler:e||null,flags:0}}(),f=Qh(0,null,null,1,0,null,null,null,null,null),p=Jc(null,f,h,d,null,null,o,u,a,s);let m,g;wh(p);try{const v=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=La(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Jh(u,c,!0),null!==t&&(Dh(i,t,c),null!==u.classes&&By(i,t,u.classes),null!==u.styles&&Ax(i,t,u.styles)));const l=r.createRenderer(t,e),d=Jc(n,Wx(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(Rh(Pc(u,n),o,e.type),eR(o,u),tR(u,n.length,1)),Yh(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Dh(u,l,["ng-version",k_.full]);else{const{attrs:_,classes:C}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Nr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&Dh(u,l,_),C&&C.length>0&&By(u,l,C.join(" "))}if(g=Jm(f,20),void 0!==n){const _=g.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const D=n[C];_.push(null!=D?Array.from(D):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=mt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),nR(t,r,e,Va(t,e,1,null),n));const i=Fc(e,t,r.directiveStart,r);nn(i,e);const s=hr(r,e);return s&&nn(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=mt();e.contentQueries(1,o,u.directiveStart)}const a=mt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_s(a.index),Xx(n[1],a,0,a.directiveStart,a.directiveEnd,e),Zx(e,o)),o}(v,this.componentDef,p,h,[d4]),Xc(f,p,null)}finally{bh()}return new p6(this.componentType,m,iu(g,p),p,g)}}class p6 extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Xz(i),this.componentType=e}get injector(){return new Ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const du=new Map;class y6 extends pi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XN(this);const r=cr(e),i=function(t){return t[yH]||null}(e);i&&I_(i),this._bootstrapComponents=oi(r.bootstrap),this._r3Injector=hR(e,n,[{provide:pi,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ge.THROW_IF_NOT_FOUND,r=U.Default){return e===ge||e===pi||e===Ba?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class K_ extends xN{constructor(e){super(),this.moduleType=e,null!==cr(e)&&function(t){const e=new Set;!function n(r){const i=cr(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${re(e)} vs ${re(e.name)}`)}(s,du.get(s),r),du.set(s,r));const o=oi(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new y6(this.moduleType,e)}}function Q_(t,e,n){const r=yn()+t,i=b();return i[r]===K?ui(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Y_(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return rn(t,o,i)?ui(t,o+1,s?r.call(s,i):r(i)):vl(t,o+1)}(b(),yn(),t,e,n,r)}function vl(t,e){const n=t[e];return n===K?void 0:n}function sk(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=mo(t,e,n,r);return rn(t,e+2,i)||s}(t,u,i,s,o)?ui(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):vl(t,u+3)}function As(t,e){const n=pe();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new no("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ao(r.type)),o=fs(I);try{const a=Sh(!1),u=s();return Sh(a),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,u),u}finally{fs(o)}}function J_(t,e,n,r){const i=t+20,s=b(),o=wa(s,i);return wl(s,El(s,i)?function(t,e,n,r,i,s,o){const a=e+n;return mo(t,a,i,s)?ui(t,a+2,o?r.call(o,i,s):r(i,s)):vl(t,a+2)}(s,yn(),e,o.transform,n,r,o):o.transform(n,r))}function hu(t,e,n,r,i){const s=t+20,o=b(),a=wa(o,s);return wl(o,El(o,s)?sk(o,yn(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function El(t,e){return t[1].data[e].pure}function wl(t,e){return Pr.isWrapped(e)&&(e=Pr.unwrap(e),t[G.lFrame.bindingIndex]=K),e}function X_(t){return e=>{setTimeout(t,void 0,e)}}const vt=class extends Sr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=X_(u),a&&(a=X_(a)),c&&(c=X_(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Te&&e.add(l),l}};Symbol;const Cl=new z("Application Initializer");let pu=(()=>{class t{constructor(n){this.appInits=n,this.resolve=df,this.reject=df,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(il(s))n.push(s);else if(tf(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(S(Cl,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Il=new z("AppId"),p7={provide:Il,useFactory:function(){return`${hv()}${hv()}${hv()}`},deps:[]};function hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rk=new z("Platform Initializer"),gu=new z("Platform ID"),Mk=new z("appBootstrapListener");let bf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Ss=new z("LocaleId"),Nk=new z("DefaultCurrencyCode");class m7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const fv=function(t){return new K_(t)},y7=fv,_7=function(t){return Promise.resolve(fv(t))},kk=function(t){const e=fv(t),r=oi(cr(t).declarations).reduce((i,s)=>{const o=mn(s);return o&&i.push(new ek(o)),i},[]);return new m7(e,r)},v7=kk,E7=function(t){return Promise.resolve(kk(t))};let wo=(()=>{class t{constructor(){this.compileModuleSync=y7,this.compileModuleAsync=_7,this.compileModuleAndAllComponentsSync=v7,this.compileModuleAndAllComponentsAsync=E7}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const C7=(()=>Promise.resolve(0))();function pv(t){"undefined"==typeof Zone?C7.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ce.requestAnimationFrame,e=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ce,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mv(t),t.isCheckStableRunning=!0,gv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ok(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Pk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ok(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Pk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,mv(t),gv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,T7,df,df);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const T7={};function gv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ok(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pk(t){t._nesting--,gv(t)}class S7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let yv=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(S(Le))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Fk=(()=>{class t{constructor(){this._applications=new Map,_v.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _v.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class x7{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let _v=new x7,Lk=!0,Vk=!1;let jr;const Bk=new z("AllowMultipleToken");class vv{constructor(e,n){this.name=e,this.token=n}}function jk(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=$k();if(!o||o.injector.get(Bk,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Zc,useValue:"platform"});!function(t){if(jr&&!jr.destroyed&&!jr.injector.get(Bk,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jr=t.get(Hk);const e=t.get(Rk,null);e&&e.forEach(n=>n())}(ge.create({providers:a,name:r}))}return function(t){const e=$k();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function $k(){return jr&&!jr.destroyed?jr:null}let Hk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new S7:("zone.js"===t?void 0:t)||new Le({enableLongStackTrace:(Vk=!0,Lk),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Le,useValue:a}];return a.run(()=>{const c=ge.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(po,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Ev(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return il(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(pu);return h.runInitializers(),h.donePromise.then(()=>(I_(l.injector.get(Ss,of)||of),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=qk({},r);return function(t,e,n){const r=new K_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(mu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${re(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(S(ge))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function qk(t,e){return Array.isArray(e)?e.reduce(qk,t):Object.assign(Object.assign({},t),e)}let mu=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Z(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Z(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),pv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return uh(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Z?t[0]:Ac(e)(Pm(t,n))}(a,u.pipe(t=>Fm()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(r,X$);return s.source=r,s.subjectFactory=i,s}}(rH)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof vN?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(pi),a=i.create(ge.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(yv,null),l=c&&a.injector.get(Fk);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Ev(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ev(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Mk,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(S(Le),S(ge),S(po),S(_o),S(pu))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function Ev(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class If{}class q7{}const G7={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let W7=(()=>{class t{constructor(n,r){this._compiler=n,this._config=r||G7}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,i]=n.split("#");return void 0===i&&(i="default"),Dr(255)(r).then(s=>s[i]).then(s=>Kk(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(n){let[r,i]=n.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),Dr(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>Kk(o,r,i))}}return t.\u0275fac=function(n){return new(n||t)(S(wo),S(q7,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function Kk(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const nK=jk(null,"core",[{provide:gu,useValue:"unknown"},{provide:Hk,deps:[ge]},{provide:Fk,deps:[]},{provide:bf,deps:[]}]),aK=[{provide:mu,useClass:mu,deps:[Le,ge,po,_o,pu]},{provide:d6,deps:[Le],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:pu,useClass:pu,deps:[[new Ae,Cl]]},{provide:wo,useClass:wo,deps:[]},p7,{provide:ll,useFactory:function(){return s8},deps:[]},{provide:ou,useFactory:function(){return o8},deps:[]},{provide:Ss,useFactory:function(t){return I_(t=t||"undefined"!=typeof $localize&&$localize.locale||of),t},deps:[[new Na(Ss),new Ae,new ws]]},{provide:Nk,useValue:"USD"}];let cK=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(S(mu))},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:aK}),t})(),Of=null;function gi(){return Of}const xt=new z("DocumentToken");let Io=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({factory:u5,token:t,providedIn:"platform"}),t})();function u5(){return S(_1)}const c5=new z("Location Initialized");let _1=(()=>{class t extends Io{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gi().getBaseHref(this._doc)}onPopState(n){const r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){v1()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){v1()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(S(xt))},t.\u0275prov=$({factory:l5,token:t,providedIn:"platform"}),t})();function v1(){return!!window.history.pushState}function l5(){return new _1(S(xt))}function Pv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function E1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hi(t){return t&&"?"!==t[0]?"?"+t:t}let vu=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({factory:d5,token:t,providedIn:"root"}),t})();function d5(t){const e=S(xt).location;return new w1(S(Io),e&&e.origin||"")}const Fv=new z("appBaseHref");let w1=(()=>{class t extends vu{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Hi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Hi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(S(Io),S(Fv,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),h5=(()=>{class t extends vu{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Pv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(S(Io),S(Fv,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),Pf=(()=>{class t{constructor(n,r){this._subject=new vt,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=E1(b1(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hi(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,b1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hi(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.\u0275fac=function(n){return new(n||t)(S(vu),S(Io))},t.normalizeQueryParams=Hi,t.joinWithSlash=Pv,t.stripTrailingSlash=E1,t.\u0275prov=$({factory:f5,token:t,providedIn:"root"}),t})();function f5(){return new Pf(S(vu),S(Io))}function b1(t){return t.replace(/\/index.html$/,"")}var ot=(()=>((ot=ot||{})[ot.Zero=0]="Zero",ot[ot.One=1]="One",ot[ot.Two=2]="Two",ot[ot.Few=3]="Few",ot[ot.Many=4]="Many",ot[ot.Other=5]="Other",ot))(),rt=(()=>((rt=rt||{})[rt.Format=0]="Format",rt[rt.Standalone=1]="Standalone",rt))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),ze=(()=>((ze=ze||{})[ze.Short=0]="Short",ze[ze.Medium=1]="Medium",ze[ze.Long=2]="Long",ze[ze.Full=3]="Full",ze))(),B=(()=>((B=B||{})[B.Decimal=0]="Decimal",B[B.Group=1]="Group",B[B.List=2]="List",B[B.PercentSign=3]="PercentSign",B[B.PlusSign=4]="PlusSign",B[B.MinusSign=5]="MinusSign",B[B.Exponential=6]="Exponential",B[B.SuperscriptingExponent=7]="SuperscriptingExponent",B[B.PerMille=8]="PerMille",B[B.Infinity=9]="Infinity",B[B.NaN=10]="NaN",B[B.TimeSeparator=11]="TimeSeparator",B[B.CurrencyDecimal=12]="CurrencyDecimal",B[B.CurrencyGroup=13]="CurrencyGroup",B))();function Ff(t,e){return Er(En(t)[N.DateFormat],e)}function Lf(t,e){return Er(En(t)[N.TimeFormat],e)}function Vf(t,e){return Er(En(t)[N.DateTimeFormat],e)}function vr(t,e){const n=En(t),r=n[N.NumberSymbols][e];if(void 0===r){if(e===B.CurrencyDecimal)return n[N.NumberSymbols][B.Decimal];if(e===B.CurrencyGroup)return n[N.NumberSymbols][B.Group]}return r}const w5=function(t){return En(t)[N.PluralCase]};function I1(t){if(!t[N.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[N.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Er(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Vv(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const A5=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xl={},S5=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Et=(()=>((Et=Et||{})[Et.Short=0]="Short",Et[Et.ShortGMT=1]="ShortGMT",Et[Et.Long=2]="Long",Et[Et.Extended=3]="Extended",Et))(),H=(()=>((H=H||{})[H.FullYear=0]="FullYear",H[H.Month=1]="Month",H[H.Date=2]="Date",H[H.Hours=3]="Hours",H[H.Minutes=4]="Minutes",H[H.Seconds=5]="Seconds",H[H.FractionalSeconds=6]="FractionalSeconds",H[H.Day=7]="Day",H))(),ne=(()=>((ne=ne||{})[ne.DayPeriods=0]="DayPeriods",ne[ne.Days=1]="Days",ne[ne.Months=2]="Months",ne[ne.Eras=3]="Eras",ne))();function x5(t,e,n,r){let i=function(t){if(A1(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Uf(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(A5))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!A1(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=qi(n,e)||e;let a,o=[];for(;e;){if(a=S5.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=D1(r,u),i=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(D1(e,i)-i))}(i,r));let c="";return o.forEach(l=>{const d=function(t){if(Bv[t])return Bv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Oe(ne.Eras,ae.Abbreviated);break;case"GGGG":e=Oe(ne.Eras,ae.Wide);break;case"GGGGG":e=Oe(ne.Eras,ae.Narrow);break;case"y":e=at(H.FullYear,1,0,!1,!0);break;case"yy":e=at(H.FullYear,2,0,!0,!0);break;case"yyy":e=at(H.FullYear,3,0,!1,!0);break;case"yyyy":e=at(H.FullYear,4,0,!1,!0);break;case"Y":e=Hf(1);break;case"YY":e=Hf(2,!0);break;case"YYY":e=Hf(3);break;case"YYYY":e=Hf(4);break;case"M":case"L":e=at(H.Month,1,1);break;case"MM":case"LL":e=at(H.Month,2,1);break;case"MMM":e=Oe(ne.Months,ae.Abbreviated);break;case"MMMM":e=Oe(ne.Months,ae.Wide);break;case"MMMMM":e=Oe(ne.Months,ae.Narrow);break;case"LLL":e=Oe(ne.Months,ae.Abbreviated,rt.Standalone);break;case"LLLL":e=Oe(ne.Months,ae.Wide,rt.Standalone);break;case"LLLLL":e=Oe(ne.Months,ae.Narrow,rt.Standalone);break;case"w":e=Uv(1);break;case"ww":e=Uv(2);break;case"W":e=Uv(1,!0);break;case"d":e=at(H.Date,1);break;case"dd":e=at(H.Date,2);break;case"c":case"cc":e=at(H.Day,1);break;case"ccc":e=Oe(ne.Days,ae.Abbreviated,rt.Standalone);break;case"cccc":e=Oe(ne.Days,ae.Wide,rt.Standalone);break;case"ccccc":e=Oe(ne.Days,ae.Narrow,rt.Standalone);break;case"cccccc":e=Oe(ne.Days,ae.Short,rt.Standalone);break;case"E":case"EE":case"EEE":e=Oe(ne.Days,ae.Abbreviated);break;case"EEEE":e=Oe(ne.Days,ae.Wide);break;case"EEEEE":e=Oe(ne.Days,ae.Narrow);break;case"EEEEEE":e=Oe(ne.Days,ae.Short);break;case"a":case"aa":case"aaa":e=Oe(ne.DayPeriods,ae.Abbreviated);break;case"aaaa":e=Oe(ne.DayPeriods,ae.Wide);break;case"aaaaa":e=Oe(ne.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=Oe(ne.DayPeriods,ae.Abbreviated,rt.Standalone,!0);break;case"bbbb":e=Oe(ne.DayPeriods,ae.Wide,rt.Standalone,!0);break;case"bbbbb":e=Oe(ne.DayPeriods,ae.Narrow,rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Oe(ne.DayPeriods,ae.Abbreviated,rt.Format,!0);break;case"BBBB":e=Oe(ne.DayPeriods,ae.Wide,rt.Format,!0);break;case"BBBBB":e=Oe(ne.DayPeriods,ae.Narrow,rt.Format,!0);break;case"h":e=at(H.Hours,1,-12);break;case"hh":e=at(H.Hours,2,-12);break;case"H":e=at(H.Hours,1);break;case"HH":e=at(H.Hours,2);break;case"m":e=at(H.Minutes,1);break;case"mm":e=at(H.Minutes,2);break;case"s":e=at(H.Seconds,1);break;case"ss":e=at(H.Seconds,2);break;case"S":e=at(H.FractionalSeconds,1);break;case"SS":e=at(H.FractionalSeconds,2);break;case"SSS":e=at(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=jf(Et.Short);break;case"ZZZZZ":e=jf(Et.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jf(Et.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=jf(Et.Long);break;default:return null}return Bv[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Uf(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function qi(t,e){const n=function(t){return En(t)[N.LocaleId]}(t);if(xl[n]=xl[n]||{},xl[n][e])return xl[n][e];let r="";switch(e){case"shortDate":r=Ff(t,ze.Short);break;case"mediumDate":r=Ff(t,ze.Medium);break;case"longDate":r=Ff(t,ze.Long);break;case"fullDate":r=Ff(t,ze.Full);break;case"shortTime":r=Lf(t,ze.Short);break;case"mediumTime":r=Lf(t,ze.Medium);break;case"longTime":r=Lf(t,ze.Long);break;case"fullTime":r=Lf(t,ze.Full);break;case"short":const i=qi(t,"shortTime"),s=qi(t,"shortDate");r=Bf(Vf(t,ze.Short),[i,s]);break;case"medium":const o=qi(t,"mediumTime"),a=qi(t,"mediumDate");r=Bf(Vf(t,ze.Medium),[o,a]);break;case"long":const u=qi(t,"longTime"),c=qi(t,"longDate");r=Bf(Vf(t,ze.Long),[u,c]);break;case"full":const l=qi(t,"fullTime"),d=qi(t,"fullDate");r=Bf(Vf(t,ze.Full),[l,d])}return r&&(xl[n][e]=r),r}function Bf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function qr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function at(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return function(t,e){return qr(t,3).substr(0,e)}(a,e);const u=vr(o,B.MinusSign);return qr(a,e,u,r,i)}}function Oe(t,e,n=rt.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case ne.Months:return function(t,e,n){const r=En(t),s=Er([r[N.MonthsFormat],r[N.MonthsStandalone]],e);return Er(s,n)}(e,i,r)[t.getMonth()];case ne.Days:return function(t,e,n){const r=En(t),s=Er([r[N.DaysFormat],r[N.DaysStandalone]],e);return Er(s,n)}(e,i,r)[t.getDay()];case ne.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function(t){const e=En(t);return I1(e),(e[N.ExtraData][2]||[]).map(r=>"string"==typeof r?Vv(r):[Vv(r[0]),Vv(r[1])])}(e),l=function(t,e,n){const r=En(t);I1(r);const s=Er([r[N.ExtraData][0],r[N.ExtraData][1]],e)||[];return Er(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,m=o>=f.hours&&a>=f.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function(t,e,n){const r=En(t),s=Er([r[N.DayPeriodsFormat],r[N.DayPeriodsStandalone]],e);return Er(s,n)}(e,i,r)[o<12?0:1];case ne.Eras:return function(t,e){return Er(En(t)[N.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function jf(t){return function(e,n,r){const i=-1*r,s=vr(n,B.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Et.Short:return(i>=0?"+":"")+qr(o,2,s)+qr(Math.abs(i%60),2,s);case Et.ShortGMT:return"GMT"+(i>=0?"+":"")+qr(o,1,s);case Et.Long:return"GMT"+(i>=0?"+":"")+qr(o,2,s)+":"+qr(Math.abs(i%60),2,s);case Et.Extended:return 0===r?"Z":(i>=0?"+":"")+qr(o,2,s)+":"+qr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function T1(t){return Uf(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Uv(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=T1(n),o=function(t){const e=Uf(t,0,1).getDay();return Uf(t,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return qr(i,t,vr(r,B.MinusSign))}}function Hf(t,e=!1){return function(n,r){return qr(T1(n).getFullYear(),t,vr(r,B.MinusSign),e)}}const Bv={};function D1(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function A1(t){return t instanceof Date&&!isNaN(t.valueOf())}class Gf{}let Y5=(()=>{class t extends Gf{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(w5(r||this.locale)(n)){case ot.Zero:return"zero";case ot.One:return"one";case ot.Two:return"two";case ot.Few:return"few";case ot.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(S(Ss))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function M1(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class Z5{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gv=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new Z5(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new N1(i,a);r.push(u)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const u=new N1(i,a);r.push(u)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(Vr),I(ji),I(ll))},t.\u0275dir=j({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N1{constructor(e,n){this.record=e,this.view=n}}let Wv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new tQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){k1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){k1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(Vr),I(ji))},t.\u0275dir=j({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class tQ{constructor(){this.$implicit=null,this.ngIf=null}}function k1(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${re(e)}'.`)}function Gr(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${re(t)}'`)}let P1=(()=>{class t{constructor(n){this.locale=n}transform(n,r="mediumDate",i,s){if(null==n||""===n||n!=n)return null;try{return x5(n,r,s||this.locale,i)}catch(o){throw Gr(t,o.message)}}}return t.\u0275fac=function(n){return new(n||t)(I(Ss,16))},t.\u0275pipe=gn({name:"date",type:t,pure:!0}),t})(),Jv=(()=>{class t{transform(n,r,i){if(null==n)return null;if(!this.supports(n))throw Gr(t,n);return n.slice(r,i)}supports(n){return"string"==typeof n||Array.isArray(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=gn({name:"slice",type:t,pure:!1}),t})(),TQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[{provide:Gf,useClass:Y5}]}),t})();let V1=(()=>{class t{}return t.\u0275prov=$({token:t,providedIn:"root",factory:()=>new xQ(S(xt),window)}),t})();class xQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=U1(this.window.history)||U1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function U1(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B1{}class Xv extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Of||(Of=t)}(new Xv)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null);return null==n?null:function(t){Wf=Wf||document.createElement("a"),Wf.setAttribute("href",t);const e=Wf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return M1(document.cookie,e)}}let Wf,Ml=null;const j1=new z("TRANSITION_ID"),PQ=[{provide:Cl,useFactory:function(t,e,n){return()=>{n.get(pu).donePromise.then(()=>{const r=gi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[j1,xt,ge],multi:!0}];class Zv{static init(){!function(t){_v=t}(new Zv)}addToWindow(e){Ce.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ce.getAllAngularRootElements=()=>e.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(r=>{const i=Ce.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?gi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let FQ=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Nl=new z("EventManagerPlugins");let Kf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(S(Nl),S(Le))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class eE{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=gi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let H1=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),kl=(()=>{class t extends H1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(q1),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(q1))}}return t.\u0275fac=function(n){return new(n||t)(S(xt))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function q1(t){gi().remove(t)}const tE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nE=/%COMP%/g;function Qf(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Qf(t,i,n):(i=i.replace(nE,t),n.push(i))}return n}function z1(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rE=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new iE(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case gt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new JQ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case gt.ShadowDom:return new XQ(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Qf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(S(Kf),S(kl),S(Il))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class iE{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(tE[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=tE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=tE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,r,i&Xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,z1(r)):this.eventManager.addEventListener(e,n,z1(r))}}class JQ extends iE{constructor(e,n,r,i){super(e),this.component=r;const s=Qf(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(nE,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nE,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class XQ extends iE{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Qf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ZQ=(()=>{class t extends eE{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(S(xt))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const Y1=["alt","control","meta","shift"],o9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},a9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let u9=(()=>{class t extends eE{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Y1.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&J1.hasOwnProperty(e)&&(e=J1[e]))}return o9[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Y1.forEach(s=>{s!=i&&a9[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(S(xt))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const m9=jk(nK,"browser",[{provide:gu,useValue:"browser"},{provide:Rk,useValue:function(){Xv.makeCurrent(),Zv.init()},multi:!0},{provide:xt,useFactory:function(){return function(t){Qm=t}(document),document},deps:[]}]),y9=[[],{provide:Zc,useValue:"root"},{provide:po,useFactory:function(){return new po},deps:[]},{provide:Nl,useClass:ZQ,multi:!0,deps:[xt,Le,gu]},{provide:Nl,useClass:u9,multi:!0,deps:[xt]},[],{provide:rE,useClass:rE,deps:[Kf,kl,Il]},{provide:hf,useExisting:rE},{provide:H1,useExisting:kl},{provide:kl,useClass:kl,deps:[xt]},{provide:yv,useClass:yv,deps:[Le]},{provide:Kf,useClass:Kf,deps:[Nl,Le]},{provide:B1,useClass:FQ,deps:[]},[]];let _9=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Il,useValue:n.appId},{provide:j1,useExisting:Il},PQ]}}}return t.\u0275fac=function(n){return new(n||t)(S(t,12))},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:y9,imports:[TQ,cK]}),t})();function X(...t){let e=t[t.length-1];return uh(e)?(t.pop(),Mm(t,e)):Pm(t)}function Eu(t,e){return Bt(t,e,1)}function To(t,e){return function(r){return r.lift(new D9(t,e))}}"undefined"!=typeof window&&window;class D9{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new A9(e,this.predicate,this.thisArg))}}class A9 extends De{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}class Z1{}class eO{}class Gi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Gi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Gi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Gi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class S9{encodeKey(e){return tO(e)}encodeValue(e){return tO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const R9=/%(\d[a-f0-9])/gi,M9={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tO(t){return encodeURIComponent(t).replace(R9,(e,n)=>{var r;return null!==(r=M9[n])&&void 0!==r?r:e})}function nO(t){return`${t}`}class Ms{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new S9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ms({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(nO(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(nO(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class N9{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function rO(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function iO(t){return"undefined"!=typeof Blob&&t instanceof Blob}function sO(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ol{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Gi),this.context||(this.context=new N9),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ms,this.urlWithParams=n}serializeBody(){return null===this.body?null:rO(this.body)||iO(this.body)||sO(this.body)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ms?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sO(this.body)?null:iO(this.body)?this.body.type||null:rO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ms?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new Ol(r,i,o,{params:l,headers:c,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var ut=(()=>((ut=ut||{})[ut.Sent=0]="Sent",ut[ut.UploadProgress=1]="UploadProgress",ut[ut.ResponseHeader=2]="ResponseHeader",ut[ut.DownloadProgress=3]="DownloadProgress",ut[ut.Response=4]="Response",ut[ut.User=5]="User",ut))();class cE{constructor(e,n=200,r="OK"){this.headers=e.headers||new Gi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lE extends cE{constructor(e={}){super(e),this.type=ut.ResponseHeader}clone(e={}){return new lE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Yf extends cE{constructor(e={}){super(e),this.type=ut.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Yf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oO extends cE{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dE(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let P9=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Ol)s=n;else{let u,c;u=i.headers instanceof Gi?i.headers:new Gi(i.headers),i.params&&(c=i.params instanceof Ms?i.params:new Ms({fromObject:i.params})),s=new Ol(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=X(s).pipe(Eu(u=>this.handler.handle(u)));if(n instanceof Ol||"events"===i.observe)return o;const a=o.pipe(To(u=>u instanceof Yf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(_e(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(_e(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(_e(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(_e(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ms).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,dE(i,r))}post(n,r,i={}){return this.request("POST",n,dE(i,r))}put(n,r,i={}){return this.request("PUT",n,dE(i,r))}}return t.\u0275fac=function(n){return new(n||t)(S(Z1))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();class aO{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const uO=new z("HTTP_INTERCEPTORS");let F9=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const L9=/^\)\]\}',?\n/;let cO=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Z(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",m=new Gi(i.getAllResponseHeaders()),g=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new lE({headers:m,status:f,statusText:p,url:g}),o},u=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),v=null;204!==p&&(v=void 0===i.response?i.responseText:i.response),0===p&&(p=v?200:0);let _=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof v){const C=v;v=v.replace(L9,"");try{v=""!==v?JSON.parse(v):null}catch(D){v=C,_&&(_=!1,v={error:D,text:v})}}_?(r.next(new Yf({body:v,headers:f,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new oO({error:v,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new oO({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:ut.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:ut.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:ut.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(S(B1))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const hE=new z("XSRF_COOKIE_NAME"),fE=new z("XSRF_HEADER_NAME");class lO{}let U9=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=M1(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(S(xt),S(gu),S(hE))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),pE=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(S(lO),S(fE))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),B9=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(uO,[]);this.chain=r.reduceRight((i,s)=>new aO(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(S(eO),S(ge))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),j9=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:pE,useClass:F9}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:hE,useValue:n.cookieName}:[],n.headerName?{provide:fE,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[pE,{provide:uO,useExisting:pE,multi:!0},{provide:lO,useClass:U9},{provide:hE,useValue:"XSRF-TOKEN"},{provide:fE,useValue:"X-XSRF-TOKEN"}]}),t})(),$9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[P9,{provide:Z1,useClass:B9},cO,{provide:eO,useExisting:cO}],imports:[[j9.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Jf(t,e){return new Z(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Ut(t[a]);let c=!1;n.add(u.subscribe({next:l=>{c||(c=!0,o++),i[a]=l},error:l=>n.error(l),complete:()=>{s++,(s===r||!c)&&(o===r&&n.next(e?e.reduce((l,d,h)=>(l[d]=i[h],l),{}):i),n.complete())}}))}})}let dO=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(Bi),I(Dt))},t.\u0275dir=j({type:t}),t})(),Do=(()=>{class t extends dO{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=j({type:t,features:[Fe]}),t})();const mi=new z("NgValueAccessor"),G9={provide:mi,useExisting:Ne(()=>Pl),multi:!0},z9=new z("CompositionEventMode");let Pl=(()=>{class t extends dO{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=gi()?gi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Bi),I(Dt),I(z9,8))},t.\u0275dir=j({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&qe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[je([G9]),Fe]}),t})();function Ns(t){return null==t||0===t.length}function fO(t){return null!=t&&"number"==typeof t.length}const an=new z("NgValidators"),ks=new z("NgAsyncValidators"),K9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pO{static min(e){return function(t){return e=>{if(Ns(e.value)||Ns(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function(t){return e=>{if(Ns(e.value)||Ns(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function(t){return Ns(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function(t){return Ns(t.value)||K9.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function(t){return e=>Ns(e.value)||!fO(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(t){return e=>fO(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(t){if(!t)return Os;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ns(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return SO(e)}static composeAsync(e){return xO(e)}}function Os(t){return null}function CO(t){return null!=t}function IO(t){const e=il(t)?Ut(t):t;return tf(e),e}function TO(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function DO(t,e){return e.map(n=>n(t))}function AO(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function SO(t){if(!t)return null;const e=t.filter(CO);return 0==e.length?null:function(n){return TO(DO(n,e))}}function gE(t){return null!=t?SO(AO(t)):null}function xO(t){if(!t)return null;const e=t.filter(CO);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if(Mi(e))return Jf(e,null);if(ds(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return Jf(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Jf(t=1===t.length&&Mi(t[0])?t[0]:t,null).pipe(_e(n=>e(...n)))}return Jf(t,null)}(DO(n,e).map(IO)).pipe(_e(TO))}}function mE(t){return null!=t?xO(AO(t)):null}function RO(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function MO(t){return t._rawValidators}function NO(t){return t._rawAsyncValidators}function yE(t){return t?Array.isArray(t)?t:[t]:[]}function Xf(t,e){return Array.isArray(t)?t.includes(e):t===e}function kO(t,e){const n=yE(e);return yE(t).forEach(i=>{Xf(n,i)||n.push(i)}),n}function OO(t,e){return yE(e).filter(n=>!Xf(t,n))}let PO=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=gE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=mE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=j({type:t}),t})(),Cn=(()=>{class t extends PO{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=j({type:t,features:[Fe]}),t})();class Ps extends PO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FO{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let _E=(()=>{class t extends FO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Ps,2))},t.\u0275dir=j({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&nf("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Fe]}),t})(),LO=(()=>{class t extends FO{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Cn,10))},t.\u0275dir=j({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&nf("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Fe]}),t})();function ep(t,e){return[...e.path,t]}function Fl(t,e){wE(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&VO(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&VO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function tp(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function np(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wE(t,e){const n=MO(t);null!==e.validator?t.setValidators(RO(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=NO(t);null!==e.asyncValidator?t.setAsyncValidators(RO(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();np(e._rawValidators,i),np(e._rawAsyncValidators,i)}function rp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=MO(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=NO(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return np(e._rawValidators,r),np(e._rawAsyncValidators,r),n}function VO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function CE(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Pl?n=s:function(t){return Object.getPrototypeOf(t.constructor)===Do}(s)?r=s:i=s}),i||r||n||null}function ip(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ll="VALID",sp="INVALID",wu="PENDING",Vl="DISABLED";function IE(t){return(DE(t)?t.validators:t)||null}function jO(t){return Array.isArray(t)?gE(t):t||null}function TE(t,e){return(DE(e)?e.asyncValidators:t)||null}function $O(t){return Array.isArray(t)?mE(t):t||null}function DE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class AE{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=jO(this._rawValidators),this._composedAsyncValidatorFn=$O(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ll}get invalid(){return this.status===sp}get pending(){return this.status==wu}get disabled(){return this.status===Vl}get enabled(){return this.status!==Vl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$O(e)}addValidators(e){this.setValidators(kO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OO(e,this._rawAsyncValidators))}hasValidator(e){return Xf(this._rawValidators,e)}hasAsyncValidator(e){return Xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Vl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ll,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ll||this.status===wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vl:Ll}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator=!0;const n=IO(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof Ul?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof SE&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?Vl:this.errors?sp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(sp)?sp:Ll}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){DE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bu extends AE{constructor(e=null,n,r){super(IE(n),TE(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ip(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ip(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ul extends AE{constructor(e,n,r){super(IE(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof bu?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class SE extends AE{constructor(e,n,r){super(IE(n),TE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof bu?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cY={provide:Ps,useExisting:Ne(()=>RE)},GO=(()=>Promise.resolve(null))();let RE=(()=>{class t extends Ps{constructor(n,r,i,s){super(),this.control=new bu,this._registered=!1,this.update=new vt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CE(0,s)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),bE(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ep(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){GO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;GO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(I(Cn,9),I(an,10),I(ks,10),I(mi,10))},t.\u0275dir=j({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([cY]),Fe,tn]}),t})(),WO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=j({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),KO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({}),t})();const ME=new z("NgModelWithFormControlWarning"),gY={provide:Cn,useExisting:Ne(()=>op)};let op=(()=>{class t extends Cn{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new vt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Fl(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){tp(n.control||null,n,!1),ip(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(tp(r||null,n),i instanceof bu&&(Fl(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function(t,e){wE(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function(t,e){return rp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wE(this.form,this),this._oldForm&&rp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(I(an,10),I(ks,10))},t.\u0275dir=j({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&qe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[je([gY]),Fe,tn]}),t})();const _Y={provide:Ps,useExisting:Ne(()=>OE)};let OE=(()=>{class t extends Ps{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new vt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CE(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),bE(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ep(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(n){return new(n||t)(I(Cn,13),I(an,10),I(ks,10),I(mi,10),I(ME,8))},t.\u0275dir=j({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[je([_Y]),Fe,tn]}),t._ngModelWarningSentOnce=!1,t})(),lP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({imports:[[KO]]}),t})(),kY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({imports:[lP]}),t})(),dP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ME,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({imports:[lP]}),t})(),PY=(()=>{class t{group(n,r=null){const i=this._reduceControls(n);let a,s=null,o=null;return null!=r&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new Ul(i,{asyncValidators:o,updateOn:a,validators:s})}control(n,r,i){return new bu(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new SE(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof bu||n instanceof Ul||n instanceof SE?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=$({factory:function(){return new t},token:t,providedIn:dP}),t})();class Wr extends Sr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ga;return this._value}next(e){super.next(this._value=e)}}class FY extends De{notifyNext(e,n,r,i,s){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class LY extends De{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function VY(t,e,n,r,i=new LY(t,n,r)){if(!i.closed)return e instanceof Z?e.subscribe(i):Rm(e)(i)}const hP={};class BY{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new jY(e,this.resultSelector))}}class jY extends FY{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(hP),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(VY(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const i=this.values,o=this.toRespond?i[r]===hP?--this.toRespond:this.toRespond:0;i[r]=n,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const ap=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function VE(...t){return Ac(1)(X(...t))}const Cu=new Z(t=>t.complete());function up(t){return t?function(t){return new Z(e=>t.schedule(()=>e.complete()))}(t):Cu}function fP(t){return new Z(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Ut(n):up()).subscribe(e)})}function Fs(t,e){return"function"==typeof e?n=>n.pipe(Fs((r,i)=>Ut(t(r,i)).pipe(_e((s,o)=>e(r,s,i,o))))):n=>n.lift(new qY(t))}class qY{constructor(e){this.project=e}call(e,n){return n.subscribe(new GY(e,this.project))}}class GY extends km{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new Nm(this),i=this.destination;i.add(r),this.innerSubscription=Om(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const pP=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function UE(t){return e=>0===t?up():e.lift(new WY(t))}class WY{constructor(e){if(this.total=e,this.total<0)throw new pP}call(e,n){return n.subscribe(new zY(e,this.total))}}class zY extends De{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function gP(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new QY(t,e,n))}}class QY{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new YY(e,this.accumulator,this.seed,this.hasSeed))}}class YY extends De{constructor(e,n,r,i){super(e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Ao(t){return function(n){const r=new JY(t),i=n.lift(r);return r.caught=i}}class JY{constructor(e){this.selector=e}call(e,n){return n.subscribe(new XY(e,this.selector,this.caught))}}class XY extends km{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new Nm(this);this.add(r);const i=Om(n,r);i!==r&&this.add(i)}}}function BE(t){return function(n){return 0===t?up():n.lift(new ZY(t))}}class ZY{constructor(e){if(this.total=e,this.total<0)throw new pP}call(e,n){return n.subscribe(new eJ(e,this.total))}}class eJ extends De{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,i=this.count++;n.length<r?n.push(e):n[i%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=n++%r;e.next(i[o])}}e.complete()}}function mP(t=rJ){return e=>e.lift(new tJ(t))}class tJ{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new nJ(e,this.errorFactory))}}class nJ extends De{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function rJ(){return new ap}function yP(t=null){return e=>e.lift(new iJ(t))}class iJ{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new sJ(e,this.defaultValue))}}class sJ extends De{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Iu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?To((i,s)=>t(i,s,r)):he,UE(1),n?yP(e):mP(()=>new ap))}function Ls(){}function On(t,e,n){return function(i){return i.lift(new aJ(t,e,n))}}class aJ{constructor(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}call(e,n){return n.subscribe(new uJ(e,this.nextOrObserver,this.error,this.complete))}}class uJ extends De{constructor(e,n,r,i){super(e),this._tapNext=Ls,this._tapError=Ls,this._tapComplete=Ls,this._tapError=r||Ls,this._tapComplete=i||Ls,qn(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||Ls,this._tapError=n.error||Ls,this._tapComplete=n.complete||Ls)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class lJ{constructor(e){this.callback=e}call(e,n){return n.subscribe(new dJ(e,this.callback))}}class dJ extends De{constructor(e,n){super(e),this.add(new Te(n))}}class Wi{constructor(e,n){this.id=e,this.url=n}}class jE extends Wi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jl extends Wi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _P extends Wi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hJ extends Wi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fJ extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pJ extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gJ extends Wi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mJ extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yJ extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vP{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _J{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vJ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EJ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wJ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class bJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Tu(t){return new bJ(t)}const bP="ngNavigationCancelingError";function $E(t){const e=Error("NavigationCancelingError: "+t);return e[bP]=!0,e}function IJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!CP(t[i],e[i]))return!1;return!0}function CP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function IP(t){return Array.prototype.concat.apply([],t)}function TP(t){return t.length>0?t[t.length-1]:null}function Ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _i(t){return tf(t)?t:il(t)?Ut(Promise.resolve(t)):X(t)}const AJ={exact:function SP(t,e,n){if(!xo(t.segments,e.segments)||!cp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!SP(t.children[r],e.children[r],n))return!1;return!0},subset:xP},DP={exact:function(t,e){return yi(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CP(t[n],e[n]))},ignored:()=>!0};function AP(t,e,n){return AJ[n.paths](t.root,e.root,n.matrixParams)&&DP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xP(t,e,n){return RP(t,e,e.segments,n)}function RP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!xo(i,n)||e.hasChildren()||!cp(i,n,r))}if(t.segments.length===n.length){if(!xo(t.segments,n)||!cp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(xo(t.segments,i)&&cp(t.segments,i,r)&&t.children[oe])&&RP(t.children[oe],e,s,r)}}function cp(t,e,n){return e.every((r,i)=>DP[n](t[i].parameters,r.parameters))}class So{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return NJ.serialize(this)}}class le{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ht(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lp(this)}}class $l{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Tu(this.parameters)),this._parameterMap}toString(){return OP(this)}}function xo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class HE{}class MP{parse(e){const n=new jJ(e);return new So(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${Hl(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${dp(n)}=${dp(i)}`).join("&"):`${dp(n)}=${dp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const NJ=new MP;function lp(t){return t.segments.map(e=>OP(e)).join("/")}function Hl(t,e){if(!t.hasChildren())return lp(t);if(e){const n=t.children[oe]?Hl(t.children[oe],!1):"",r=[];return Ht(t.children,(i,s)=>{s!==oe&&r.push(`${s}:${Hl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ht(t.children,(r,i)=>{i===oe&&(n=n.concat(e(r,i)))}),Ht(t.children,(r,i)=>{i!==oe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===oe?[Hl(t.children[oe],!1)]:[`${i}:${Hl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[oe]?`${lp(t)}/${n[0]}`:`${lp(t)}/(${n.join("//")})`}}function NP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dp(t){return NP(t).replace(/%3B/gi,";")}function qE(t){return NP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hp(t){return decodeURIComponent(t)}function kP(t){return hp(t.replace(/\+/g,"%20"))}function OP(t){return`${qE(t.path)}${function(t){return Object.keys(t).map(e=>`;${qE(e)}=${qE(t[e])}`).join("")}(t.parameters)}`}const FJ=/^[^\/()?;=#]+/;function fp(t){const e=t.match(FJ);return e?e[0]:""}const LJ=/^[^=?&#]+/,UJ=/^[^?&#]+/;class jJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new le(e,n)),r}parseSegment(){const e=fp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $l(hp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=fp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fp(this.remaining);i&&(r=i,this.capture(r))}e[hp(n)]=hp(r)}parseQueryParam(e){const n=function(t){const e=t.match(LJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(UJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=kP(n),s=kP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[oe]:new le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class PP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=GE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=GE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=WE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return WE(e,this._root).map(n=>n.value)}}function GE(t,e){if(t===e.value)return e;for(const n of e.children){const r=GE(t,n);if(r)return r}return null}function WE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=WE(t,n);if(r.length)return r.unshift(e),r}return[]}class zi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ql(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class FP extends PP{constructor(e,n){super(e),this.snapshot=n,zE(this,e)}toString(){return this.snapshot.toString()}}function LP(t,e){const n=function(t,e){const o=new pp([],{},{},"",{},oe,e,null,t.root,-1,{});return new UP("",new zi(o,[]))}(t,e),r=new Wr([new $l("",{})]),i=new Wr({}),s=new Wr({}),o=new Wr({}),a=new Wr(""),u=new Ro(r,i,o,a,s,oe,e,n.root);return u.snapshot=n.root,new FP(new zi(u,[]),n)}class Ro{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Tu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Tu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class pp{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UP extends PP{constructor(e,n){super(n),this.url=e,zE(this,n)}toString(){return BP(this._root)}}function zE(t,e){e.value._routerState=t,e.children.forEach(n=>zE(t,n))}function BP(t){const e=t.children.length>0?` { ${t.children.map(BP).join(", ")} } `:"";return`${t.value}${e}`}function KE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yi(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yi(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yi(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function QE(t,e){return yi(t.params,e.params)&&function(t,e){return xo(t,e)&&t.every((n,r)=>yi(n.parameters,e[r].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||QE(t.parent,e.parent))}function gp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gp(t,r,i);return gp(t,r)})}(t,e,n);return new zi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return jP(e,o),o}}const r=function(t){return new Ro(new Wr(t.url),new Wr(t.params),new Wr(t.queryParams),new Wr(t.fragment),new Wr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>gp(t,s));return new zi(r,i)}}function jP(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)jP(t.children[n],e.children[n])}function mp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gl(t){return"object"==typeof t&&null!=t&&t.outlets}function YE(t,e,n,r,i){let s={};return r&&Ht(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new So(n.root===t?e:$P(n.root,t,e),s,i)}function $P(t,e,n){const r={};return Ht(t.children,(i,s)=>{r[s]=i===e?n:$P(i,e,n)}),new le(t.segments,r)}class HP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mp(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Gl);if(i&&i!==TP(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JE{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function qP(t,e,n){if(t||(t=new le([],{})),0===t.segments.length&&t.hasChildren())return yp(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Gl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!WP(u,c,o))return s;r+=2}else{if(!WP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new le(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new le(t.segments.slice(r.pathIndex),t.children),yp(s,0,i)}return r.match&&0===i.length?new le(t.segments,{}):r.match&&!t.hasChildren()?XE(t,e,n):r.match?yp(t,0,i):XE(t,e,n)}function yp(t,e,n){if(0===n.length)return new le(t.segments,{});{const r=function(t){return Gl(t[0])?t[0].outlets:{[oe]:t}}(n),i={};return Ht(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=qP(t.children[o],e,s))}),Ht(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(t.segments,i)}}function XE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Gl(s)){const u=ZJ(s.outlets);return new le(r,u)}if(0===i&&mp(n[0])){r.push(new $l(t.segments[e].path,GP(n[0]))),i++;continue}const o=Gl(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mp(a)?(r.push(new $l(o,GP(a))),i+=2):(r.push(new $l(o,{})),i++)}return new le(r,{})}function ZJ(t){const e={};return Ht(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=XE(new le([],{}),0,n))}),e}function GP(t){const e={};return Ht(t,(n,r)=>e[r]=`${n}`),e}function WP(t,e,n){return t==n.path&&yi(e,n.parameters)}class tX{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),KE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ql(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ht(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ql(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ql(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new wJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(KE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zP(a.route)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function zP(t){KE(t.value),t.children.forEach(zP)}class ZE{constructor(e,n){this.routes=e,this.module=n}}function Vs(t){return"function"==typeof t}function Mo(t){return t instanceof So}const Wl=Symbol("INITIAL_VALUE");function zl(){return Fs(t=>function(...t){let e,n;return uh(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Mi(t[0])&&(t=t[0]),Pm(t,n).lift(new BY(e))}(t.map(e=>e.pipe(UE(1),function(...t){const e=t[t.length-1];return uh(e)?(t.pop(),n=>VE(t,n,e)):n=>VE(t,n)}(Wl)))).pipe(gP((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Wl?i:(s===Wl&&(r=!0),r||!1!==s&&o!==n.length-1&&!Mo(s)?i:s),e)},Wl),To(e=>e!==Wl),_e(e=>Mo(e)?e:!0===e),UE(1)))}let KP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gs({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Is(0,"router-outlet")},directives:function(){return[sw]},encapsulation:2}),t})();function QP(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];uX(r,cX(e,r))}}function uX(t,e){t.children&&QP(t.children,e)}function cX(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ew(t){const e=t.children&&t.children.map(ew),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=KP),n}function wr(t){return t.outlet||oe}function YP(t,e){const n=t.filter(r=>wr(r)===e);return n.push(...t.filter(r=>wr(r)!==e)),n}const JP={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _p(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},JP):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||IJ)(n,t,e);if(!s)return Object.assign({},JP);const o={};Ht(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function vp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Ep(t,e,r)&&wr(r)!==oe)}(t,n,r)){const o=new le(e,function(t,e,n,r){const i={};i[oe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wr(s)!==oe){const o=new le([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[wr(s)]=o}return i}(t,e,r,new le(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Ep(t,e,r))}(t,n,r)){const o=new le(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ep(t,n,a)&&!i[wr(a)]){const u=new le([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wr(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new le(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ep(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function XP(t,e,n,r){return!!(wr(t)===r||r!==oe&&Ep(e,n,t))&&("**"===t.path||_p(e,t,n).matched)}function ZP(t,e,n){return 0===e.length&&!t.children[n]}class Kl{constructor(e){this.segmentGroup=e||null}}class eF{constructor(e){this.urlTree=e}}function wp(t){return new Z(e=>e.error(new Kl(t)))}function tF(t){return new Z(e=>e.error(new eF(t)))}function pX(t){return new Z(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yX{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(pi)}apply(){const e=vp(this.urlTree.root,[],[],this.config).segmentGroup,n=new le(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,oe).pipe(_e(s=>this.createUrlTree(tw(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ao(s=>{if(s instanceof eF)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Kl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe(_e(i=>this.createUrlTree(tw(i),e.queryParams,e.fragment))).pipe(Ao(i=>{throw i instanceof Kl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new le([],{[oe]:e}):e;return new So(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(_e(s=>new le([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ut(i).pipe(Eu(s=>{const o=r.children[s],a=YP(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(_e(u=>({segment:u,outlet:s})))}),gP((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?To((i,s)=>t(i,s,r)):he,BE(1),n?yP(e):mP(()=>new ap))}())}expandSegment(e,n,r,i,s,o){return Ut(r).pipe(Eu(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ao(c=>{if(c instanceof Kl)return X(null);throw c}))),Iu(a=>!!a),Ao((a,u)=>{if(a instanceof ap||"EmptyError"===a.name){if(ZP(n,i,s))return X(new le([],{}));throw new Kl(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return XP(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):wp(n):wp(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tF(s):this.lineralizeSegments(r,s).pipe(Bt(o=>{const a=new le(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=_p(n,i,s);if(!a)return wp(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?tF(d):this.lineralizeSegments(i,d).pipe(Bt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(_e(h=>(r._loadedConfig=h,new le(i,{})))):X(new le(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=_p(n,r,i);if(!o)return wp(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(Bt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=vp(n,a,c,f),g=new le(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(_e(D=>new le(a,D)));if(0===f.length&&0===m.length)return X(new le(a,{}));const v=wr(r)===s;return this.expandSegment(h,g,f,m,v?oe:s,!0).pipe(_e(C=>new le(a.concat(C.segments),C.children)))}))}getChildConfig(e,n,r){return n.children?X(new ZE(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?X(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(Bt(i=>i?this.configLoader.load(e.injector,n).pipe(_e(s=>(n._loadedConfig=s,s))):function(t){return new Z(e=>e.error($E(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):X(new ZE([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?X(i.map(o=>{const a=e.get(o);let u;if(function(t){return t&&Vs(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Vs(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return _i(u)})).pipe(zl(),On(o=>{if(!Mo(o))return;const a=$E(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),_e(o=>!0===o)):X(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[oe])return pX(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new So(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ht(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ht(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function tw(t){const e={};for(const r of Object.keys(t.children)){const s=tw(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[oe]){const e=t.children[oe];return new le(t.segments.concat(e.segments),e.children)}return t}(new le(t.segments,e))}class nF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bp{constructor(e,n){this.component=e,this.route=n}}function EX(t,e,n){const r=t._root;return Ql(r,e?e._root:null,n,[r.value])}function Cp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ql(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ql(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xo(t.url,e.url)||!yi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QE(t,e)||!yi(t.queryParams,e.queryParams);case"paramsChange":default:return!QE(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ql(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bp(a.outlet.component,o))}else o&&Yl(e,a,i),i.canActivateChecks.push(new nF(r)),Ql(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ht(s,(o,a)=>Yl(o,n.getContext(a),i)),i}function Yl(t,e,n){const r=ql(t),i=t.value;Ht(r,(s,o)=>{Yl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new bp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class kX{}function rF(t){return new Z(e=>e.error(t))}class PX{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=vp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,oe);if(null===n)return null;const r=new pp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zi(r,n),s=new UP(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=VP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=YP(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=iF(r);return function(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return ZP(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!XP(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?TP(r).parameters:{};s=new pp(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aF(e),wr(e),e.component,e,sF(n),oF(n)+r.length,uF(e))}else{const f=_p(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new pp(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aF(e),wr(e),e.component,e,sF(n),oF(n)+o.length,uF(e))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=vp(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new zi(s,f)]}if(0===u.length&&0===l.length)return[new zi(s,[])];const d=wr(e)===i,h=this.processSegment(u,c,l,d?oe:i);return null===h?null:[new zi(s,h)]}}function VX(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function iF(t){const e=[],n=new Set;for(const r of t){if(!VX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=iF(r.children);e.push(new zi(r.value,i))}return e.filter(r=>!n.has(r))}function sF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function oF(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function aF(t){return t.data||{}}function uF(t){return t.resolve||{}}function nw(t){return Fs(e=>{const n=t(e);return n?Ut(n).pipe(_e(()=>e)):X(e)})}class WX extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const rw=new z("ROUTES");class cF{constructor(e,n,r,i){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new ZE(IP(o.injector.get(rw,void 0,U.Self|U.Optional)).map(ew),o)}),Ao(s=>{throw n._loader$=void 0,s}));return n._loader$=new UA(i,()=>new Sr).pipe(Fm()),n._loader$}loadModuleFactory(e){return"string"==typeof e?Ut(this.loader.load(e)):_i(e()).pipe(Bt(n=>n instanceof xN?X(n):Ut(this.compiler.compileModuleAsync(n))))}}class zX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Du,this.attachRef=null}}class Du{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new zX,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class QX{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function YX(t){throw t}function JX(t,e,n){return e.parse("/")}function lF(t,e){return X(null)}const XX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class t{constructor(n,r,i,s,o,a,u,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sr,this.errorHandler=YX,this.malformedUriErrorHandler=JX,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lF,afterPreactivation:lF},this.urlHandlingStrategy=new QX,this.routeReuseStrategy=new WX,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(pi),this.console=o.get(bf);const h=o.get(Le);this.isNgZoneEnabled=h instanceof Le&&Le.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new So(new le([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cF(a,u,f=>this.triggerEvent(new vP(f)),f=>this.triggerEvent(new EP(f))),this.routerState=LP(this.currentUrlTree,this.rootComponentType),this.transitions=new Wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(To(i=>0!==i.id),_e(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Fs(i=>{let s=!1,o=!1;return X(i).pipe(On(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ip(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(Fs(d=>{const h=this.transitions.getValue();return r.next(new jE(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Cu:Promise.resolve(d)}),function(t,e,n,r){return Fs(i=>function(t,e,n,r,i){return new yX(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(_e(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),On(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return Bt(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new PX(t,e,n,r,i,s).recognize();return null===o?rF(new kX):X(o)}catch(o){return rF(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(_e(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),On(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new fJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,v=new jE(h,this.serializeUrl(f),p,m);r.next(v);const _=LP(f,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),Cu}),nw(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),On(a=>{const u=new pJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),_e(a=>Object.assign(Object.assign({},a),{guards:EX(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return Bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Ut(t).pipe(Bt(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=Cp(a,e,i);let c;if(function(t){return t&&Vs(t.canDeactivate)}(u))c=_i(u.canDeactivate(t,e,n,r));else{if(!Vs(u))throw new Error("Invalid CanDeactivate guard");c=_i(u(t,e,n,r))}return c.pipe(Iu())})).pipe(zl()):X(!0)}(i.component,i.route,n,e,r)),Iu(i=>!0!==i,!0))}(o,r,i,t).pipe(Bt(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return Ut(e).pipe(Eu(i=>VE(function(t,e){return null!==t&&e&&e(new _J(t)),X(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new EJ(t)),X(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fP(()=>X(o.guards.map(u=>{const c=Cp(u,o.node,n);let l;if(function(t){return t&&Vs(t.canActivateChild)}(c))l=_i(c.canActivateChild(r,t));else{if(!Vs(c))throw new Error("Invalid CanActivateChild guard");l=_i(c(r,t))}return l.pipe(Iu())})).pipe(zl())));return X(s).pipe(zl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?X(r.map(s=>fP(()=>{const o=Cp(s,e,n);let a;if(function(t){return t&&Vs(t.canActivate)}(o))a=_i(o.canActivate(e,t));else{if(!Vs(o))throw new Error("Invalid CanActivate guard");a=_i(o(e,t))}return a.pipe(Iu())}))).pipe(zl()):X(!0)}(t,i.route,n))),Iu(i=>!0!==i,!0))}(r,s,t,e):X(a)),_e(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),On(a=>{if(Mo(a.guardsResult)){const c=$E(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new gJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),To(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),nw(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(On(u=>{const c=new mJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Fs(u=>{let c=!1;return X(u).pipe(function(t,e){return Bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return Ut(i).pipe(Eu(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return X({});const s={};return Ut(i).pipe(Bt(o=>function(t,e,n,r){const i=Cp(t,e,r);return _i(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(On(a=>{s[o]=a}))),BE(1),Bt(()=>Object.keys(s).length===i.length?X(s):Cu))}(t._resolve,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),VP(t,n).resolve),null)))}(o.route,r,t,e)),On(()=>s++),BE(1),Bt(o=>s===i.length?X(n):Cu))})}(this.paramsInheritanceStrategy,this.ngModule.injector),On({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),On(u=>{const c=new yJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),nw(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_e(a=>{const u=function(t,e,n){const r=gp(t,e._root,n?n._root:void 0);return new FP(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),On(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>_e(r=>(new tX(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),On({next(){s=!0},complete(){s=!0}}),function(t){return e=>e.lift(new lJ(t))}(()=>{var a;if(!s&&!o){const u=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,u)):this.cancelNavigationTransition(i,u)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ao(a=>{if(o=!0,function(t){return t&&t[bP]}(a)){const u=Mo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new _P(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ip(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new hJ(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Cu}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(a.state=u)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const i=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!i||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){QP(n),this.config=n.map(ew),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return YE(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new HP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ht(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new HP(n,e,r)}(n);if(s.toRoot())return YE(e.root,new le([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new JE(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new JE(s,s===e.root,0)}const r=mp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new JE(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?yp(o.segmentGroup,o.index,s.commands):qP(o.segmentGroup,o.index,s.commands);return YE(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Mo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},XX):!1===r?Object.assign({},ZX):r,Mo(n))return AP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return AP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new jl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),l=Ip(r)&&c&&!Ip(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===n.toString();if(l&&f)return Promise.resolve(!0);let p,m,g;o?(p=o.resolve,m=o.reject,g=o.promise):g=new Promise((C,D)=>{p=C,m=D});const v=++this.navigationId;let _;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),_=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):_=0,this.setTransition({id:v,targetPageId:_,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:p,reject:m,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(C=>Promise.reject(C))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new _P(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(S(Nh),S(HE),S(Du),S(Pf),S(ge),S(If),S(wo),S(void 0))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function Ip(t){return"imperative"!==t}let Au=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.commands=[],this.onChanges=new Sr,null==i&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}onClick(){const n={skipLocationChange:Su(this.skipLocationChange),replaceUrl:Su(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Su(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(I(Pn),I(Ro),Lc("tabindex"),I(Bi),I(Dt))},t.\u0275dir=j({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&qe("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[tn]}),t})();function Su(t){return""===t||!!t}let sw=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new vt,this.deactivateEvents=new vt,this.name=s||oe,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new rZ(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(I(Du),I(Vr),I(_o),Lc("name"),I(O_))},t.\u0275dir=j({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class rZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ro?this.route:e===Du?this.childContexts:this.parent.get(e,n)}}class dF{}class hF{preload(e,n){return X(null)}}let fF=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=new cF(r,i,c=>n.triggerEvent(new vP(c)),c=>n.triggerEvent(new EP(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(To(n=>n instanceof jl),Eu(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(pi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Ut(i).pipe(Ac(),_e(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(n.injector,r)).pipe(Bt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(S(Pn),S(If),S(wo),S(ge),S(dF))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})(),ow=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof jE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof jl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof wP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new wP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(S(Pn),S(V1),S(void 0))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();const No=new z("ROUTER_CONFIGURATION"),pF=new z("ROUTER_FORROOT_GUARD"),sZ=[Pf,{provide:HE,useClass:MP},{provide:Pn,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new Pn(null,t,e,n,r,i,s,IP(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),l},deps:[HE,Du,Pf,ge,If,wo,rw,No,[class{},new Ae],[class{},new Ae]]},Du,{provide:Ro,useFactory:function(t){return t.routerState.root},deps:[Pn]},{provide:If,useClass:W7},fF,hF,class{preload(e,n){return n().pipe(Ao(()=>X(null)))}},{provide:No,useValue:{enableTracing:!1}}];function oZ(){return new vv("Router",Pn)}let gF=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[sZ,mF(n),{provide:pF,useFactory:cZ,deps:[[Pn,new Ae,new ws]]},{provide:No,useValue:r||{}},{provide:vu,useFactory:uZ,deps:[Io,[new Na(Fv),new Ae],No]},{provide:ow,useFactory:aZ,deps:[Pn,V1,No]},{provide:dF,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:hF},{provide:vv,multi:!0,useFactory:oZ},[aw,{provide:Cl,multi:!0,useFactory:fZ,deps:[aw]},{provide:yF,useFactory:pZ,deps:[aw]},{provide:Mk,multi:!0,useExisting:yF}]]}}static forChild(n){return{ngModule:t,providers:[mF(n)]}}}return t.\u0275fac=function(n){return new(n||t)(S(pF,8),S(Pn,8))},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({}),t})();function aZ(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ow(t,e,n)}function uZ(t,e,n={}){return n.useHash?new h5(t,e):new w1(t,e)}function cZ(t){return"guarded"}function mF(t){return[{provide:g3,multi:!0,useValue:t},{provide:rw,multi:!0,useValue:t}]}let aw=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sr}appInitializer(){return this.injector.get(c5,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Pn),o=this.injector.get(No);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(No),i=this.injector.get(fF),s=this.injector.get(ow),o=this.injector.get(Pn),a=this.injector.get(mu);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(S(ge))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),t})();function fZ(t){return t.appInitializer.bind(t)}function pZ(t){return t.bootstrapListener.bind(t)}const yF=new z("Router Initializer");function _F(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){_F(s,r,i,o,a,"next",u)}function a(u){_F(s,r,i,o,a,"throw",u)}o(void 0)})}}const cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Rt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bF(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Tp(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function CF(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function IF(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xu(){return"object"==typeof indexedDB}function Dp(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function hw(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ei.prototype.create)}}class Ei{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(DZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new vi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const DZ=/\{\$([^}]+)}/g;function Sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(DF(s)&&DF(o)){if(!Sp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DF(t){return null!==t&&"object"==typeof t}function xp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class xZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=fw),void 0===i.error&&(i.error=fw),void 0===i.complete&&(i.complete=fw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fw(){}function gw(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function er(t){return t&&t._delegate?t._delegate:t}class un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ko="[DEFAULT]";class FZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function LZ(t){return t===ko?void 0:t}class UZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const mw=[];var me=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(me||(me={})),me))();const AF={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},BZ=me.INFO,jZ={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},$Z=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=jZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ru{constructor(e){this.name=e,this._logLevel=BZ,this._logHandler=$Z,this._userLogHandler=null,mw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?AF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}class HZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const yw="@firebase/app",_w=new Ru("@firebase/app"),vw="[DEFAULT]",mee={[yw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oo=new Map,Rp=new Map;function yee(t,e){try{t.container.addComponent(e)}catch(n){_w.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){const e=t.name;if(Rp.has(e))return _w.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,t);for(const n of Oo.values())yee(n,t);return!0}function Po(t,e){return t.container.getProvider(e)}const Jl=new Ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class vee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jl.create("app-deleted",{appName:this._name})}}const Fo="9.5.0";function Eee(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:vw,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Jl.create("bad-app-name",{appName:String(r)});const i=Oo.get(r);if(i){if(Sp(t,i.options)&&Sp(n,i.config))return i;throw Jl.create("duplicate-app",{appName:r})}const s=new UZ(r);for(const a of Rp.values())s.addComponent(a);const o=new vee(t,n,s);return Oo.set(r,o),o}function Mp(t=vw){const e=Oo.get(t);if(!e)throw Jl.create("no-app",{appName:t});return e}function xF(){return Array.from(Oo.values())}function Ve(t,e,n){var r;let i=null!==(r=mee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void _w.warn(a.join(" "))}In(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}In(new un("platform-logger",e=>new HZ(e),"PRIVATE")),Ve(yw,"0.7.9",""),Ve(yw,"0.7.9","esm2017"),Ve("fire-js",""),Ve("firebase","9.5.0","app");var Mu=Dr(676);const RF="@firebase/installations",NF="w:0.5.4",kF="FIS_v2",Ki=new Ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function OF(t){return t instanceof vi&&t.code.includes("request-failed")}function bw({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function PF(t){return{token:t.token,requestStatus:2,expiresIn:xee(t.expiresIn),creationTime:Date.now()}}function Cw(t,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=y(function*(t,e){const r=(yield e.json()).error;return Ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function FF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LF(t,{refreshToken:e}){const n=FF(t);return n.append("Authorization",function(t){return`${kF} ${t}`}(e)),n}function Tw(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function xee(t){return Number(t.replace("s","000"))}function Mee(t,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=y(function*(t,{fid:e}){const n=bw(t),s={method:"POST",headers:FF(t),body:JSON.stringify({fid:e,authVersion:kF,appId:t.appId,sdkVersion:NF})},o=yield Tw(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:PF(a.authToken)}}throw yield Cw("Create Installation",o)})).apply(this,arguments)}function VF(t){return new Promise(e=>{setTimeout(e,t)})}const kee=/^[cdef][\w-]{21}$/;function Oee(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return kee.test(n)?n:""}catch(t){return""}}function Nu(t){return`${t.appName}!${t.appId}`}const ku=new Map;function UF(t,e){const n=Nu(t);BF(n,e),function(t,e){const n=(!Lo&&"BroadcastChannel"in self&&(Lo=new BroadcastChannel("[Firebase] FID Change"),Lo.onmessage=t=>{BF(t.data.key,t.data.fid)}),Lo);n&&n.postMessage({key:t,fid:e}),0===ku.size&&Lo&&(Lo.close(),Lo=null)}(n,e)}function BF(t,e){const n=ku.get(t);if(n)for(const r of n)r(e)}let Lo=null;const Vo="firebase-installations-store";let xw=null;function Rw(){return xw||(xw=(0,Mu.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Vo)}})),xw}function Np(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=y(function*(t,e){const n=Nu(t),i=(yield Rw()).transaction(Vo,"readwrite"),s=i.objectStore(Vo),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&UF(t,e.fid),e})).apply(this,arguments)}function Nw(t){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(t){const e=Nu(t),r=(yield Rw()).transaction(Vo,"readwrite");yield r.objectStore(Vo).delete(e),yield r.complete})).apply(this,arguments)}function Xl(t,e){return Ow.apply(this,arguments)}function Ow(){return(Ow=y(function*(t,e){const n=Nu(t),i=(yield Rw()).transaction(Vo,"readwrite"),s=i.objectStore(Vo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&UF(t,a.fid),a})).apply(this,arguments)}function Pw(t){return Fw.apply(this,arguments)}function Fw(){return(Fw=y(function*(t){let e;const n=yield Xl(t,r=>{const i=jee(r),s=$ee(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function jee(t){return qF(t||{fid:Oee(),registrationStatus:0})}function $ee(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ki.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Lw.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:qee(t)}:{installationEntry:e}}function Lw(){return(Lw=y(function*(t,e){try{return Np(t,yield Mee(t,e))}catch(n){throw OF(n)&&409===n.customData.serverCode?yield Nw(t):yield Np(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function qee(t){return Vw.apply(this,arguments)}function Vw(){return(Vw=y(function*(t){let e=yield HF(t);for(;1===e.registrationStatus;)yield VF(100),e=yield HF(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Pw(t);return r||n}return e})).apply(this,arguments)}function HF(t){return Xl(t,e=>{if(!e)throw Ki.create("installation-not-found");return qF(e)})}function qF(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Wee(t,e){return Uw.apply(this,arguments)}function Uw(){return(Uw=y(function*({appConfig:t,platformLoggerProvider:e},n){const r=zee(t,n),i=LF(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:NF}})},u=yield Tw(()=>fetch(r,a));if(u.ok)return PF(yield u.json());throw yield Cw("Generate Auth Token",u)})).apply(this,arguments)}function zee(t,{fid:e}){return`${bw(t)}/${e}/authTokens:generate`}function Bw(t){return jw.apply(this,arguments)}function jw(){return(jw=y(function*(t,e=!1){let n;const r=yield Xl(t.appConfig,s=>{if(!WF(s))throw Ki.create("not-registered");const o=s.authToken;if(!e&&Yee(o))return s;if(1===o.requestStatus)return n=Kee(t,e),s;{if(!navigator.onLine)throw Ki.create("app-offline");const a=Xee(s);return n=Qee(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function Kee(t,e){return $w.apply(this,arguments)}function $w(){return($w=y(function*(t,e){let n=yield GF(t.appConfig);for(;1===n.authToken.requestStatus;)yield VF(100),n=yield GF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Bw(t,e):r})).apply(this,arguments)}function GF(t){return Xl(t,e=>{if(!WF(e))throw Ki.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Qee(t,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=y(function*(t,e){try{const n=yield Wee(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Np(t.appConfig,r),n}catch(n){if(!OF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Np(t.appConfig,r)}else yield Nw(t.appConfig);throw n}})).apply(this,arguments)}function WF(t){return void 0!==t&&2===t.registrationStatus}function Yee(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Xee(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function qw(){return(qw=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Pw(e.appConfig);return r?r.catch(console.error):Bw(e).catch(console.error),n.fid})).apply(this,arguments)}function Gw(){return(Gw=y(function*(t,e=!1){const n=t;return yield nte(n.appConfig),(yield Bw(n,e)).token})).apply(this,arguments)}function nte(t){return Ww.apply(this,arguments)}function Ww(){return(Ww=y(function*(t){const{registrationPromise:e}=yield Pw(t);e&&(yield e)})).apply(this,arguments)}function Qw(t){return Ki.create("missing-app-config-values",{valueName:t})}const zF="installations";In(new un(zF,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw Qw("App Configuration");if(!t.name)throw Qw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:Po(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),In(new un("installations-internal",t=>{const n=Po(t.getProvider("app").getImmediate(),zF).getImmediate();return{getId:()=>function(t){return qw.apply(this,arguments)}(n),getToken:i=>function(t){return Gw.apply(this,arguments)}(n,i)}},"PRIVATE")),Ve(RF,"0.5.4"),Ve(RF,"0.5.4","esm2017");const Yw="@firebase/remote-config",Fn=new Ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ete{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function wte(t=navigator){return t.languages&&t.languages[0]||t.language}class bte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:wte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",_(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v.name&&(_="fetch-timeout"),Fn.create(_,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Fn.create("fetch-client-parse",{originalErrorMessage:_.message})}m=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Fn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Tte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+gw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Ste{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Op(t,e){const n=t.target.error||void 0;return Fn.create(e,{originalErrorMessage:n&&n.message})}const Uo="app_namespace_store";class Nte{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Op(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Uo,{keyPath:"compositeKey"})}}}catch(n){e(Fn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Uo],"readonly").objectStore(Uo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Op(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Fn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Uo],"readwrite").objectStore(Uo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Op(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Fn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Uo],"readwrite").objectStore(Uo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Op(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Fn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kte{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Pte(){return tb.apply(this,arguments)}function tb(){return(tb=y(function*(){if(!xu())return!1;try{return yield Dp()}catch(t){return!1}})).apply(this,arguments)}In(new un("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!xu())throw Fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Fn.create("registration-project-id");if(!o)throw Fn.create("registration-api-key");if(!a)throw Fn.create("registration-app-id");const u=new Nte(a,r.name,n=n||"firebase"),c=new kte(u),l=new Ru(Yw);l.logLevel=me.ERROR;const d=new bte(i,Fo,n,s,o,a),h=new Tte(d,u),f=new Ete(h,u,c,l),p=new Ste(r,f,c,u,l);return function(t){const e=er(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ve(Yw,"0.3.3"),Ve(Yw,"0.3.3","esm2017");const Fte="/firebase-messaging-sw.js",Lte="/firebase-cloud-messaging-push-scope",JF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",XF="google.c.a.c_id",Ute="google.c.a.c_l",Bte="google.c.a.ts",jte="google.c.a.e";var Ou=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Ou||(Ou={})),Ou))();function Qi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $te(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const nb="fcm_token_details_db",ZF="fcm_token_object_Store";function qte(t){return rb.apply(this,arguments)}function rb(){return(rb=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(nb))return null;let e=null;return(yield(0,Mu.openDb)(nb,5,function(){var r=y(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(ZF))return;const o=i.transaction.objectStore(ZF),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Qi(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qi(u.auth),p256dh:Qi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qi(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qi(u.auth),p256dh:Qi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qi(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Mu.deleteDb)(nb),yield(0,Mu.deleteDb)("fcm_vapid_details_db"),yield(0,Mu.deleteDb)("undefined"),Gte(e)?e:null})).apply(this,arguments)}function Gte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Bo="firebase-messaging-store";let ib=null;function sb(){return ib||(ib=(0,Mu.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Bo)}})),ib}function eL(t){return ob.apply(this,arguments)}function ob(){return(ob=y(function*(t){const e=lb(t),r=yield(yield sb()).transaction(Bo).objectStore(Bo).get(e);if(r)return r;{const i=yield qte(t.appConfig.senderId);if(i)return yield ab(t,i),i}})).apply(this,arguments)}function ab(t,e){return ub.apply(this,arguments)}function ub(){return(ub=y(function*(t,e){const n=lb(t),i=(yield sb()).transaction(Bo,"readwrite");return yield i.objectStore(Bo).put(e,n),yield i.complete,e})).apply(this,arguments)}function Kte(t){return cb.apply(this,arguments)}function cb(){return(cb=y(function*(t){const e=lb(t),r=(yield sb()).transaction(Bo,"readwrite");yield r.objectStore(Bo).delete(e),yield r.complete})).apply(this,arguments)}function lb({appConfig:t}){return t.appId}const qt=new Ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yte(t,e){return db.apply(this,arguments)}function db(){return(db=y(function*(t,e){const n=yield gb(t),r=nL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(pb(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Jte(t,e){return hb.apply(this,arguments)}function hb(){return(hb=y(function*(t,e){const n=yield gb(t),r=nL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${pb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function tL(t,e){return fb.apply(this,arguments)}function fb(){return(fb=y(function*(t,e){const r={method:"DELETE",headers:yield gb(t)};try{const s=yield(yield fetch(`${pb(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function pb({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function gb(t){return mb.apply(this,arguments)}function mb(){return(mb=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function nL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==JF&&(i.web.applicationPubKey=r),i}function Zte(t){return yb.apply(this,arguments)}function yb(){return(yb=y(function*(t){const e=yield tne(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Qi(e.getKey("auth")),p256dh:Qi(e.getKey("p256dh"))},r=yield eL(t.firebaseDependencies);if(r){if(nne(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?ene(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield tL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return iL(t.firebaseDependencies,n)}return iL(t.firebaseDependencies,n)})).apply(this,arguments)}function rL(t){return _b.apply(this,arguments)}function _b(){return(_b=y(function*(t){const e=yield eL(t.firebaseDependencies);e&&(yield tL(t.firebaseDependencies,e.token),yield Kte(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function ene(t,e){return vb.apply(this,arguments)}function vb(){return(vb=y(function*(t,e){try{const n=yield Jte(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield ab(t.firebaseDependencies,r),n}catch(n){throw yield rL(t),n}})).apply(this,arguments)}function iL(t,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=y(function*(t,e){const r={token:yield Yte(t,e),createTime:Date.now(),subscriptionOptions:e};return yield ab(t,r),r.token})).apply(this,arguments)}function tne(t,e){return wb.apply(this,arguments)}function wb(){return(wb=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$te(e)})})).apply(this,arguments)}function nne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function sL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function one(t){return"object"==typeof t&&!!t&&XF in t}function oL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function bb(t){return qt.create("missing-app-config-values",{valueName:t})}oL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class une{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw bb("App Configuration Object");if(!t.name)throw bb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw bb(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function aL(t){return Cb.apply(this,arguments)}function Cb(){return(Cb=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Fte,{scope:Lte}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function cne(t,e){return Ib.apply(this,arguments)}function Ib(){return(Ib=y(function*(t,e){if(!e&&!t.swRegistration&&(yield aL(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function lne(t,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=JF)})).apply(this,arguments)}function Db(){return(Db=y(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield lne(t,null==e?void 0:e.vapidKey),yield cne(t,null==e?void 0:e.serviceWorkerRegistration),Zte(t)})).apply(this,arguments)}function dne(t,e,n){return Ab.apply(this,arguments)}function Ab(){return(Ab=y(function*(t,e,n){const r=hne(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[XF],message_name:n[Ute],message_time:n[Bte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hne(t){switch(t){case Ou.NOTIFICATION_CLICKED:return"notification_open";case Ou.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sb(){return(Sb=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ou.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(sL(n)):t.onMessageHandler.next(sL(n)));const r=n.data;one(r)&&"1"===r[jte]&&(yield dne(t,n.messageType,r))})).apply(this,arguments)}const cL="@firebase/messaging";function dL(){return xb.apply(this,arguments)}function xb(){return(xb=y(function*(){return"undefined"!=typeof window&&xu()&&(yield Dp())&&hw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}In(new un("messaging",t=>{const e=new une(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return Sb.apply(this,arguments)}(e,n)),e},"PUBLIC")),In(new un("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return Db.apply(this,arguments)}(e,r)}},"PRIVATE")),Ve(cL,"0.9.4"),Ve(cL,"0.9.4","esm2017");const Pp="analytics",vne="firebase_id",bne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hL="https://www.googletagmanager.com/gtag/js",Gt=new Ru("@firebase/analytics");function fL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Cne(t,e){const n=document.createElement("script");n.src=`${hL}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Tne(t,e,n,r,i,s){return Nb.apply(this,arguments)}function Nb(){return(Nb=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield fL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Gt.error(a)}t("config",i,s)})).apply(this,arguments)}function Dne(t,e,n,r,i){return kb.apply(this,arguments)}function kb(){return(kb=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield fL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}function xne(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(hL))return e;return null}const tr=new Ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pL=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function One(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Pne(t){return Ob.apply(this,arguments)}function Ob(){return(Ob=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:One(r)},s=bne.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw tr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Fne(t){return Pb.apply(this,arguments)}function Pb(){return(Pb=y(function*(t,e=pL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw tr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw tr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Une;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:6e4),gL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function gL(t,e,n){return Fb.apply(this,arguments)}function Fb(){return(Fb=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pL){const{appId:s,measurementId:o}=t;try{yield Lne(r,e)}catch(a){if(o)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield Pne(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!Vne(a)){if(i.deleteThrottleMetadata(s),o)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?gw(n,i.intervalMillis,30):gw(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Gt.debug(`Calling attemptFetch again in ${u} millis`),gL(t,c,r,i)}})).apply(this,arguments)}function Lne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Vne(t){if(!(t instanceof vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Une{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Bne(){return Lb.apply(this,arguments)}function Lb(){return(Lb=y(function*(){if(!xu())return Gt.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Dp()}catch(t){return Gt.warn(tr.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Vb(){return(Vb=y(function*(t,e,n,r,i,s,o){var a;const u=Fne(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Gt.error(f)),e.push(u);const c=Bne().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);xne()||Cne(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[vne]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class $ne{constructor(e){this.app=e}_delete(){return delete Yi[this.app.options.appId],Promise.resolve()}}let Yi={},mL=[];const yL={};let vL,Zl,Fp="dataLayer",Ub=!1;function qne(t,e,n){!function(){const t=[];if(Tp()&&t.push("This is a browser extension environment."),hw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=tr.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw tr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw tr.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yi[r])throw tr.create("already-exists",{id:r});if(!Ub){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Fp);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=y(function*(o,a,u){try{"event"===o?yield Dne(t,e,n,a,u):"config"===o?yield Tne(t,e,n,r,a,u):t("set",a)}catch(c){Gt.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Yi,mL,yL,Fp,"gtag");Zl=s,vL=o,Ub=!0}return Yi[r]=function(t,e,n,r,i,s,o){return Vb.apply(this,arguments)}(t,mL,yL,e,vL,Fp,n),new $ne(t)}function Bb(){return(Bb=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Jne(){return Gb.apply(this,arguments)}function Gb(){return(Gb=y(function*(){if(Tp()||!hw()||!xu())return!1;try{return yield Dp()}catch(t){return!1}})).apply(this,arguments)}const EL="@firebase/analytics";In(new un(Pp,(e,{options:n})=>qne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),In(new un("analytics-internal",function(e){try{const n=e.getProvider(Pp).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=er(t),function(t,e,n,r,i){return Bb.apply(this,arguments)}(Zl,Yi[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}(n,r,i,s)}}catch(n){throw tr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ve(EL,"0.7.4"),Ve(EL,"0.7.4","esm2017");class ere extends Te{constructor(e,n){super()}schedule(e,n=0){return this}}class Wb extends ere{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}let bL=(()=>{class t{constructor(n,r=t.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return t.now=()=>Date.now(),t})();class wi extends bL{constructor(e,n=bL.now){super(e,()=>wi.delegate&&wi.delegate!==this?wi.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,r){return wi.delegate&&wi.delegate!==this?wi.delegate.schedule(e,n,r):super.schedule(e,n,r)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const rre=new class extends wi{}(class extends Wb{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),ire=new wi(Wb);let sre=1;const ore=Promise.resolve(),Lp={};function CL(t){return t in Lp&&(delete Lp[t],!0)}const IL={setImmediate(t){const e=sre++;return Lp[e]=!0,ore.then(()=>CL(e)&&t()),e},clearImmediate(t){CL(t)}},zb=new class extends wi{flush(e){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,s=n.length;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=n.shift()));if(this.active=!1,r){for(;++i<s&&(e=n.shift());)e.unsubscribe();throw r}}}(class extends Wb{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=IL.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,n,r);0===e.actions.length&&(IL.clearImmediate(n),e.scheduled=void 0)}});class Vp extends Z{constructor(e,n=0,r=zb){super(),this.source=e,this.delayTime=n,this.scheduler=r,(!function(t){return!Mi(t)&&t-parseFloat(t)+1>=0}(n)||n<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=zb)}static create(e,n=0,r=zb){return new Vp(e,n,r)}static dispatch(e){const{source:n,subscriber:r}=e;return this.add(n.subscribe(r))}_subscribe(e){return this.scheduler.schedule(Vp.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function TL(t,e=0){return function(r){return r.lift(new lre(t,e))}}class lre{constructor(e,n){this.scheduler=e,this.delay=n}call(e,n){return new Vp(n,this.delay,this.scheduler).subscribe(e)}}class br{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(e,n,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,r)}toObservable(){switch(this.kind){case"N":return X(this.value);case"E":return function(t,e){return new Z(n=>n.error(t))}(this.error);case"C":return up()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new br("N",e):br.undefinedValueNotification}static createError(e){return new br("E",void 0,e)}static createComplete(){return br.completeNotification}}function DL(t,e=0){return function(r){return r.lift(new fre(t,e))}}br.completeNotification=new br("C"),br.undefinedValueNotification=new br("N",void 0);class fre{constructor(e,n=0){this.scheduler=e,this.delay=n}call(e,n){return n.subscribe(new Kb(e,this.scheduler,this.delay))}}class Kb extends De{constructor(e,n,r=0){super(e),this.scheduler=n,this.delay=r}static dispatch(e){const{notification:n,destination:r}=e;n.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Kb.dispatch,this.delay,new pre(e,this.destination)))}_next(e){this.scheduleMessage(br.createNext(e))}_error(e){this.scheduleMessage(br.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(br.createComplete()),this.unsubscribe()}}class pre{constructor(e,n){this.notification=e,this.destination=n}}const ed=new su("7.2.0"),Qb="__angularfire_symbol__analyticsIsSupported",Yb="__angularfire_symbol__remoteConfigIsSupported",Jb="__angularfire_symbol__messagingIsSupported";function Up(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Qb]||(globalThis[Qb]=Jne().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Jb]||(globalThis[Jb]=dL().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[Yb]||(globalThis[Yb]=Pte().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const Bp=(t,e)=>{const n=e?[e]:xF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Pu(){}class RL{constructor(e,n=rre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class gre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pu,{},Pu,Pu)),n.pipe(On({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RL(Zone.current)),this.insideAngular=n.run(()=>new RL(Zone.current,ire)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(S(Le))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function mre(t){return jo().ngZone.runOutsideAngular(()=>t())}function $o(t){return jo().ngZone.run(()=>t())}function yre(t){return jo(),function(t){return function(n){return(n=n.lift(new gre(t.ngZone))).pipe(TL(t.outsideAngular),DL(t.insideAngular))}}(jo())(t)}const vre=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$o(()=>t.apply(n,arguments))}},bi=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=$o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pu,{},Pu,Pu)))),arguments[i]=vre(arguments[i],n));const r=mre(()=>t.apply(this,arguments));if(!e){if(r instanceof Z){const i=jo();return r.pipe(TL(i.outsideAngular),DL(i.insideAngular))}return $o(()=>r)}return r instanceof Z?r.pipe(yre):r instanceof Promise?$o(()=>new Promise((i,s)=>r.then(o=>$o(()=>i(o)),o=>$o(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:$o(()=>r)};class Ho{constructor(e){return e}}class $p{constructor(){return xF()}}const Zb=new z("angularfire2._apps"),wre={provide:Ho,useFactory:function(t){return t&&1===t.length?t[0]:new Ho(Mp())},deps:[[new Ae,Zb]]},bre={provide:$p,deps:[[new Ae,Zb]]};function Cre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ho(r)}}let Ire=(()=>{class t{constructor(n){Ve("angularfire",ed.full,"core"),Ve("angularfire",ed.full,"app"),Ve("angular",k_.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(S(gu))},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[wre,bre]}),t})();function Tre(t,...e){return{ngModule:Ire,providers:[{provide:Zb,useFactory:Cre(t),multi:!0,deps:[Le,ge,jp,...e]}]}}const Dre=bi(Eee,!0),ML=new Map,Are={activated:!1,tokenObservers:[]},Sre={initialized:!1,enabled:!1};function Mt(t){return ML.get(t)||Are}function zr(t,e){ML.set(t,e)}function Hp(){return Sre}class kre{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new dw,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new dw,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Tn=new Ei("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kL(t){if(!Mt(t).activated)throw Tn.create("use-before-activation",{appName:t.name})}function nC(t,e){return rC.apply(this,arguments)}function rC(){return(rC=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function Ure(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const td="firebase-app-check-store";let Wp=null;function PL(){return Wp||(Wp=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(td,{keyPath:"compositeKey"})}}}catch(n){e(Tn.create("storage-open",{originalErrorMessage:n.message}))}}),Wp)}function iC(){return(iC=y(function*(t,e){const r=(yield PL()).transaction(td,"readwrite"),s=r.objectStore(td).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Tn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const nd=new Ru("@firebase/app-check");function UL(t,e){return xu()?function(t,e){return function(t,e){return iC.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{nd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function BL(){return Hp().enabled}function jL(){return uC.apply(this,arguments)}function uC(){return(uC=y(function*(){const t=Hp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Qre={error:"UNKNOWN_ERROR"};function Yre(t){return cw.encodeString(JSON.stringify(t),!1)}function zp(t){return cC.apply(this,arguments)}function cC(){return(cC=y(function*(t,e=!1){const n=t.app;kL(n);const r=Mt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Kp(u)&&(i=u)}if(!e&&i&&Kp(i))return{token:i.token};let a,o=!1;if(BL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nC(Ure(n,yield jL()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield UL(n,u),zr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?nd.warn(u.message):nd.error(u),s=u}return i?(a={token:i.token},zr(n,Object.assign(Object.assign({},r),{token:i})),yield UL(n,i)):a=Xre(s),o&&HL(n,a),a})).apply(this,arguments)}function dC(t,e){const n=Mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),zr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function $L(t){const{app:e}=t,n=Mt(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new kre(y(function*(){let r;if(r=Mt(e).token?yield zp(t,!0):yield zp(t),r.error)throw r.error}),()=>!0,()=>{const n=Mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),zr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function HL(t,e){const n=Mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Kp(t){return t.expireTimeMillis-Date.now()>0}function Xre(t){return{token:Yre(Qre),error:t}}class Zre{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=Mt(this.app);for(const n of e)dC(this.app,n.next);return Promise.resolve()}}const JL="app-check-internal";In(new un("app-check",t=>function(t,e){return new Zre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(JL).initialize()})),In(new un(JL,t=>function(t){return{getToken:e=>zp(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=Mt(i),o={next:n,error:r,type:e};if(zr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Kp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),$L(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$L(t))}(t,"INTERNAL",e),removeTokenListener:e=>dC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ve("@firebase/app-check","0.5.2");class Yp{constructor(){return Bp("app-check")}}function eV(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}"undefined"!=typeof window&&window;const Eie=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iV=new Ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sV=new Ru("@firebase/auth");function Xp(t,...e){sV.logLevel<=me.ERROR&&sV.error(`Auth (9.5.0): ${t}`,...e)}function Ln(t,...e){throw yC(t,...e)}function Ci(t,...e){return yC(t,...e)}function oV(t,e,n){const r=Object.assign(Object.assign({},Eie()),{[e]:n});return new Ei("auth","Firebase",r).create(e,{appName:t.name})}function yC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iV.create(t,...e)}function x(t,e,...n){if(!t)throw yC(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xp(e),new Error(e)}function Us(t,e){t||Ii(e)}const aV=new Map;function Ji(t){Us(t instanceof Function,"Expected a class definition");let e=aV.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aV.set(t,e),e)}function rd(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function uV(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=bF()||CF()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===uV()||"https:"===uV()||Tp()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function vC(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class EC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Die=new id(3e4,6e4);function wt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nt(t,e,n,r){return wC.apply(this,arguments)}function wC(){return(wC=y(function*(t,e,n,r,i={}){return cV(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xp(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(EC.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),EC.fetch()(lV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function cV(t,e,n){return bC.apply(this,arguments)}function bC(){return(bC=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tie),e);try{const i=new Aie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Zp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Zp(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Zp(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oV(t,l,c);Ln(t,l)}}catch(i){if(i instanceof vi)throw i;Ln(t,"network-request-failed")}})).apply(this,arguments)}function Xi(t,e,n,r){return CC.apply(this,arguments)}function CC(){return(CC=y(function*(t,e,n,r,i={}){const s=yield Nt(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function lV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vC(t.config,i):`${t.config.apiScheme}://${i}`}class Aie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"timeout")),Die.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ci(t,e,r);return i.customData._tokenResponse=n,i}function IC(){return(IC=y(function*(t,e){return Nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Rie(t,e){return DC.apply(this,arguments)}function DC(){return(DC=y(function*(t,e){return Nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function AC(){return(AC=y(function*(t,e=!1){const n=er(t),r=yield n.getIdToken(e),i=eg(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sd(SC(i.auth_time)),issuedAtTime:sd(SC(i.iat)),expirationTime:sd(SC(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function SC(t){return 1e3*Number(t)}function eg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Xp("Failed to decode base64 JWT payload"),null)}catch(i){return Xp("Caught error parsing JWT payload as JSON",i),null}}function Zi(t,e){return xC.apply(this,arguments)}function xC(){return(xC=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof vi&&kie(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function kie({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Oie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class dV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function od(t){return RC.apply(this,arguments)}function RC(){return(RC=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Zi(t,Rie(n,{idToken:r}));x(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Lie(s.providerUserInfo):[],a=Fie(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function MC(){return(MC=y(function*(t){const e=er(t);yield od(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Fie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lie(t){return t.map(e=>{var{providerId:n}=e,r=eV(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function NC(){return(NC=y(function*(t,e){const n=yield cV(t,{},()=>{const r=xp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lV(t,i,"/v1/token",`key=${s}`);return EC.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ad{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(void 0!==e.idToken,"internal-error"),x(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=eg(t);return x(e,"internal-error"),x(void 0!==e.exp,"internal-error"),x(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return NC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ad;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ad,this.toJSON())}_performRefresh(){return Ii("not implemented")}}function Bs(t,e){x("string"==typeof t||void 0===t,"internal-error",{appName:e})}class qo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=eV(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Oie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new dV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Zi(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return AC.apply(this,arguments)}(this,e)}reload(){return function(t){return MC.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield od(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Zi(e,function(t,e){return IC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:D,isAnonymous:L,providerData:Ee,stsTokenManager:It}=n;x(C&&It,e,"internal-error");const or=ad.fromJSON(this.name,It);x("string"==typeof C,e,"internal-error"),Bs(d,e.name),Bs(h,e.name),x("boolean"==typeof D,e,"internal-error"),x("boolean"==typeof L,e,"internal-error"),Bs(f,e.name),Bs(p,e.name),Bs(m,e.name),Bs(g,e.name),Bs(v,e.name),Bs(_,e.name);const Hn=new qo({uid:C,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:or,createdAt:v,lastLoginAt:_});return Ee&&Array.isArray(Ee)&&(Hn.providerData=Ee.map(to=>Object.assign({},to))),g&&(Hn._redirectEventId=g),Hn}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new ad;i.updateFromServerResponse(n);const s=new qo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield od(s),s})()}}const hV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function tg(t,e,n){return`firebase:${t}:${e}:${n}`}class Lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tg(this.userKey,i.apiKey,s),this.fullPersistenceKey=tg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?qo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Lu(Ji(hV),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ji(hV);const o=tg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=qo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Lu(s,e,r)):new Lu(s,e,r)})()}}function fV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_V(e))return"Blackberry";if(vV(e))return"Webos";if(kC(e))return"Safari";if((e.includes("chrome/")||gV(e))&&!e.includes("edge/"))return"Chrome";if(yV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function pV(t=Rt()){return/firefox\//i.test(t)}function kC(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gV(t=Rt()){return/crios\//i.test(t)}function mV(t=Rt()){return/iemobile/i.test(t)}function yV(t=Rt()){return/android/i.test(t)}function _V(t=Rt()){return/blackberry/i.test(t)}function vV(t=Rt()){return/webos/i.test(t)}function ng(t=Rt()){return/iphone|ipad|ipod/i.test(t)}function EV(t=Rt()){return ng(t)||yV(t)||vV(t)||_V(t)||/windows phone/i.test(t)||mV(t)}function wV(t,e=[]){let n;switch(t){case"Browser":n=fV(Rt());break;case"Worker":n=`${fV(Rt())}-${t}`;break;default:n=t}return`${n}/JsCore/9.5.0/${e.length?e.join(","):"FirebaseCore-web"}`}class $ie{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bV(this),this.idTokenSubscription=new bV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iV,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(y(function*(){var i,s;r._deleted||(r.persistenceManager=yield Lu.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield od(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?er(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return y(function*(){if(!n._deleted)return e&&x(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(y(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Ji(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Ji(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Lu.create(n,[Ji(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Vn(t){return er(t)}class bV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new xZ(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function es(t,e){return WC.apply(this,arguments)}function WC(){return(WC=y(function*(t,e){return Xi(t,"POST","/v1/accounts:signInWithIdp",wt(t,e))})).apply(this,arguments)}class js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class use extends js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield qo._fromIdTokenResponse(e,r,i),o=xV(r);return new Cr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=xV(r);return new Cr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function xV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class og extends vi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new og(e,n,r,i)}}function RV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?og._fromErrorAndOperation(t,s,e,r):s})}function tI(t,e){return nI.apply(this,arguments)}function nI(){return(nI=y(function*(t,e,n=!1){const r=yield Zi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cr._forOperation(t,"link",r)})).apply(this,arguments)}function iI(){return(iI=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Zi(t,RV(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=eg(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Cr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Ln(r,"user-mismatch"),s}})).apply(this,arguments)}function sI(){return(sI=y(function*(t,e,n=!1){const r="signIn",i=yield RV(t,r,e),s=yield Cr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}new WeakMap;const cg="__sak";class PV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cg,"1"),this.storage.removeItem(cg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sse=(()=>{class t extends PV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Rt();return kC(t)||ng(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=EV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);IF()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),FV=(()=>{class t extends PV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Rse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function OI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Mse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=OI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function bt(){return window}function PI(){return void 0!==bt().WorkerGlobalScope&&"function"==typeof bt().importScripts}function FI(){return(FI=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const LV="firebaseLocalStorageDb",lg="firebaseLocalStorage",VV="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dg(t,e){return t.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function LI(){const t=indexedDB.open(LV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lg,{keyPath:VV})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(LV);return new dd(t).toPromise()}(),e(yield LI()))}))})}function UV(t,e,n){return VI.apply(this,arguments)}function VI(){return(VI=y(function*(t,e,n){const r=dg(t,!0).put({[VV]:e,value:n});return new dd(r).toPromise()})).apply(this,arguments)}function UI(){return(UI=y(function*(t,e){const n=dg(t,!1).get(e),r=yield new dd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function BV(t,e){const n=dg(t,!0).delete(e);return new dd(n).toPromise()}const jse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield LI()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return PI()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=Rse._getInstance(PI()?self:null),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function(){return FI.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Mse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield LI();return yield UV(n,cg,"1"),yield BV(n,cg),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>UV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function(t,e){return UI.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>BV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=dg(o,!1).getAll();return new dd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $V(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Wo(t,e){return e?Ji(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}$V("rcb"),new id(3e4,6e4);class QI extends class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return es(e,this._buildIdpRequest())}_linkToIdToken(e,n){return es(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return es(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ioe(t){return function(t,e){return sI.apply(this,arguments)}(t.auth,new QI(t),t.bypassAuthState)}function soe(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function(t,e){return iI.apply(this,arguments)}(n,new QI(t),t.bypassAuthState)}function ooe(t){return YI.apply(this,arguments)}function YI(){return(YI=y(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),tI(n,new QI(t),t.bypassAuthState)})).apply(this,arguments)}new id(2e3,1e4);const fg=new Map;class coe extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ioe;case"linkViaPopup":case"linkViaRedirect":return ooe;case"reauthViaPopup":case"reauthViaRedirect":return soe;default:Ln(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=fg.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return tT.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}fg.set(n.auth._key(),r)}return n.bypassAuthState||fg.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function tT(){return(tT=y(function*(t,e){const n=GV(e),r=qV(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function qV(t){return Ji(t._redirectPersistence)}function GV(t){return tg("pendingRedirect",t.config.apiKey,t.name)}function WV(t,e){return uT.apply(this,arguments)}function uT(){return(uT=y(function*(t,e,n=!1){const r=Vn(t),i=Wo(r,e),o=yield new coe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class goe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KV(e))}saveEventToCache(e){this.cachedEventUids.add(KV(e)),this.lastProcessedEventTime=Date.now()}}function KV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function yoe(t){return lT.apply(this,arguments)}function lT(){return(lT=y(function*(t,e={}){return Nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const _oe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,voe=/^https?/;function dT(){return(dT=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield yoe(t);for(const n of e)try{if(woe(n))return}catch(r){}Ln(t,"unauthorized-domain")})).apply(this,arguments)}function woe(t){const e=rd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!voe.test(n))return!1;if(_oe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const boe=new id(3e4,6e4);function YV(){const t=bt().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let pg=null;function Ioe(t){return pg=pg||function(t){return new Promise((e,n)=>{var r,i,s;function o(){YV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YV(),n(Ci(t,"network-request-failed"))},timeout:boe.get()})}if(null===(i=null===(r=bt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=bt().gapi)||void 0===s?void 0:s.load)){const a=$V("iframefcb");return bt()[a]=()=>{gapi.load?o():n(Ci(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`)}o()}}).catch(e=>{throw pg=null,e})}(t),pg}const Toe=new id(5e3,15e3),Soe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Roe(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vC(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Fo},i=xoe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xp(r).slice(1)}`}function hT(){return(hT=y(function*(t){const e=yield Ioe(t),n=bt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:Roe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Soe,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ci(t,"network-request-failed"),u=bt().setTimeout(()=>{o(a)},Toe.get());function c(){bt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))})).apply(this,arguments)}const Noe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function XV(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fo,eventId:i};if(e instanceof js){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof use){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?vC(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${xp(a).slice(1)}`}const fT="webStorageSupport",Hoe=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FV,this._completeRedirectFn=WV}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;Us(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=XV(e,n,r,rd(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Noe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Rt().toLowerCase();n&&(a=gV(c)?"_blank":n),pV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=Rt()){var e;return ng(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new JV(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch(h){}return new JV(d)}(e,a,OI())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function(t){bt().location.href=t}(XV(e,n,r,rd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function(t){return hT.apply(this,arguments)}(e),i=new goe(e);return r.register("authEvent",s=>(x(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fT,{type:fT},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[fT];void 0!==o&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return dT.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EV()||kC()||ng()}};var eU="@firebase/auth";class qoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zoe(t=Mp()){const e=Po(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=Po(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Sp(n.getOptions(),null!=e?e:{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Hoe,persistence:[jse,Sse,FV]})}!function(t){In(new un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{x(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),x(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wV(t)},u=new $ie(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ji);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new un("auth-internal",e=>{const n=Vn(e.getProvider("auth").getImmediate());return new qoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(eU,"0.19.3",void 0),Ve(eU,"0.19.3","esm2017")}("Browser");class pT{constructor(e){return e}}class gT{constructor(){return Bp("auth")}}const mT=new z("angularfire2.auth-instances");function Qoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new pT(r)}}const Yoe={provide:gT,deps:[[new Ae,mT]]},Joe={provide:pT,useFactory:function(t,e){const n=Up("auth",t,e);return n&&new pT(n)},deps:[[new Ae,mT],Ho]};let Xoe=(()=>{class t{constructor(){Ve("angularfire",ed.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[Joe,Yoe]}),t})();function Zoe(t,...e){return{ngModule:Xoe,providers:[{provide:mT,useFactory:Qoe(t),multi:!0,deps:[Le,ge,jp,$p,[new Ae,Yp],...e]}]}}const eae=bi(zoe,!0);var k,tae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ts={},yT=yT||{},Y=tae||self;function gg(){}function _T(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function hd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var vT="closure_uid_"+(1e9*Math.random()>>>0),rae=0;function iae(t,e,n){return t.call.apply(t.bind,arguments)}function sae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wt(t,e,n){return(Wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iae:sae).apply(null,arguments)}function mg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $s(){this.s=this.s,this.o=this.o}var aae={};$s.prototype.s=!1,$s.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,vT)&&t[vT]||(t[vT]=++rae)}(this);delete aae[t]}},$s.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},iU=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function sU(t){return Array.prototype.concat.apply([],arguments)}function ET(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yg(t){return/^[\s\xa0]*$/.test(t)}var An,oU=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Dn(t,e){return-1!=t.indexOf(e)}function wT(t,e){return t<e?-1:t>e?1:0}e:{var aU=Y.navigator;if(aU){var uU=aU.userAgent;if(uU){An=uU;break e}}An=""}function bT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cU(t){const e={};for(const n in t)e[n]=t[n];return e}var lU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<lU.length;s++)n=lU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function CT(t){return CT[" "](t),t}CT[" "]=gg;var _g,lae=Dn(An,"Opera"),Vu=Dn(An,"Trident")||Dn(An,"MSIE"),hU=Dn(An,"Edge"),IT=hU||Vu,fU=Dn(An,"Gecko")&&!(Dn(An.toLowerCase(),"webkit")&&!Dn(An,"Edge"))&&!(Dn(An,"Trident")||Dn(An,"MSIE"))&&!Dn(An,"Edge"),dae=Dn(An.toLowerCase(),"webkit")&&!Dn(An,"Edge");function pU(){var t=Y.document;return t?t.documentMode:void 0}e:{var TT="",DT=function(){var t=An;return fU?/rv:([^\);]+)(\)|;)/.exec(t):hU?/Edge\/([\d\.]+)/.exec(t):Vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):dae?/WebKit\/(\S+)/.exec(t):lae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(DT&&(TT=DT?DT[1]:""),Vu){var AT=pU();if(null!=AT&&AT>parseFloat(TT)){_g=String(AT);break e}}_g=TT}var hae={};function fae(){return e=hae,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=oU(String(_g)).split("."),n=oU("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=wT(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||wT(0==i[2].length,0==s[2].length)||wT(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var pae=Y.document&&Vu&&(pU()||parseInt(_g,10))||void 0,gae=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",gg,e),Y.removeEventListener("test",gg,e)}catch(n){}return t}();function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function fd(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fU){e:{try{CT(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:mae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fd.Z.h.call(this)}}cn.prototype.h=function(){this.defaultPrevented=!0},zt(fd,cn);var mae={2:"touch",3:"pen",4:"mouse"};fd.prototype.h=function(){fd.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pd="closure_listenable_"+(1e6*Math.random()|0),yae=0;function _ae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++yae,this.ca=this.fa=!1}function vg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Eg(t){this.src=t,this.g={},this.h=0}function xT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=rU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function RT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Eg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=RT(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new _ae(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var MT="closure_lm_"+(1e6*Math.random()|0),NT={};function mU(t,e,n,r,i){if(r&&r.once)return _U(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mU(t,e[s],n,r,i);return null}return n=FT(n),t&&t[pd]?t.N(e,n,hd(r)?!!r.capture:!!r,i):yU(t,e,n,!1,r,i)}function yU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=hd(i)?!!i.capture:!!i,a=OT(t);if(a||(t[MT]=a=new Eg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=Eae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(EU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _U(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_U(t,e[s],n,r,i);return null}return n=FT(n),t&&t[pd]?t.O(e,n,hd(r)?!!r.capture:!!r,i):yU(t,e,n,!0,r,i)}function vU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vU(t,e[s],n,r,i);else r=hd(r)?!!r.capture:!!r,n=FT(n),t&&t[pd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=RT(s=t.g[e],n,r,i))&&(vg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=OT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=RT(e,n,r,i)),(n=-1<t?e[t]:null)&&kT(n))}function kT(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[pd])xT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(EU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=OT(e))?(xT(n,t),0==n.h&&(n.src=null,e[MT]=null)):vg(t)}}}function EU(t){return t in NT?NT[t]:NT[t]="on"+t}function Eae(t,e){if(t.ca)t=!0;else{e=new fd(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&kT(t),t=n.call(r,e)}return t}function OT(t){return(t=t[MT])instanceof Eg?t:null}var PT="__closure_events_fn_"+(1e9*Math.random()>>>0);function FT(t){return"function"==typeof t?t:(t[PT]||(t[PT]=function(e){return t.handleEvent(e)}),t[PT])}function kt(){$s.call(this),this.i=new Eg(this),this.P=this,this.I=null}function Kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var i=e;dU(e=new cn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wg(o,r,!0,e)&&i}if(i=wg(o=e.g=t,r,!0,e)&&i,i=wg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=wg(o=e.g=n[s],r,!1,e)&&i}function wg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&xT(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}zt(kt,$s),kt.prototype[pd]=!0,kt.prototype.removeEventListener=function(t,e,n,r){vU(this,t,e,n,r)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vg(n[r]);delete t.g[e],t.h--}}this.I=null},kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var LT=Y.JSON.stringify;function wae(){var t=bU;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var UT,wU=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Cae,t=>t.reset());class Cae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Iae(t){Y.setTimeout(()=>{throw t},0)}function VT(t,e){UT||function(){var t=Y.Promise.resolve(void 0);UT=function(){t.then(Dae)}}(),BT||(UT(),BT=!0),bU.add(t,e)}var BT=!1,bU=new class{constructor(){this.h=this.g=null}add(e,n){const r=wU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Dae(){for(var t;t=wae();){try{t.h.call(t.g)}catch(n){Iae(n)}var e=wU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}BT=!1}function bg(t,e){kt.call(this),this.h=t||1,this.g=e||Y,this.j=Wt(this.kb,this),this.l=Date.now()}function jT(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function $T(t,e,n){if("function"==typeof t)n&&(t=Wt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function CU(t){t.g=$T(()=>{t.g=null,t.i&&(t.i=!1,CU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}zt(bg,kt),(k=bg.prototype).da=!1,k.S=null,k.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kt(this,"tick"),this.da&&(jT(this),this.start()))}},k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){bg.Z.M.call(this),jT(this),delete this.g};class Aae extends $s{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CU(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gd(t){$s.call(this),this.h=t,this.g={}}zt(gd,$s);var IU=[];function TU(t,e,n,r){Array.isArray(n)||(n&&(IU[0]=n.toString()),n=IU);for(var i=0;i<n.length;i++){var s=mU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function DU(t){bT(t.g,function(e,n){this.g.hasOwnProperty(n)&&kT(e)},t),t.g={}}function Cg(){this.g=!0}function Uu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return LT(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}gd.prototype.M=function(){gd.Z.M.call(this),DU(this)},gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cg.prototype.Aa=function(){this.g=!1},Cg.prototype.info=function(){};var zo={},AU=null;function Ig(){return AU=AU||new kt}function SU(t){cn.call(this,zo.Ma,t)}function md(t){const e=Ig();Kt(e,new SU(e,t))}function xU(t,e){cn.call(this,zo.STAT_EVENT,t),this.stat=e}function Sn(t){const e=Ig();Kt(e,new xU(e,t))}function RU(t,e){cn.call(this,zo.Na,t),this.size=e}function yd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}zo.Ma="serverreachability",zt(SU,cn),zo.STAT_EVENT="statevent",zt(xU,cn),zo.Na="timingevent",zt(RU,cn);var Tg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},MU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function HT(){}function kU(){}HT.prototype.h=null;var WT,_d={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qT(){cn.call(this,"d")}function GT(){cn.call(this,"c")}function Dg(){}function vd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new gd(this),this.P=Nae,this.W=new bg(t=IT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new OU}function OU(){this.i=null,this.g="",this.h=!1}zt(qT,cn),zt(GT,cn),zt(Dg,HT),Dg.prototype.g=function(){return new XMLHttpRequest},Dg.prototype.i=function(){return{}},WT=new Dg;var Nae=45e3,zT={},Ag={};function KT(t,e,n){t.K=1,t.v=Ng(ns(e)),t.s=n,t.U=!0,PU(t,null)}function PU(t,e){t.F=Date.now(),Ed(t),t.A=ns(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),qU(n.h,"t",r),t.C=0,n=t.l.H,t.h=new OU,t.g=f2(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Aae(Wt(t.Ia,t,t.g),t.O)),TU(t.V,t.g,"readystatechange",t.gb),e=t.H?cU(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),md(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function FU(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function LU(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=kae(t,n),i==Ag){4==e&&(t.o=4,Sn(14),r=!1),Uu(t.j,t.m,null,"[Incomplete Response]");break}if(i==zT){t.o=4,Sn(15),Uu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Uu(t.j,t.m,i,null),QT(t,i)}FU(t)&&i!=Ag&&i!=zT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),oD(e),e.L=!0,Sn(11))):(Uu(t.j,t.m,n,"[Invalid Chunked Response]"),Ko(t),wd(t))}function kae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ag:(n=Number(e.substring(n,r)),isNaN(n)?zT:(r+=1)+n>e.length?Ag:(e=e.substr(r,n),t.C=r+n,e))}function Ed(t){t.Y=Date.now()+t.P,VU(t,t.P)}function VU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=yd(Wt(t.eb,t),e)}function Sg(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function wd(t){0==t.l.G||t.I||c2(t.l,t)}function Ko(t){Sg(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,jT(t.W),DU(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function QT(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||XT(n.i,t)))if(n.I=t.N,!t.J&&XT(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=yd(Wt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Vg(n),Fg(n)}sD(n),Sn(18)}if(1>=zU(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Jo(n,11)}else if((t.J||n.g==t)&&Vg(n),!yg(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Dn(p,"spdy")||Dn(p,"quic")||Dn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ZT(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,$e(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=h2(r,r.H?r.la:null,r.W),o.J){KU(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Sg(a),Ed(a)),r.g=o}else a2(r);0<n.l.length&&Lg(n)}else"stop"!=c[0]&&"close"!=c[0]||Jo(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jo(n,7):rD(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}md(4)}catch(c){}}function YT(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_T(t)||"string"==typeof t)iU(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(_T(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(_T(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Bu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function JT(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Qo(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Qo(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Qo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(k=vd.prototype).setTimeout=function(t){this.P=t},k.gb=function(t){t=t.target;const e=this.L;e&&3==rs(t)?e.l():this.Ia(t)},k.Ia=function(t){try{if(t==this.g)e:{const l=rs(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||IT||this.g&&(this.h.h||this.g.ga()||n2(this.g)))){this.I||4!=l||7==e||md(8==e||0>=d?3:2),Sg(this);var n=this.g.ba();this.N=n;t:if(FU(this)){var r=n2(this.g);t="";var i=r.length,s=4==rs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ko(this),wd(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yg(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sn(12),Ko(this),wd(this);break e}Uu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,QT(this,n)}this.U?(LU(this,l,o),IT&&this.i&&3==l&&(TU(this.V,this.W,"tick",this.fb),this.W.start())):(Uu(this.j,this.m,o,null),QT(this,o)),4==l&&Ko(this),this.i&&!this.I&&(4==l?c2(this.l,this):(this.i=!1,Ed(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),Ko(this),wd(this)}}}catch(l){}},k.fb=function(){if(this.g){var t=rs(this.g),e=this.g.ga();this.C<e.length&&(Sg(this),LU(this,t,e),this.i&&4!=t&&Ed(this))}},k.cancel=function(){this.I=!0,Ko(this)},k.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(md(3),Sn(17)),Ko(this),this.o=2,wd(this)):VU(this,this.Y-t)},(k=Bu.prototype).R=function(){JT(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},k.T=function(){return JT(this),this.g.concat()},k.get=function(t,e){return Qo(this.h,t)?this.h[t]:e},k.set=function(t,e){Qo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},k.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var UU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yo(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Yo){this.g=void 0!==e?e:t.g,xg(this,t.j),this.s=t.s,Rg(this,t.i),Mg(this,t.m),this.l=t.l,e=t.h;var n=new Id;n.i=e.i,e.g&&(n.g=new Bu(e.g),n.h=e.h),BU(this,n),this.o=t.o}else t&&(n=String(t).match(UU))?(this.g=!!e,xg(this,n[1]||"",!0),this.s=bd(n[2]||""),Rg(this,n[3]||"",!0),Mg(this,n[4]),this.l=bd(n[5]||"",!0),BU(this,n[6]||"",!0),this.o=bd(n[7]||"")):(this.g=!!e,this.h=new Id(null,this.g))}function ns(t){return new Yo(t)}function xg(t,e,n){t.j=n?bd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rg(t,e,n){t.i=n?bd(e,!0):e}function Mg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function BU(t,e,n){e instanceof Id?(t.h=e,function(t,e){e&&!t.j&&(Hs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($U(this,r),qU(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Cd(e,jae)),t.h=new Id(e,t.g))}function $e(t,e,n){t.h.set(e,n)}function Ng(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cd(e,jU,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Cd(e,jU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cd(n,"/"==n.charAt(0)?Bae:Uae,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cd(n,$ae)),t.join("")};var jU=/[#\/\?@]/g,Uae=/[#\?:]/g,Bae=/[#\?]/g,jae=/[#\?@]/g,$ae=/#/g;function Id(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hs(t){t.g||(t.g=new Bu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $U(t,e){Hs(t),e=ju(t,e),Qo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Qo((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&JT(t)))}function HU(t,e){return Hs(t),e=ju(t,e),Qo(t.g.h,e)}function qU(t,e,n){$U(t,e),0<n.length&&(t.i=null,t.g.set(ju(t,e),ET(n)),t.h+=n.length)}function ju(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GU(t){this.l=t||Gae,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ea&&Y.g.Ea()&&Y.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Id.prototype).add=function(t,e){Hs(this),this.i=null,t=ju(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){Hs(this),this.g.forEach(function(n,r){iU(n,function(i){t.call(e,i,r,this)},this)},this)},k.T=function(){Hs(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},k.R=function(t){Hs(this);var e=[];if("string"==typeof t)HU(this,t)&&(e=sU(e,this.g.get(ju(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=sU(e,t[n])}return e},k.set=function(t,e){return Hs(this),this.i=null,HU(this,t=ju(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Gae=10;function WU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function zU(t){return t.h?1:t.g?t.g.size:0}function XT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ZT(t,e){t.g?t.g.add(e):t.h=e}function KU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function QU(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ET(t.i)}function eD(){}function Wae(){this.g=new eD}function zae(t,e,n){const r=n||"";try{YT(t,function(i,s){let o=i;hd(i)&&(o=LT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Td(t){this.l=t.$b||null,this.j=t.ib||!1}function Og(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=tD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}GU.prototype.cancel=function(){if(this.i=QU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},eD.prototype.stringify=function(t){return Y.JSON.stringify(t,void 0)},eD.prototype.parse=function(t){return Y.JSON.parse(t,void 0)},zt(Td,HT),Td.prototype.g=function(){return new Og(this.l,this.j)},Td.prototype.i=function(t){return function(){return t}}({}),zt(Og,kt);var tD=0;function YU(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Dd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ad(t)}function Ad(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=Og.prototype).open=function(t,e){if(this.readyState!=tD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ad(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Y).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dd(this)),this.readyState=tD},k.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Y.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YU(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},k.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Dd(this):Ad(this),3==this.readyState&&YU(this)}},k.Ua=function(t){this.g&&(this.response=this.responseText=t,Dd(this))},k.Ta=function(t){this.g&&(this.response=t,Dd(this))},k.ha=function(){this.g&&Dd(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Og.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Qae=Y.JSON.parse;function ct(t){kt.call(this),this.headers=new Bu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JU,this.K=this.L=!1}zt(ct,kt);var JU="",Yae=/^https?$/i,Jae=["POST","PUT"];function Zae(t){return"content-type"==t.toLowerCase()}function XU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZU(t),Pg(t)}function ZU(t){t.D||(t.D=!0,Kt(t,"complete"),Kt(t,"error"))}function e2(t){if(t.h&&void 0!==yT&&(!t.C[1]||4!=rs(t)||2!=t.ba()))if(t.v&&4==rs(t))$T(t.Fa,0,t);else if(Kt(t,"readystatechange"),4==rs(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(UU)[1]||null;if(!i&&Y.self&&Y.self.location){var s=Y.self.location.protocol;i=s.substr(0,s.length-1)}r=!Yae.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var o=2<rs(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",ZU(t)}}finally{Pg(t)}}}function Pg(t,e){if(t.g){t2(t);const n=t.g,r=t.C[0]?gg:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function t2(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function rs(t){return t.g?t.g.readyState:0}function n2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case JU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return bT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Sd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function r2(t){this.za=0,this.l=[],this.h=new Cg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sd("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sd("baseRetryDelayMs",5e3,t),this.$a=Sd("retryDelaySeedMs",1e4,t),this.Ya=Sd("forwardChannelMaxRetries",2,t),this.ra=Sd("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new GU(t&&t.concurrentRequestLimit),this.Ca=new Wae,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function rD(t){if(i2(t),3==t.G){var e=t.V++,n=ns(t.F);$e(n,"SID",t.J),$e(n,"RID",e),$e(n,"TYPE","terminate"),xd(t,n),(e=new vd(t,t.h,e,void 0)).K=2,e.v=Ng(ns(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon&&(n=Y.navigator.sendBeacon(e.v.toString(),"")),!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=f2(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ed(e)}d2(t)}function Fg(t){t.g&&(oD(t),t.g.cancel(),t.g=null)}function i2(t){Fg(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Vg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function iD(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Lg(t)}function Lg(t){WU(t.i)||t.m||(t.m=!0,VT(t.Ha,t),t.C=0)}function s2(t,e){var n;n=e?e.m:t.V++;const r=ns(t.F);$e(r,"SID",t.J),$e(r,"RID",n),$e(r,"AID",t.U),xd(t,r),t.o&&t.s&&nD(r,t.o,t.s),n=new vd(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=o2(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ZT(t.i,n),KT(n,r,e)}function xd(t,e){t.j&&YT({},function(n,r){$e(e,r,n)})}function o2(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Wt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{zae(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function a2(t){t.g||t.u||(t.Y=1,VT(t.Ga,t),t.A=0)}function sD(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=yd(Wt(t.Ga,t),l2(t,t.A)),t.A++,0))}function oD(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function u2(t){t.g=new vd(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ns(t.oa);$e(e,"RID","rpc"),$e(e,"SID",t.J),$e(e,"CI",t.N?"0":"1"),$e(e,"AID",t.U),xd(t,e),$e(e,"TYPE","xmlhttp"),t.o&&t.s&&nD(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ng(ns(e)),n.s=null,n.U=!0,PU(n,t)}function Vg(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function c2(t,e){var n=null;if(t.g==e){Vg(t),oD(t),t.g=null;var r=2}else{if(!XT(t.i,e))return;n=e.D,KU(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kt(r=Ig(),new RU(r,n,e,i)),Lg(t)}else a2(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(zU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=yd(Wt(t.Ha,t,e),l2(t,t.C)),t.C++,0)))}(t,e)||2==r&&sD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jo(t,5);break;case 4:Jo(t,10);break;case 3:Jo(t,6);break;default:Jo(t,2)}}function l2(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Jo(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Wt(t.jb,t);n||(n=new Yo("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||xg(n,"https"),Ng(n)),function(t,e){const n=new Cg;if(Y.Image){const r=new Image;r.onload=mg(kg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mg(kg,n,r,"TestLoadImage: error",!1,e),r.onabort=mg(kg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mg(kg,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sn(2);t.G=0,t.j&&t.j.va(e),d2(t),i2(t)}function d2(t){t.G=0,t.I=-1,t.j&&((0!=QU(t.i).length||0!=t.l.length)&&(t.i.i.length=0,ET(t.l),t.l.length=0),t.j.ua())}function h2(t,e,n){let r=function(t){return t instanceof Yo?ns(t):new Yo(t,void 0)}(n);if(""!=r.i)e&&Rg(r,e+"."+r.i),Mg(r,r.m);else{const i=Y.location;r=function(t,e,n,r){var i=new Yo(null,void 0);return t&&xg(i,t),e&&Rg(i,e),n&&Mg(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&bT(t.aa,function(i,s){$e(r,s,i)}),n=t.sa,(e=t.D)&&n&&$e(r,e,n),$e(r,"VER",t.ma),xd(t,r),r}function f2(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ct(n&&t.Ba&&!t.qa?new Td({ib:!0}):t.qa)).L=t.H,e}function p2(){}function Ug(){if(Vu&&!(10<=Number(pae)))throw Error("Environmental error: no available transport.")}function nr(t,e){kt.call(this),this.g=new r2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!yg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yg(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $u(this)}function g2(t){qT.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function m2(){GT.call(this),this.status=1}function $u(t){this.g=t}(k=ct.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():WT.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:WT),this.g.onreadystatechange=Wt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void XU(this,s)}t=n||"";const i=new Bu(this.headers);r&&YT(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=Zae;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Y.FormData&&t instanceof Y.FormData,!(0<=rU(Jae,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{t2(this),0<this.B&&((this.K=function(t){return Vu&&fae()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wt(this.pa,this)):this.A=$T(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){XU(this,s)}},k.pa=function(){void 0!==yT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),Pg(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pg(this,!0)),ct.Z.M.call(this)},k.Fa=function(){this.s||(this.F||this.v||this.l?e2(this):this.cb())},k.cb=function(){e2(this)},k.ba=function(){try{return 2<rs(this)?this.g.status:-1}catch(t){return-1}},k.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},k.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qae(e)}},k.Da=function(){return this.m},k.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=r2.prototype).ma=8,k.G=1,k.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},k.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new vd(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=cU(s),dU(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=o2(this,i,e),$e(n=ns(this.F),"RID",t),$e(n,"CVER",22),this.D&&$e(n,"X-HTTP-Session-Id",this.D),xd(this,n),this.o&&s&&nD(n,this.o,s),ZT(this.i,i),this.Ra&&$e(n,"TYPE","init"),this.ja?($e(n,"$req",e),$e(n,"SID","null"),i.$=!0,KT(i,n,null)):KT(i,n,e),this.G=2}}else 3==this.G&&(t?s2(this,t):0==this.l.length||WU(this.i)||s2(this))},k.Ga=function(){if(this.u=null,u2(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=yd(Wt(this.bb,this),t)}},k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sn(10),Fg(this),u2(this))},k.ab=function(){null!=this.v&&(this.v=null,Fg(this),sD(this),Sn(19))},k.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Sn(2)):(this.h.info("Failed to ping google.com"),Sn(1))},(k=p2.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Oa=function(){},Ug.prototype.g=function(t,e){return new nr(t,e)},zt(nr,kt),nr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),VT(Wt(t.hb,t,e))),Sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=h2(t,null,t.W),Lg(t)},nr.prototype.close=function(){rD(this.g)},nr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,iD(this.g,e)}else this.v?((e={}).__data__=LT(t),iD(this.g,e)):iD(this.g,t)},nr.prototype.M=function(){this.g.j=null,delete this.j,rD(this.g),delete this.g,nr.Z.M.call(this)},zt(g2,qT),zt(m2,GT),zt($u,p2),$u.prototype.xa=function(){Kt(this.g,"a")},$u.prototype.wa=function(t){Kt(this.g,new g2(t))},$u.prototype.va=function(t){Kt(this.g,new m2(t))},$u.prototype.ua=function(){Kt(this.g,"b")},Ug.prototype.createWebChannel=Ug.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,Tg.NO_ERROR=0,Tg.TIMEOUT=8,Tg.HTTP_ERROR=6,MU.COMPLETE="complete",kU.EventType=_d,_d.OPEN="a",_d.CLOSE="b",_d.ERROR="c",_d.MESSAGE="d",kt.prototype.listen=kt.prototype.N,ct.prototype.listenOnce=ct.prototype.O,ct.prototype.getLastError=ct.prototype.La,ct.prototype.getLastErrorCode=ct.prototype.Da,ct.prototype.getStatus=ct.prototype.ba,ct.prototype.getResponseJson=ct.prototype.Qa,ct.prototype.getResponseText=ct.prototype.ga,ct.prototype.send=ct.prototype.ea;var nue=ts.createWebChannelTransport=function(){return new Ug},rue=ts.getStatEventTarget=function(){return Ig()},aD=ts.ErrorCode=Tg,iue=ts.EventType=MU,sue=ts.Event=zo,y2=ts.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},oue=ts.FetchXmlHttpFactory=Td,Bg=ts.WebChannel=kU,aue=ts.XhrIo=ct;const _2="@firebase/firestore";class Qt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");let Hu="9.5.0";const qs=new Ru("@firebase/firestore");function uD(){return qs.logLevel}function A(t,...e){if(qs.logLevel<=me.DEBUG){const n=e.map(cD);qs.debug(`Firestore (${Hu}): ${t}`,...n)}}function lt(t,...e){if(qs.logLevel<=me.ERROR){const n=e.map(cD);qs.error(`Firestore (${Hu}): ${t}`,...n)}}function jg(t,...e){if(qs.logLevel<=me.WARN){const n=e.map(cD);qs.warn(`Firestore (${Hu}): ${t}`,...n)}}function cD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${Hu}) INTERNAL ASSERTION FAILED: `+t;throw lt(e),new Error(e)}function q(t,e){t||P()}function R(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ot{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class v2{constructor(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class uue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class lue{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ot;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ot,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ot)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new v2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Qt(e)}}class due{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class hue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new due(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.g(r),this.p=r=>n.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function fue(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}rr.T=-1;class E2{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function qu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Yt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function b2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Rd{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Rd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends Rd{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const pue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Rd{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return pue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Gu{constructor(e){this.fields=e,e.sort(ln.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const gue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(q(!!t),"string"==typeof t){let e=0;const n=gue.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wu(t){return"string"==typeof t?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function lD(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function I2(t){const e=t.mapValue.fields.__previous_value__;return lD(e)?I2(e):e}function Md(t){const e=Gs(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}function Zo(t){return null==t}function $g(t){return 0===t&&1/t==-1/0}class O{constructor(e){this.path=e}static fromPath(e){return new O(be.fromString(e))}static fromName(e){return new O(be.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new be(e.slice()))}}function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lD(t)?4:10:P()}function Ti(t,e){const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gs(r.timestampValue),o=Gs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Wu(t.bytesValue).isEqual(Wu(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return dt(r.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(r.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dt(r.integerValue)===dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=dt(r.doubleValue),o=dt(i.doubleValue);return s===o?$g(s)===$g(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return qu(t.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(b2(s)!==b2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ti(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function Nd(t,e){return void 0!==(t.values||[]).find(n=>Ti(n,e))}function zu(t,e){const n=ea(t),r=ea(e);if(n!==r)return de(n,r);switch(n){case 0:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=dt(i.integerValue||i.doubleValue),a=dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return D2(t.timestampValue,e.timestampValue);case 4:return D2(Md(t),Md(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Wu(i),a=Wu(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=de(o[u],a[u]);if(0!==c)return c}return de(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=de(dt(i.latitude),dt(s.latitude));return 0!==o?o:de(dt(i.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=zu(o[u],a[u]);if(c)return c}return de(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=de(a[l],c[l]);if(0!==d)return d;const h=zu(o[a[l]],u[c[l]]);if(0!==h)return h}return de(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function D2(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return de(t,e);const n=Gs(t),r=Gs(e),i=de(n.seconds,r.seconds);return 0!==i?i:de(n.nanos,r.nanos)}function dD(t){return hD(t)}function hD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wu(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=hD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${hD(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function fD(t){return!!t&&"integerValue"in t}function pD(t){return!!t&&"arrayValue"in t}function A2(t){return!!t&&"nullValue"in t}function S2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qg(t){return!!t&&"mapValue"in t}function kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kd(t.arrayValue.values[n]);return e}return Object.assign({},t)}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kd(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=kd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(kd(this.value))}}function x2(t){const e=[];return Xo(t.fields,(n,r)=>{const i=new ln([n]);if(qg(r)){const s=x2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gu(e)}class He{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new He(e,0,ee.min(),dn.empty(),0)}static newFoundDocument(e,n,r){return new He(e,1,n,r,0)}static newNoDocument(e,n){return new He(e,2,n,dn.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,dn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new He(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mue{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.A=null}}function R2(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mue(t,e,n,r,i,s,o)}function Od(t){const e=R(t);if(null===e.A){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+dD(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=zg(e.startAt)),e.endAt&&(n+="|ub:",n+=zg(e.endAt)),e.A=n}return e.A}function Gg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Due(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ti(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k2(t.startAt,e.startAt)&&k2(t.endAt,e.endAt)}function Wg(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class xn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.R(e,n,r):new vue(e,n,r):"array-contains"===n?new bue(e,r):"in"===n?new Cue(e,r):"not-in"===n?new Iue(e,r):"array-contains-any"===n?new Tue(e,r):new xn(e,n,r)}static R(e,n,r){return"in"===n?new Eue(e,r):new wue(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.P(zu(n,this.value)):null!==n&&ea(this.value)===ea(n)&&this.P(zu(n,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vue extends xn{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.P(n)}}class Eue extends xn{constructor(e,n){super(e,"in",n),this.keys=M2(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wue extends xn{constructor(e,n){super(e,"not-in",n),this.keys=M2(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M2(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class bue extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pD(n)&&Nd(n.arrayValue,this.value)}}class Cue extends xn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Nd(this.value.arrayValue,n)}}class Iue extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Nd(this.value.arrayValue,n)}}class Tue extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}}class Pd{constructor(e,n){this.position=e,this.before=n}}function zg(t){return`${t.before?"b":"a"}:${t.position.map(e=>dD(e)).join(",")}`}class Ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function Due(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function N2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):zu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function k2(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ti(t.position[n],e.position[n]))return!1;return!0}class is{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.V=null,this.S=null}}function Qu(t){return new is(t)}function Kg(t){return!Zo(t.limit)&&"F"===t.limitType}function Qg(t){return!Zo(t.limit)&&"L"===t.limitType}function Yu(t){const e=R(t);if(null===e.V){e.V=[];const n=function(t){for(const e of t.filters)if(e.v())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.V.push(new Ku(n)),e.V.push(new Ku(ln.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.V.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Ku(ln.keyField(),s))}}}return e.V}function Ir(t){const e=R(t);if(!e.S)if("F"===e.limitType)e.S=R2(e.path,e.collectionGroup,Yu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Yu(e))n.push(new Ku(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Pd(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Pd(e.startAt.position,!e.startAt.before):null;e.S=R2(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.S}function Fd(t,e){return Gg(Ir(t),Ir(e))&&t.limitType===e.limitType}function F2(t){return`${Od(Ir(t))}|lt:${t.limitType}`}function _D(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${dD(r.value)}`;var r}).join(", ")}]`),Zo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+zg(t.startAt)),t.endAt&&(e+=", endAt: "+zg(t.endAt)),`Target(${e})`}(Ir(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!N2(n.startAt,Yu(n),r)||n.endAt&&N2(n.endAt,Yu(n),r)));var n,r}function L2(t){return(e,n)=>{let r=!1;for(const i of Yu(t)){const s=Aue(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Aue(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?zu(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}function V2(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(e)?"-0":e}}function U2(t){return{integerValue:""+t}}function B2(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!$g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?U2(e):V2(t,e)}class Yg{constructor(){this._=void 0}}function Sue(t,e,n){return t instanceof Ju?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ta?$2(t,e):t instanceof na?H2(t,e):function(r,i){const s=j2(r,i),o=q2(s)+q2(r.C);return fD(s)&&fD(r.C)?U2(o):V2(r.N,o)}(t,e)}function xue(t,e,n){return t instanceof ta?$2(t,e):t instanceof na?H2(t,e):n}function j2(t,e){return t instanceof Xu?fD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ju extends Yg{}class ta extends Yg{constructor(e){super(),this.elements=e}}function $2(t,e){const n=G2(e);for(const r of t.elements)n.some(i=>Ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class na extends Yg{constructor(e){super(),this.elements=e}}function H2(t,e){let n=G2(e);for(const r of t.elements)n=n.filter(i=>!Ti(i,r));return{arrayValue:{values:n}}}class Xu extends Yg{constructor(e,n){super(),this.N=e,this.C=n}}function q2(t){return dt(t.integerValue||t.doubleValue)}function G2(t){return pD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Mue{constructor(e,n){this.version=e,this.transformResults=n}}class ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Xg{}function Nue(t,e,n){t instanceof Ud?function(r,i,s){const o=r.value.clone(),a=Q2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(r,i,s){if(!Jg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Q2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(K2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function vD(t,e,n){var i;t instanceof Ud?function(r,i,s){if(!Jg(r.precondition,i))return;const o=r.value.clone(),a=Y2(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(z2(i),o).setHasLocalMutations()}(t,e,n):t instanceof Ws?function(r,i,s){if(!Jg(r.precondition,i))return;const o=Y2(r.fieldTransforms,s,i),a=i.data;a.setAll(K2(r)),a.setAll(o),i.convertToFoundDocument(z2(i),a).setHasLocalMutations()}(t,e,n):Jg(t.precondition,i=e)&&i.convertToNoDocument(ee.min())}function kue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=j2(r.transform,i||null);null!=s&&(null==n&&(n=dn.empty()),n.set(r.field,s))}return n||null}function W2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&qu(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ta&&r instanceof ta||n instanceof na&&r instanceof na?qu(n.elements,r.elements,Ti):n instanceof Xu&&r instanceof Xu?Ti(n.C,r.C):n instanceof Ju&&r instanceof Ju);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function z2(t){return t.isFoundDocument()?t.version:ee.min()}class Ud extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ws extends Xg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function K2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Q2(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xue(o,a,n[i]))}return r}function Y2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Sue(s,o,e))}return r}class Bd extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class ED extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Oue{constructor(e){this.count=e}}var ft,ye;function J2(t){switch(t){default:return P();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function X2(t){if(void 0===t)return lt("GRPC error has no .code"),E.UNKNOWN;switch(t){case ft.OK:return E.OK;case ft.CANCELLED:return E.CANCELLED;case ft.UNKNOWN:return E.UNKNOWN;case ft.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ft.INTERNAL:return E.INTERNAL;case ft.UNAVAILABLE:return E.UNAVAILABLE;case ft.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ft.NOT_FOUND:return E.NOT_FOUND;case ft.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ft.ABORTED:return E.ABORTED;case ft.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ft.DATA_LOSS:return E.DATA_LOSS;default:return P()}}(ye=ft||(ft={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class Ct{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zg(this.root,e,this.comparator,!0)}}class Zg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Jt.RED,this.left=null!=i?i:Jt.EMPTY,this.right=null!=s?s:Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z2(this.data.getIterator())}getIteratorFrom(e){return new Z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Pue=new Ct(O.comparator);function Tr(){return Pue}const Fue=new Ct(O.comparator);function wD(){return Fue}const Lue=new Ct(O.comparator);const Vue=new Xe(O.comparator);function Se(...t){let e=Vue;for(const n of t)e=e.add(n);return e}const Uue=new Xe(de);function em(){return Uue}class jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,$d.createSynthesizedTargetChangeForCurrentChange(e,n)),new jd(ee.min(),r,em(),Tr(),Se())}}class $d{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new $d(Pt.EMPTY_BYTE_STRING,n,Se(),Se(),Se())}}class tm{constructor(e,n,r,i){this.k=e,this.removedTargetIds=n,this.key=r,this.$=i}}class tB{constructor(e,n){this.targetId=e,this.O=n}}class nB{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rB{constructor(){this.F=0,this.M=sB(),this.L=Pt.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Se(),n=Se(),r=Se();return this.M.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new $d(this.L,this.B,e,n,r)}G(){this.U=!1,this.M=sB()}H(e,n){this.U=!0,this.M=this.M.insert(e,n)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Bue{constructor(e){this.tt=e,this.et=new Map,this.nt=Tr(),this.st=iB(),this.it=new Xe(de)}rt(e){for(const n of e.k)e.$&&e.$.isFoundDocument()?this.ot(n,e.$):this.ct(n,e.key,e.$);for(const n of e.removedTargetIds)this.ct(n,e.key,e.$)}at(e){this.forEachTarget(e,n=>{const r=this.ut(n);switch(e.state){case 0:this.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(n);break;case 3:this.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),r.j(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.et.forEach((r,i)=>{this.ht(i)&&n(i)})}ft(e){const n=e.targetId,r=e.O.count,i=this.dt(n);if(i){const s=i.target;if(Wg(s))if(0===r){const o=new O(s.path);this.ct(n,o,He.newNoDocument(o,ee.min()))}else q(1===r);else this.wt(n)!==r&&(this.lt(n),this.it=this.it.add(n))}}_t(e){const n=new Map;this.et.forEach((s,o)=>{const a=this.dt(o);if(a){if(s.current&&Wg(a.target)){const u=new O(a.target.path);null!==this.nt.get(u)||this.gt(o,u)||this.ct(o,u,He.newNoDocument(u,e))}s.K&&(n.set(o,s.W()),s.G())}});let r=Se();this.st.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.dt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new jd(e,n,this.it,this.nt,r);return this.nt=Tr(),this.st=iB(),this.it=new Xe(de),i}ot(e,n){if(!this.ht(e))return;const r=this.gt(e,n.key)?2:0;this.ut(e).H(n.key,r),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(e))}ct(e,n,r){if(!this.ht(e))return;const i=this.ut(e);this.gt(e,n)?i.H(n,1):i.J(n),this.st=this.st.insert(n,this.yt(n).delete(e)),r&&(this.nt=this.nt.insert(n,r))}removeTarget(e){this.et.delete(e)}wt(e){const n=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let n=this.et.get(e);return n||(n=new rB,this.et.set(e,n)),n}yt(e){let n=this.st.get(e);return n||(n=new Xe(de),this.st=this.st.insert(e,n)),n}ht(e){const n=null!==this.dt(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}dt(e){const n=this.et.get(e);return n&&n.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new rB),this.tt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}gt(e,n){return this.tt.getRemoteKeysForTarget(e).has(n)}}function iB(){return new Ct(O.comparator)}function sB(){return new Ct(O.comparator)}const jue={asc:"ASCENDING",desc:"DESCENDING"},$ue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Hue{constructor(e,n){this.databaseId=e,this.D=n}}function Hd(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oB(t,e){return t.D?e.toBase64():e.toUint8Array()}function que(t,e){return Hd(t,e.toTimestamp())}function Ft(t){return q(!!t),ee.fromTimestamp(function(e){const n=Gs(e);return new Yt(n.seconds,n.nanos)}(t))}function bD(t,e){return(n=t,new be(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function aB(t){const e=be.fromString(t);return q(vB(e)),e}function qd(t,e){return bD(t.databaseId,e.path)}function Di(t,e){const n=aB(e);if(n.get(1)!==t.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(cB(n))}function CD(t,e){return bD(t.databaseId,e)}function Gd(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cB(t){return q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function lB(t,e,n){return{name:qd(t,e),fields:n.value.mapValue.fields}}function fB(t,e){return{documents:[CD(t,e.path)]}}function pB(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=CD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=CD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(S2(l.value))return{unaryFilter:{field:Zu(l.field),op:"IS_NAN"}};if(A2(l.value))return{unaryFilter:{field:Zu(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(S2(l.value))return{unaryFilter:{field:Zu(l.field),op:"IS_NOT_NAN"}};if(A2(l.value))return{unaryFilter:{field:Zu(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zu(l.field),op:Yue(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Zu((c=u).field),direction:Que(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.D||Zo(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=yB(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yB(e.endAt)),n}function gB(t){let e=function(t){const e=aB(t);return 4===e.length?be.emptyPath():cB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=mB(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ku(ec((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Zo(d)?null:d}(n.limit));let u=null;n.startAt&&(u=_B(n.startAt));let c=null;return n.endAt&&(c=_B(n.endAt)),function(t,e,n,r,i,s,o,a){return new is(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function mB(t){return t?void 0!==t.unaryFilter?[Xue(t)]:void 0!==t.fieldFilter?[Jue(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>mB(e)).reduce((e,n)=>e.concat(n)):P():[]}function yB(t){return{before:t.before,values:t.position}}function _B(t){return new Pd(t.values||[],!!t.before)}function Que(t){return jue[t]}function Yue(t){return $ue[t]}function Zu(t){return{fieldPath:t.canonicalString()}}function ec(t){return ln.fromServerFormat(t.fieldPath)}function Jue(t){return xn.create(ec(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xue(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ec(t.unaryFilter.field);return xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ec(t.unaryFilter.field);return xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ec(t.unaryFilter.field);return xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ec(t.unaryFilter.field);return xn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function Zue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Kr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EB(e)),e=ece(t.get(n),e);return EB(e)}function ece(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function EB(t){return t+"\x01\x01"}class ir{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}ir.store="owner",ir.key="owner";class zs{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}zs.store="mutationQueues",zs.keyPath="userId";class Ue{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Ue.store="mutations",Ue.keyPath="batchId",Ue.userMutationsIndex="userMutationsIndex",Ue.userMutationsKeyPath=["userId","batchId"];class hn{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Kr(n)]}static key(e,n,r){return[e,Kr(n),r]}}hn.store="documentMutations",hn.PLACEHOLDER=new hn;class Ze{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Ze.store="remoteDocuments",Ze.readTimeIndex="readTimeIndex",Ze.readTimeIndexPath="readTime",Ze.collectionReadTimeIndex="collectionReadTimeIndex",Ze.collectionReadTimeIndexPath=["parentPath","readTime"];class Ai{constructor(e){this.byteSize=e}}Ai.store="remoteDocumentGlobal",Ai.key="remoteDocumentGlobalKey";class Un{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Un.store="targets",Un.keyPath="targetId",Un.queryTargetsIndexName="queryTargetsIndex",Un.queryTargetsKeyPath=["canonicalId","targetId"];class Xt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Xt.store="targetDocuments",Xt.keyPath=["targetId","path"],Xt.documentTargetsIndex="documentTargetsIndex",Xt.documentTargetsKeyPath=["path","targetId"];class sr{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}sr.key="targetGlobalKey",sr.store="targetGlobal";class ra{constructor(e,n){this.collectionId=e,this.parent=n}}ra.store="collectionParents",ra.keyPath=["collectionId","parent"];class os{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}os.store="clientMetadata",os.keyPath="clientId";class tc{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}tc.store="bundles",tc.keyPath="bundleId";class nc{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}nc.store="namedQueries",nc.keyPath="name";const wB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function ia(t){return"IndexedDbTransactionError"===t.name}class TD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nue(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&vD(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&vD(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ee.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&qu(this.mutations,e.mutations,(n,r)=>W2(n,r))&&qu(this.baseMutations,e.baseMutations,(n,r)=>W2(n,r))}}class DD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=Lue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new DD(e,n,r,i)}}class Ks{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Pt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class IB{constructor(e){this.Wt=e}}function xD(t){const e=gB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new is(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class cce{constructor(){this.Gt=new RD}addToCollectionParentIndex(e,n){return this.Gt.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.Gt.getEntries(n))}}class RD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(be.comparator)).toArray()}}class jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class oa{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new oa(0)}static ie(){return new oa(-1)}}function aa(t){return ND.apply(this,arguments)}function ND(){return(ND=y(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==wB)throw t;A("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class uc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Xo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return C2(this.inner)}}class UB{constructor(e,n,r){this.He=e,this.In=n,this.Ht=r}An(e,n){return this.In.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Rn(e,n,r))}Rn(e,n,r){return this.He.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Pn(e,n){return this.He.getEntries(e,n).next(r=>this.vn(e,r).next(()=>r))}vn(e,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Sn(e,n,r):this.Dn(e,n,r);var i}Vn(e,n){return this.An(e,new O(n)).next(r=>{let i=wD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(e,n,r){const i=n.collectionGroup;let s=wD();return this.Ht.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new is(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Dn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Dn(e,n,r){let i,s;return this.He.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.In.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Cn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=He.newInvalidDocument(l),i=i.insert(l,d)),vD(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Ld(n,a)||(i=i.remove(o))}),i))}Cn(e,n,r){let i=Se();for(const o of n)for(const a of o.mutations)a instanceof Ws&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.He.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class FD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Nn=r,this.xn=i}static kn(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new FD(e,n.fromCache,r,i)}}class BB{$n(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ee.min())?this.Fn(e,n):this.On.Pn(e,i).next(s=>{const o=this.Mn(n,s);return(Kg(n)||Qg(n))&&this.Ln(n.limitType,o,i,r)?this.Fn(e,n):(uD()<=me.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_D(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Mn(e,n){let r=new Xe(L2(e));return n.forEach((i,s)=>{Ld(e,s)&&(r=r.add(s))}),r}Ln(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return uD()<=me.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",_D(n)),this.On.getDocumentsMatchingQuery(e,n,ee.min())}}class wce{constructor(e,n,r,i){this.persistence=e,this.Bn=n,this.N=i,this.Un=new Ct(de),this.qn=new uc(s=>Od(s),Gg),this.Kn=ee.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new UB(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Un))}}function $B(t,e){return LD.apply(this,arguments)}function LD(){return(LD=y(function*(t,e){const n=R(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.In.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new UB(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=Se();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.Pn(o,d).next(h=>({Wn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function bce(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.jn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);q(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.In.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.In.performConsistencyCheck(r)).next(()=>n.Qn.Pn(r,i))})}function HB(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ze.getLastRemoteSnapshotVersion(n))}function Cce(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.ze.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.ze.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,g=c,q((m=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.ze.updateTargetData(s,f))}var p,m,g});let u=Tr();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=Se();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=Tr();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):A("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(ee.min())){const c=n.ze.getLastRemoteSnapshotVersion(s).next(l=>n.ze.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.Qn.vn(s,u)).next(()=>u)}).then(s=>(n.Un=i,s))}function Ice(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(r,e)))}function cc(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ze.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.ze.allocateTargetId(r).next(o=>(i=new Ks(e,o,0,r.currentSequenceNumber),n.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(r.targetId,r),n.qn.set(e,r.targetId)),r})}function lc(t,e,n){return VD.apply(this,arguments)}function VD(){return(VD=y(function*(t,e,n){const r=R(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ia(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)})).apply(this,arguments)}function um(t,e,n){const r=R(t);let i=ee.min(),s=Se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.qn.get(c);return void 0!==d?w.resolve(l.Un.get(d)):l.ze.getTargetData(u,c)}(r,o,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Bn.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:Se())).next(a=>({documents:a,Gn:s})))}class Sce{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return w.resolve(this.Yn.get(n))}saveBundleMetadata(e,n){var r;return this.Yn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ft(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,{name:(r=n).name,query:xD(r.bundledQuery),readTime:Ft(r.readTime)}),w.resolve();var r}}class $D{constructor(){this.Zn=new Xe(Lt.ts),this.es=new Xe(Lt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Lt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}cs(e){const n=new O(new be([])),r=new Lt(n,e),i=new Lt(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new O(new be([])),r=new Lt(n,e),i=new Lt(n,e+1);let s=Se();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Lt(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return O.comparator(e.key,n.key)||de(e.ls,n.ls)}static ns(e,n){return de(e.ls,n.ls)||O.comparator(e.key,n.key)}}class xce{constructor(e,n){this.Ht=e,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Xe(Lt.ts)}checkEmpty(e){return w.resolve(0===this.In.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new TD(s,n,r,i);this.In.push(o);for(const a of i)this.ds=this.ds.add(new Lt(a.key,s)),this.Ht.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(e,n){const i=this._s(n+1),s=i<0?0:i;return w.resolve(this.In.length>s?this.In[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this.ws(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(de);return n.forEach(i=>{const s=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new Lt(new O(s),0);let a=new Xe(de);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this.ws(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){q(0===this.ys(n.batchId,"removed")),this.In.shift();let r=this.ds;return w.forEach(n.mutations,i=>{const s=new Lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,n){const r=new Lt(n,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,n){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const n=this._s(e);return n<0||n>=this.In.length?null:this.In[n]}}class Rce{constructor(e,n){this.Ht=e,this.ps=n,this.docs=new Ct(O.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.ps(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.clone():He.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():He.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=Tr();const s=new O(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Ld(n,u)&&(i=i.insert(u.key,u.clone()))}return w.resolve(i)}Ts(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mce(this)}getSize(e){return w.resolve(this.size)}}class Mce extends class{constructor(){this.changes=new uc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:ee.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:He.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.Se.addEntry(e,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Se.getEntry(e,n)}getAllFromCache(e,n){return this.Se.getEntries(e,n)}}class Nce{constructor(e){this.persistence=e,this.Es=new uc(n=>Od(n),Gg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Is=0,this.As=new $D,this.targetCount=0,this.Rs=oa.se()}forEachTarget(e,n){return this.Es.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Is&&(this.Is=n),w.resolve()}ce(e){this.Es.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new oa(n),this.highestTargetId=n),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.ce(n),w.resolve()}removeTargetData(e,n){return this.Es.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Es.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Es.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Es.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.cs(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.As.containsKey(n))}}class kce{constructor(e,n){this.bs={},this.Le=new rr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Nce(this),this.Ht=new cce,this.He=new Rce(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new IB(n),this.Je=new Sce(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new xce(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Oce(this.Le.next());return this.referenceDelegate.vs(),r(i).next(s=>this.referenceDelegate.Vs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ss(e,n){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Oce extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class HD{constructor(e){this.persistence=e,this.Ds=new $D,this.Cs=null}static Ns(e){return new HD(e)}get xs(){if(this.Cs)return this.Cs;throw P()}addReference(e,n,r){return this.Ds.addReference(r,n),this.xs.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Ds.removeReference(r,n),this.xs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),w.resolve()}removeTarget(e,n){this.Ds.cs(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}vs(){this.Cs=new Set}Vs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.xs,r=>{const i=O.fromPath(r);return this.ks(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Cs=null,n.apply(e)))}updateLimboDocument(e,n){return this.ks(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(e){return 0}ks(e,n){return w.or([()=>w.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ss(e,n)])}}class WD{constructor(){this.activeTargetIds=em()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QB{constructor(){this.yi=new WD,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,n,r){this.pi[e]=n}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new WD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Pce{Ti(e){}shutdown(){}}class YB{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Fce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Lce{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Vce extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,n,r,i){const s=this.Bi(e,n);A("RestConnection","Sending: ",s,r);const o={};return this.Ui(o,i),this.qi(e,s,o,r).then(a=>(A("RestConnection","Received: ",a),a),a=>{throw jg("RestConnection",`${e} failed with error: `,a,"url: ",s,"request:",r),a})}Ki(e,n,r,i){return this.Li(e,n,r,i)}Ui(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Hu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])}Bi(e,n){return`${this.Fi}/v1/${n}:${Fce[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,n,r,i){return new Promise((s,o)=>{const a=new aue;a.listenOnce(iue.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case aD.NO_ERROR:const c=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(c)),s(c);break;case aD.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case aD.HTTP_ERROR:const l=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new T(h,d.message))}else o(new T(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(E.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ji(e,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=nue(),s=rue(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new oue({})),this.Ui(o.initMessageHeaders,n),bF()||CF()||Rt().indexOf("Electron/")>=0||IF()||Rt().indexOf("MSAppHost/")>=0||Tp()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");A("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let c=!1,l=!1;const d=new Lce({vi:f=>{l?A("Connection","Not sending because WebChannel is closed:",f):(c||(A("Connection","Opening WebChannel transport."),u.open(),c=!0),A("Connection","WebChannel sending:",f),u.send(f))},Vi:()=>u.close()}),h=(f,p,m)=>{f.listen(p,g=>{try{m(g)}catch(v){setTimeout(()=>{throw v},0)}})};return h(u,Bg.EventType.OPEN,()=>{l||A("Connection","WebChannel transport opened.")}),h(u,Bg.EventType.CLOSE,()=>{l||(l=!0,A("Connection","WebChannel transport closed"),d.$i())}),h(u,Bg.EventType.ERROR,f=>{l||(l=!0,jg("Connection","WebChannel transport errored:",f),d.$i(new T(E.UNAVAILABLE,"The operation could not be completed")))}),h(u,Bg.EventType.MESSAGE,f=>{var p;if(!l){const m=f.data[0];q(!!m);const g=m,v=g.error||(null===(p=g[0])||void 0===p?void 0:p.error);if(v){A("Connection","WebChannel received error:",v);const _=v.status;let C=function(L){const Ee=ft[L];if(void 0!==Ee)return X2(Ee)}(_),D=v.message;void 0===C&&(C=E.INTERNAL,D="Unknown error status: "+_+" with message "+v.message),l=!0,d.$i(new T(C,D)),u.close()}else A("Connection","WebChannel received:",m),d.Oi(m)}}),h(s,sue.STAT_EVENT,f=>{f.stat===y2.PROXY?A("Connection","Detected buffering proxy"):f.stat===y2.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.ki()},0),d}}function dm(){return"undefined"!=typeof document?document:null}function Yd(t){return new Hue(t,!0)}class KD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class XB{constructor(e,n,r,i,s,o,a){this.Oe=e,this.er=r,this.nr=i,this.sr=s,this.credentialsProvider=o,this.listener=a,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new KD(e,n)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return y(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return y(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return y(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(lt(n.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(n)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===n&&this.Er(r)},r=>{e(()=>{const i=new T(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(i)})})}Er(e){const n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{n(()=>this.Ir(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi(y(function*(){e.state=0,e.start()}))}Ir(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return n=>{this.Oe.enqueueAndForget(()=>this.ir===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uce extends XB{constructor(e,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s),this.N=i}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.D?(q(void 0===c||"string"==typeof c),Pt.fromBase64String(c||"")):(q(void 0===c||c instanceof Uint8Array),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:X2(u.code);return new T(c,u.message||"")}(o);n=new nB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Di(t,r.document.name),s=Ft(r.document.updateTime),o=new dn({mapValue:{fields:r.document.fields}}),a=He.newFoundDocument(i,s,o);n=new tm(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Di(t,r.document),s=r.readTime?Ft(r.readTime):ee.min(),o=He.newNoDocument(i,s);n=new tm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Di(t,r.document);n=new tm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,s=new Oue(r.count||0);n=new tB(r.targetId,s)}}var u;return n}(this.N,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Ft(s.readTime):ee.min()}(e);return this.listener.Rr(n,r)}br(e){const n={};n.database=Gd(this.N),n.addTarget=function(i,s){let o;const a=s.target;return o=Wg(a)?{documents:fB(i,a)}:{query:pB(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=oB(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Hd(i,s.snapshotVersion.toTimestamp())),o}(this.N,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.mr(n)}Pr(e){const n={};n.database=Gd(this.N),n.removeTarget=e,this.mr(n)}}class Bce extends XB{constructor(e,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s),this.N=i,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const n=function(t,e){return t&&t.length>0?(q(void 0!==e),t.map(n=>function(r,i){let s=Ft(r.updateTime?r.updateTime:i);return s.isEqual(ee.min())&&(s=Ft(i)),new Mue(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Ft(e.commitTime);return this.listener.Dr(r,n)}return q(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Gd(this.N),this.mr(e)}Sr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof Ud)n={update:lB(t,e.key,e.value)};else if(e instanceof Bd)n={delete:qd(t,e.key)};else if(e instanceof Ws)n={update:lB(t,e.key,e.data),updateMask:Zue(e.fieldMask)};else{if(!(e instanceof ED))return P();n={verify:qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ju)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof na)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xu)return{fieldPath:s.field.canonicalString(),increment:o.C};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:que(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.N,r))};this.mr(n)}}class jce extends class{}{constructor(e,n,r){super(),this.credentials=e,this.sr=n,this.N=r,this.kr=!1}$r(){if(this.kr)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Li(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new T(E.UNKNOWN,i.toString())})}Ki(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Ki(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new T(E.UNKNOWN,i.toString())})}terminate(){this.kr=!0}}class $ce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(lt(n),this.Mr=!1):A("OnlineStateTracker",n)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Hce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=s,this.zr.Ti(a=>{r.enqueueAndForget(y(function*(){var u;Xs(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=R(c);l.Wr.add(4),yield dc(l),l.Hr.set("Unknown"),l.Wr.delete(4),yield Jd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Hr=new $ce(r,i)}}function Jd(t){return QD.apply(this,arguments)}function QD(){return(QD=y(function*(t){if(Xs(t))for(const e of t.Gr)yield e(!0)})).apply(this,arguments)}function dc(t){return YD.apply(this,arguments)}function YD(){return(YD=y(function*(t){for(const e of t.Gr)yield e(!1)})).apply(this,arguments)}function hm(t,e){const n=R(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),ZD(n)?XD(n):fc(n).hr()&&JD(n,e))}function Xd(t,e){const n=R(t),r=fc(n);n.Qr.delete(e),r.hr()&&ZB(n,e),0===n.Qr.size&&(r.hr()?r.wr():Xs(n)&&n.Hr.set("Unknown"))}function JD(t,e){t.Jr.Y(e.targetId),fc(t).br(e)}function ZB(t,e){t.Jr.Y(e),fc(t).Pr(e)}function XD(t){t.Jr=new Bue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),fc(t).start(),t.Hr.Lr()}function ZD(t){return Xs(t)&&!fc(t).ur()&&t.Qr.size>0}function Xs(t){return 0===R(t).Wr.size}function ej(t){t.Jr=void 0}function qce(t){return e0.apply(this,arguments)}function e0(){return(e0=y(function*(t){t.Qr.forEach((e,n)=>{JD(t,e)})})).apply(this,arguments)}function Gce(t,e){return t0.apply(this,arguments)}function t0(){return(t0=y(function*(t,e){ej(t),ZD(t)?(t.Hr.qr(e),XD(t)):t.Hr.set("Unknown")})).apply(this,arguments)}function Wce(t,e,n){return n0.apply(this,arguments)}function n0(){return(n0=y(function*(t,e,n){if(t.Hr.set("Online"),e instanceof nB&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Qr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Qr.delete(a),i.Jr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fm(t,r)}else if(e instanceof tm?t.Jr.rt(e):e instanceof tB?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(ee.min()))try{const r=yield HB(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Jr._t(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Qr.get(u);c&&i.Qr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Qr.get(a);if(!u)return;i.Qr.set(a,u.withResumeToken(Pt.EMPTY_BYTE_STRING,u.snapshotVersion)),ZB(i,a);const c=new Ks(u.target,a,1,u.sequenceNumber);JD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield fm(t,r)}var r})).apply(this,arguments)}function fm(t,e,n){return r0.apply(this,arguments)}function r0(){return(r0=y(function*(t,e,n){if(!ia(e))throw e;t.Wr.add(1),yield dc(t),t.Hr.set("Offline"),n||(n=()=>HB(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.Wr.delete(1),yield Jd(t)}))})).apply(this,arguments)}function tj(t,e){return e().catch(n=>fm(t,n,e))}function hc(t){return s0.apply(this,arguments)}function s0(){return(s0=y(function*(t){const e=R(t),n=Zs(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;zce(e);)try{const i=yield Ice(e.localStore,r);if(null===i){0===e.jr.length&&n.wr();break}r=i.batchId,Kce(e,i)}catch(i){yield fm(e,i)}nj(e)&&rj(e)})).apply(this,arguments)}function zce(t){return Xs(t)&&t.jr.length<10}function Kce(t,e){t.jr.push(e);const n=Zs(t);n.hr()&&n.Vr&&n.Sr(e.mutations)}function nj(t){return Xs(t)&&!Zs(t).ur()&&t.jr.length>0}function rj(t){Zs(t).start()}function Qce(t){return o0.apply(this,arguments)}function o0(){return(o0=y(function*(t){Zs(t).Nr()})).apply(this,arguments)}function Yce(t){return a0.apply(this,arguments)}function a0(){return(a0=y(function*(t){const e=Zs(t);for(const n of t.jr)e.Sr(n.mutations)})).apply(this,arguments)}function Jce(t,e,n){return u0.apply(this,arguments)}function u0(){return(u0=y(function*(t,e,n){const r=t.jr.shift(),i=DD.from(r,e,n);yield tj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hc(t)})).apply(this,arguments)}function Xce(t,e){return c0.apply(this,arguments)}function c0(){return(c0=y(function*(t,e){var n;e&&Zs(t).Vr&&(yield(n=y(function*(r,i){if(J2(s=i.code)&&s!==E.ABORTED){const o=r.jr.shift();Zs(r).dr(),yield tj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hc(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),nj(t)&&rj(t)})).apply(this,arguments)}function d0(){return(d0=y(function*(t,e){const n=R(t);e?(n.Wr.delete(2),yield Jd(n)):e||(n.Wr.add(2),yield dc(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function fc(t){return t.Yr||(t.Yr=function(e,n,r){const i=R(e);return i.$r(),new Uce(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:qce.bind(null,t),Ci:Gce.bind(null,t),Rr:Wce.bind(null,t)}),t.Gr.push(function(){var e=y(function*(n){n?(t.Yr.dr(),ZD(t)?XD(t):t.Hr.set("Unknown")):(yield t.Yr.stop(),ej(t))});return function(n){return e.apply(this,arguments)}}())),t.Yr}function Zs(t){return t.Xr||(t.Xr=function(e,n,r){const i=R(e);return i.$r(),new Bce(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:Qce.bind(null,t),Ci:Xce.bind(null,t),Cr:Yce.bind(null,t),Dr:Jce.bind(null,t)}),t.Gr.push(function(){var e=y(function*(n){n?(t.Xr.dr(),yield hc(t)):(yield t.Xr.stop(),t.jr.length>0&&(A("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Xr}class h0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new h0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pc(t,e){if(lt("AsyncQueue",`${e}: ${t}`),ia(t))return new T(E.UNAVAILABLE,`${e}: ${t}`);throw t}class gc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=wD(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new gc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ij{constructor(){this.Zr=new Ct(O.comparator)}track(e){const n=e.doc.key,r=this.Zr.get(n);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(n,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(n):1===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):P():this.Zr=this.Zr.insert(n,e)}eo(){const e=[];return this.Zr.inorderTraversal((n,r)=>{e.push(r)}),e}}class mc{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new mc(e,n,gc.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Zce{constructor(){this.no=void 0,this.listeners=[]}}class ele{constructor(){this.queries=new uc(e=>F2(e),Fd),this.onlineState="Unknown",this.so=new Set}}function p0(){return(p0=y(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Zce),i)try{s.no=yield n.onListen(r)}catch(o){const a=pc(o,`Initialization of query '${_D(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&y0(n)})).apply(this,arguments)}function m0(){return(m0=y(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function tle(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ro(i)&&(r=!0);o.no=i}}r&&y0(n)}function nle(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function y0(t){t.so.forEach(e=>{e.next()})}class _0{constructor(e,n,r){this.query=e,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.uo(e)&&(this.oo.next(e),n=!0):this.ho(e,this.onlineState)&&(this.lo(e),n=!0),this.ao=e,n}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let n=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),n=!0),n}ho(e,n){return!e.fromCache||!(this.options.fo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class aj{constructor(e){this.key=e}}class uj{constructor(e){this.key=e}}class cj{constructor(e,n){this.query=e,this.po=n,this.To=null,this.current=!1,this.Eo=Se(),this.mutatedKeys=Se(),this.Io=L2(e),this.Ao=new gc(this.Io)}get Ro(){return this.po}bo(e,n){const r=n?n.Po:new ij,i=n?n.Ao:this.Ao;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Kg(this.query)&&i.size===this.query.limit?i.last():null,c=Qg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Ld(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.vo(h,f)||(r.track({type:2,doc:f}),g=!0,(u&&this.Io(f,u)>0||c&&this.Io(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(u||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Kg(this.query)||Qg(this.query))for(;o.size>this.query.limit;){const l=Kg(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:a,mutatedKeys:s}}vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const s=e.Po.eo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.Io(c.doc,l.doc)),this.Vo(r);const o=n?this.So():[],a=0===this.Eo.size&&this.current?1:0,u=a!==this.To;return this.To=a,0!==s.length||u?{snapshot:new mc(this.query,e.Ao,i,s,e.mutatedKeys,0===a,u,!1),Do:o}:{Do:o}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new ij,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(n=>this.po=this.po.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.po=this.po.delete(n)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Se(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const n=[];return e.forEach(r=>{this.Eo.has(r)||n.push(new uj(r))}),this.Eo.forEach(r=>{e.has(r)||n.push(new aj(r))}),n}No(e){this.po=e.Gn,this.Eo=Se();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return mc.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class sle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ole{constructor(e){this.key=e,this.ko=!1}}class ale{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new uc(a=>F2(a),Fd),this.Fo=new Map,this.Mo=new Set,this.Lo=new Ct(O.comparator),this.Bo=new Map,this.Uo=new $D,this.qo={},this.Ko=new Map,this.jo=oa.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function ule(t,e){return v0.apply(this,arguments)}function v0(){return(v0=y(function*(t,e){const n=$0(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield cc(n.localStore,Ir(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield E0(n,e,r,"current"===a),n.isPrimaryClient&&hm(n.remoteStore,o)}return i})).apply(this,arguments)}function E0(t,e,n,r){return w0.apply(this,arguments)}function w0(){return(w0=y(function*(t,e,n,r){t.Wo=(l,d,h)=>{return(f=y(function*(p,m,g,v){let _=m.view.bo(g);_.Ln&&(_=yield um(p.localStore,m.query,!1).then(({documents:L})=>m.view.bo(L,_)));const C=v&&v.targetChanges.get(m.targetId),D=m.view.applyChanges(_,p.isPrimaryClient,C);return M0(p,m.targetId,D.Do),D.snapshot}),function(p,m,g,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield um(t.localStore,e,!0),s=new cj(e,i.Gn),o=s.bo(i.documents),a=$d.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);M0(t,n,u.Do);const c=new sle(e,n,s);return t.Oo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot})).apply(this,arguments)}function cle(t,e){return b0.apply(this,arguments)}function b0(){return(b0=y(function*(t,e){const n=R(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!Fd(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xd(n.remoteStore,r.targetId),yc(n,r.targetId)}).catch(aa))):(yc(n,r.targetId),yield lc(n.localStore,r.targetId,!0))})).apply(this,arguments)}function C0(){return(C0=y(function*(t,e,n){const r=H0(t);try{const i=yield function(s,o){const a=R(s),u=Yt.now(),c=o.reduce((d,h)=>d.add(h.key),Se());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Qn.Pn(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=kue(p,l.get(p.key));null!=m&&f.push(new Ws(p.key,m,x2(m.value.mapValue),ht.exists(!0)))}return a.In.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.qo[s.currentUser.toKey()];u||(u=new Ct(de)),u=u.insert(o,a),s.qo[s.currentUser.toKey()]=u}(r,i.batchId,n),yield as(r,i.changes),yield hc(r.remoteStore)}catch(i){const s=pc(i,"Failed to persist write");n.reject(s)}})).apply(this,arguments)}function lj(t,e){return I0.apply(this,arguments)}function I0(){return(I0=y(function*(t,e){const n=R(t);try{const r=yield Cce(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Bo.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ko=!0:i.modifiedDocuments.size>0?q(o.ko):i.removedDocuments.size>0&&(q(o.ko),o.ko=!1))}),yield as(n,r,e)}catch(r){yield aa(r)}})).apply(this,arguments)}function dj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.io(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.io(o)&&(u=!0)}),u&&y0(a)}(r.eventManager,e),i.length&&r.$o.Rr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dle(t,e,n){return T0.apply(this,arguments)}function T0(){return(T0=y(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let o=new Ct(O.comparator);o=o.insert(s,He.newNoDocument(s,ee.min()));const a=Se().add(s),u=new jd(ee.min(),new Map,new Xe(de),o,a);yield lj(r,u),r.Lo=r.Lo.remove(s),r.Bo.delete(e),N0(r)}else yield lc(r.localStore,e,!1).then(()=>yc(r,e,n)).catch(aa)})).apply(this,arguments)}function hle(t,e){return D0.apply(this,arguments)}function D0(){return(D0=y(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield bce(n.localStore,e);R0(n,r,null),x0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield as(n,i)}catch(i){yield aa(i)}})).apply(this,arguments)}function fle(t,e,n){return A0.apply(this,arguments)}function A0(){return(A0=y(function*(t,e,n){const r=R(t);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.In.lookupMutationBatch(u,o).next(l=>(q(null!==l),c=l.keys(),a.In.removeMutationBatch(u,l))).next(()=>a.In.performConsistencyCheck(u)).next(()=>a.Qn.Pn(u,c))})}(r.localStore,e);R0(r,e,n),x0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield as(r,i)}catch(i){yield aa(i)}})).apply(this,arguments)}function x0(t,e){(t.Ko.get(e)||[]).forEach(n=>{n.resolve()}),t.Ko.delete(e)}function R0(t,e,n){const r=R(t);let i=r.qo[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qo[r.currentUser.toKey()]=i}}function yc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(r=>{t.Uo.containsKey(r)||hj(t,r)})}function hj(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(Xd(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),N0(t))}function M0(t,e,n){for(const r of n)r instanceof aj?(t.Uo.addReference(r.key,e),gle(t,r)):r instanceof uj?(A("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||hj(t,r.key)):P()}function gle(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(A("SyncEngine","New document in limbo: "+n),t.Mo.add(r),N0(t))}function N0(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new O(be.fromString(e)),r=t.jo.next();t.Bo.set(r,new ole(n)),t.Lo=t.Lo.insert(n,r),hm(t.remoteStore,new Ks(Ir(Qu(n.path)),r,2,rr.T))}}function as(t,e,n){return k0.apply(this,arguments)}function k0(){return(k0=y(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Wo(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=FD.kn(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=y(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Nn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ia(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Un.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Un=l.Un.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function mle(t,e){return O0.apply(this,arguments)}function O0(){return(O0=y(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield $B(n.localStore,e);n.currentUser=e,(i=n).Ko.forEach(o=>{o.forEach(a=>{a.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield as(n,r.Wn)}var i})).apply(this,arguments)}function yle(t,e){const n=R(t),r=n.Bo.get(e);if(r&&r.ko)return Se().add(r.key);{let i=Se();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Ro)}return i}}function $0(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dle.bind(null,e),e.$o.Rr=tle.bind(null,e.eventManager),e.$o.Go=nle.bind(null,e.eventManager),e}function H0(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fle.bind(null,e),e}class Dle{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.N=Yd(e.databaseInfo.databaseId),n.sharedClientState=n.Ho(e),n.persistence=n.Jo(e),yield n.persistence.start(),n.gcScheduler=n.Yo(e),n.localStore=n.Xo(e)})()}Yo(e){return null}Xo(e){return function(t,e,n,r){return new wce(t,e,n,r)}(this.persistence,new BB,e.initialUser,this.N)}Jo(e){return new kce(HD.Ns,this.N)}Ho(e){return new QB}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class q0{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mle.bind(null,r.syncEngine),yield function(t,e){return d0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ele}createDatastore(e){const n=Yd(e.databaseInfo.databaseId),r=new Vce(e.databaseInfo);return new jce(e.credentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dj(this.syncEngine,a,0),o=YB.bt()?new YB:new Pce,new Hce(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new ale(r,i,s,o,a,u);return c&&(l.Qo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(n){const r=R(n);A("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield dc(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Nle{constructor(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Qt.UNAUTHENTICATED,this.clientId=E2.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var s=y(function*(o){A("FirestoreClient","Received user=",o.uid),yield i.credentialListener(o),i.user=o});return function(o){return s.apply(this,arguments)}}())}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),n.resolve()}catch(r){const i=pc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function mj(t,e){return G0.apply(this,arguments)}function G0(){return(G0=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield $B(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function yj(t,e){return W0.apply(this,arguments)}function W0(){return(W0=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield z0(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=y(function*(o,a){const u=R(o);u.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const c=Xs(u);u.Wr.add(3),yield dc(u),c&&u.Hr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Wr.delete(3),yield Jd(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e})).apply(this,arguments)}function z0(t){return K0.apply(this,arguments)}function K0(){return(K0=y(function*(t){return t.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield mj(t,new Dle)),t.offlineComponents})).apply(this,arguments)}function gm(t){return Q0.apply(this,arguments)}function Q0(){return(Q0=y(function*(t){return t.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield yj(t,new q0)),t.onlineComponents})).apply(this,arguments)}function _c(t){return X0.apply(this,arguments)}function X0(){return(X0=y(function*(t){const e=yield gm(t),n=e.eventManager;return n.onListen=ule.bind(null,e.syncEngine),n.onUnlisten=cle.bind(null,e.syncEngine),n})).apply(this,arguments)}class jle{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Zd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}const bj=new Map;function Z0(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cj(t){if(!O.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ij(t){if(O.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ve(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new T(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Dj{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new T(E.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dj({}),this._settingsFrozen=!1,e instanceof Zd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(r.options.projectId)}(e))}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dj(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new uue;switch(n.type){case"gapi":const r=n.client;return q(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new hue(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new T(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bj.get(e);n&&(A("ComponentProvider","Removing Datastore"),bj.delete(e),n.terminate())}(this),Promise.resolve()}}class it{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}}class fn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fn(this.firestore,e,this._query)}}class Si extends fn{constructor(e,n,r){super(e,n,Qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new O(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function Hle(t,e,...n){if(t=er(t),Z0("collection","path",e),t instanceof eh){const r=be.fromString(e,...n);return Ij(r),new Si(t,null,r)}{if(!(t instanceof it||t instanceof Si))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Ij(r),new Si(t.firestore,null,r)}}function Aj(t,e,...n){if(t=er(t),1===arguments.length&&(e=E2.I()),Z0("doc","path",e),t instanceof eh){const r=be.fromString(e,...n);return Cj(r),new it(t,null,new O(r))}{if(!(t instanceof it||t instanceof Si))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Cj(r),new it(t.firestore,t instanceof Si?t.converter:null,new O(r))}}class Gle{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new KD(this,"async_queue_retry"),this.Rc=()=>{const n=dm();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ar.tr()};const e=dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const n=dm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const n=new Ot;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return y(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(n){if(!ia(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const n=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,lt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.bc(),this.Ac.indexOf(e)>-1&&(n=0);const i=h0.createAndSchedule(this,e,n,r,s=>this.Vc(s));return this.yc.push(i),i}bc(){this.Tc&&P()}verifyOperationInProgress(){}Sc(){var e=this;return y(function*(){let n;do{n=e._c,yield n}while(n!==e._c)})()}Dc(e){for(const n of this.yc)if(n.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.yc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const n=this.yc.indexOf(e);this.yc.splice(n,1)}}function eA(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ke extends eh{constructor(e,n){super(e,n),this.type="firestore",this._queue=new Gle,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Sj(this),this._firestoreClient.terminate()}}function zle(t=Mp()){return Po(t,"firestore").getImmediate()}function Vt(t){return t._firestoreClient||Sj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Sj(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new jle(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Nle(t._credentials,t._queue,r)}class vc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Pt.fromBase64String(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mj{constructor(e){this._methodName=e}}class tA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}const Kle=/^__.*__$/;class Qle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ud(e,this.data,n,this.fieldTransforms)}}function kj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class ym{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$c({path:r,Fc:!1});return i.Mc(e),i}Lc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$c({path:r,Fc:!1});return i.xc(),i}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return _m(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(kj(this.kc)&&Kle.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class Yle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.N=r||Yd(e)}jc(e,n,r,i=!1){return new ym({kc:e,methodName:n,Kc:r,path:ln.emptyPath(),Fc:!1,qc:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ec(t){const e=t._freezeSettings(),n=Yd(t._databaseId);return new Yle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nA(t,e,n,r,i,s={}){const o=t.jc(s.merge||s.mergeFields?2:0,e,n,i);iA("Data must be an object, but it was:",o,r);const a=Vj(r,o);let u,c;if(s.merge)u=new Gu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=sA(e,d,n);if(!o.contains(h))throw new T(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Bj(l,h)||l.push(h)}u=new Gu(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Qle(new dn(a),u,c)}function ca(t,e){if(Uj(t=er(t)))return iA("Unsupported field value:",e,t),Vj(t,e);if(t instanceof Mj)return function(n,r){if(!kj(r.kc))throw r.Uc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ca(o,r.Bc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=er(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return B2(r.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Yt.fromDate(n);return{timestampValue:Hd(r.N,i)}}if(n instanceof Yt){const i=new Yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hd(r.N,i)}}if(n instanceof tA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:oB(r.N,n._byteString)};if(n instanceof it){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Uc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Uc(`Unsupported field value: ${mm(n)}`)}(t,e)}function Vj(t,e){const n={};return C2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(r,i)=>{const s=ca(i,e.Oc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Uj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof tA||t instanceof ua||t instanceof it||t instanceof Mj)}function iA(t,e,n){if(!Uj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mm(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}var r}function sA(t,e,n){if((e=er(e))instanceof vc)return e._internalPath;if("string"==typeof e)return oA(t,e);throw _m("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const ede=new RegExp("[~\\*/\\[\\]]");function oA(t,e,n){if(e.search(ede)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vc(...e.split("."))._internalPath}catch(r){throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _m(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(E.INVALID_ARGUMENT,a+t+u)}function Bj(t,e){return t.some(n=>n.isEqual(e))}class aA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class tde extends aA{data(){return super.data()}}function vm(t,e){return"string"==typeof e?oA(t,e):e instanceof vc?e._internalPath:e._delegate._internalPath}class la{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wc extends aA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Em extends wc{data(e={}){return super.data(e)}}class bc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new la(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Em(this._firestore,this._userDataWriter,r.key,r,new la(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Em(r._firestore,r._userDataWriter,o.doc.key,o.doc,new la(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Em(r._firestore,r._userDataWriter,o.doc.key,o.doc,new la(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:nde(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function uA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class da extends class{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){const r={};return Xo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tA(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=I2(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);q(vB(r));const i=new Zd(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||lt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function ade(t,e,n){t=ve(t,it);const r=ve(t.firestore,Ke),i=uA(t.converter,e,n);return nh(r,[nA(Ec(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ht.none())])}function ude(t){return nh(ve(t.firestore,Ke),[new Bd(t._key,ht.none())])}function cde(t,e){const n=ve(t.firestore,Ke),r=Aj(t),i=uA(t.converter,e);return nh(n,[nA(Ec(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ht.exists(!1))]).then(()=>r)}function nh(t,e){return function(n,r){const i=new Ot;return n.asyncQueue.enqueueAndForget(y(function*(){return function(t,e,n){return C0.apply(this,arguments)}(yield function(t){return gm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Vt(t),e)}!function(t,e=!0){Hu="9.5.0",In(new un("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ke(i,new lue(n.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Ve(_2,"3.3.1",t),Ve(_2,"3.3.1","esm2017")}();var hde={includeMetadataChanges:!1};function lA(t,e){return void 0===e&&(e=hde),new Z(function(n){return{unsubscribe:function(t,...e){var n,r,i;t=er(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||eA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(eA(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof it)c=ve(t.firestore,Ke),l=Qu(t._key.path),u={next:d=>{e[o]&&e[o](function(t,e,n){const r=n.docs.get(e._key),i=new da(t);return new wc(t,i,e._key,r,new la(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ve(t,fn);c=ve(d.firestore,Ke),l=d._query;const h=new da(c);u={next:f=>{e[o]&&e[o](new bc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function(t){if(Qg(t)&&0===t.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new pm(p),g=new _0(h,m,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return p0.apply(this,arguments)}(yield _c(d),g)})),()=>{m.ec(),d.asyncQueue.enqueueAndForget(y(function*(){return function(t,e){return m0.apply(this,arguments)}(yield _c(d),g)}))}}(Vt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function vde(t,e){return void 0===e&&(e={}),function(t){return lA(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return function(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class bm{constructor(e){return e}}const Zj="firestore",fA=new z("angularfire2.firestore-instances");function bde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bm(r)}}const Cde={provide:class{constructor(){return Bp(Zj)}},deps:[[new Ae,fA]]},Ide={provide:bm,useFactory:function(t,e){const n=Up(Zj,t,e);return n&&new bm(n)},deps:[[new Ae,fA],Ho]};let Tde=(()=>{class t{constructor(){Ve("angularfire",ed.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[Ide,Cde]}),t})();function Dde(t,...e){return{ngModule:Tde,providers:[{provide:fA,useFactory:bde(t),multi:!0,deps:[Le,ge,jp,$p,[new Ae,gT],[new Ae,Yp],...e]}]}}const Ade=bi(vde,!0),Sde=bi(cde,!0),e$=bi(Hle,!0),xde=bi(ude,!0),t$=bi(Aj,!0),Rde=bi(zle,!0),Mde=bi(ade,!0);let pA=(()=>{class t{constructor(n){this.firestore=n,this.isModal$=new Sr,this.field$=new Sr}searchValv(n){this.field$.next(n)}modalCalled(){this.isModal$.next(!0)}modalExit(){this.isModal$.next(!1)}getAll(){return Ade(e$(this.firestore,"advertisement"),{idField:"id"})}create(n){return Sde(e$(this.firestore,"advertisement"),n)}update(n,r){return Mde(t$(this.firestore,"advertisement",r),n)}delete(n){return xde(t$(this.firestore,"advertisement",n))}}return t.\u0275fac=function(n){return new(n||t)(S(bm))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Nde(t,e){1&t&&(ue(0,"p",6),Ge(1,"\u041f\u043e\u0434\u0456\u0431\u043d\u0456 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"),ce())}const kde=function(t){return["/details",t]};function Ode(t,e){if(1&t){const n=eu();ue(0,"div",9),ue(1,"p"),Ge(2),As(3,"slice"),ce(),ue(4,"p"),Ge(5),As(6,"slice"),ce(),ue(7,"button",10),qe("click",function(){return uo(n),di(3).refresh()}),Ge(8,"details"),ce(),ce()}if(2&t){const n=e.$implicit;nt(2),Ts(hu(3,3,null==n?null:n.name,0,14)),nt(3),Ts(hu(6,7,null==n?null:n.description,0,15)),nt(2),$t("routerLink",Y_(11,kde,n.id))}}function Pde(t,e){if(1&t&&(ue(0,"div",7),li(1,Ode,9,13,"div",8),As(2,"slice"),ce()),2&t){const n=di(2);nt(1),$t("ngForOf",hu(2,1,n.analogAdvers,0,3))}}function Fde(t,e){if(1&t&&(ue(0,"main",2),ue(1,"h1",3),Ge(2),ce(),ue(3,"p",3),Ge(4),ce(),li(5,Nde,2,0,"p",4),li(6,Pde,3,5,"div",5),ce()),2&t){const n=e.$implicit,r=di();nt(2),Ts(null==n?null:n.name),nt(2),Ts(null==n?null:n.description),nt(1),$t("ngIf",r.analogAdvers.length>0),nt(1),$t("ngIf",r.analogAdvers.length>0)}}const Lde=function(){return[""]};let Vde=(()=>{class t{constructor(n,r){this.boardServices=n,this.activatedRoute=r,this.arrAdverts=[],this.analogAdvers=[]}ngOnInit(){this.routeId=this.activatedRoute.snapshot.params.details,this.loadAllAdvert()}ngDoCheck(){this.routeId=this.activatedRoute.snapshot.params.details}loadAllAdvert(){this.boardServices.getAll().subscribe(n=>{this.arrAdverts=n,this.filterAdv()},n=>{console.log(n)})}filterAdv(){this.analogAdvers=[],this.advert=this.arrAdverts.filter(n=>n.id==this.routeId),this.arrAdverts.filter((n,r)=>{var i;null===(i=this.advert[0])||void 0===i||i.name.toLowerCase().split(" ").forEach(s=>{(null==n?void 0:n.name.toLowerCase().split(" ").includes(s))&&n.id!==this.advert[0].id&&this.analogAdvers.push(n)})})}refresh(){this.loadAllAdvert()}}return t.\u0275fac=function(n){return new(n||t)(I(pA),I(Ro))},t.\u0275cmp=gs({type:t,selectors:[["app-details"]],decls:3,vars:3,consts:[[1,"btn","out",3,"routerLink"],["class","detail",4,"ngFor","ngForOf"],[1,"detail"],[1,"text"],["class","text tobottom",4,"ngIf"],["class","rowblock",4,"ngIf"],[1,"text","tobottom"],[1,"rowblock"],["class","analog flexcenter",4,"ngFor","ngForOf"],[1,"analog","flexcenter"],[1,"boardChild","btn",3,"routerLink","click"]],template:function(n,r){1&n&&(ue(0,"button",0),Ge(1,"\u041d\u0430\u0437\u0430\u0434 \u0434\u043e \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u044c"),ce(),li(2,Fde,7,4,"main",1)),2&n&&($t("routerLink",Q_(2,Lde)),nt(2),$t("ngForOf",r.advert))},directives:[Au,Gv,Wv],pipes:[Jv],styles:[".detail[_ngcontent-%COMP%]{margin:5%}.text[_ngcontent-%COMP%]{word-wrap:break-word;text-align:center}.out[_ngcontent-%COMP%]{margin-left:1%;margin-top:1%}.rowblock[_ngcontent-%COMP%]{display:flex;border-top:1px solid #000;border-bottom:1px solid #000;margin-top:1%}.tobottom[_ngcontent-%COMP%]{margin-top:20%}.analog[_ngcontent-%COMP%]{margin:1% 10%;flex-direction:column}.flexcenter[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})(),Ude=(()=>{class t{transform(n,r){return r?n?n.filter(i=>i.name.toLocaleLowerCase().includes(r.toLocaleLowerCase())):[]:n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=gn({name:"search",type:t,pure:!0}),t})();const Bde=function(t){return["/details",t]};function jde(t,e){if(1&t){const n=eu();ue(0,"div",5),ue(1,"p",6),Ge(2),As(3,"slice"),ce(),ue(4,"p",7),Ge(5),As(6,"slice"),ce(),ue(7,"button",8),Ge(8,"details"),ce(),ue(9,"button",9),qe("click",function(){const s=uo(n).$implicit;return di().edit(s)}),Ge(10,"edit"),ce(),ue(11,"button",9),qe("click",function(){const s=uo(n).$implicit;return di().delete(s.id)}),Ge(12,"delete"),ce(),ue(13,"p",10),Ge(14),As(15,"date"),ce(),ce()}if(2&t){const n=e.$implicit;nt(2),Ts(hu(3,4,n.name,0,12)),nt(3),sf(" ",hu(6,8,n.description,0,26),""),nt(2),$t("routerLink",Y_(15,Bde,n.id)),nt(7),Ts(J_(15,12,n.date,"dd.MM.yyyy"))}}function $de(t,e){1&t&&Is(0,"div",11)}function Hde(t,e){if(1&t){const n=eu();ue(0,"button",17),qe("click",function(){return uo(n),di(2).addAdvert()}),Ge(1,"\u0414\u043e\u0434\u0430\u0442\u0438 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"),ce()}}function qde(t,e){if(1&t){const n=eu();ue(0,"button",17),qe("click",function(){return uo(n),di(2).saveChanges()}),Ge(1,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),ce()}}function Gde(t,e){if(1&t){const n=eu();ue(0,"form",12),ue(1,"p"),Ge(2,"\u041d\u0430\u0437\u0432\u0430"),ce(),Is(3,"input",13),ue(4,"p"),Ge(5,"\u041e\u043f\u0438\u0441"),ce(),Is(6,"textarea",14),ue(7,"div",15),li(8,Hde,2,0,"button",16),li(9,qde,2,0,"button",16),ue(10,"button",17),qe("click",function(){return uo(n),di().modalExit()}),Ge(11,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),ce(),ce(),ce()}if(2&t){const n=di();$t("formGroup",n.advertForm),nt(8),$t("ngIf",!n.isEdit),nt(1),$t("ngIf",n.isEdit)}}const Wde=[{path:"",component:(()=>{class t{constructor(n,r){this.boardServices=n,this.fb=r,this.ismodalCall=!1,this.isEdit=!1}ngOnInit(){this.loadAdvertisement(),this.loadModal(),this.initAdvertForm(),this.search()}loadAdvertisement(){this.boardServices.getAll().subscribe(n=>{this.arrAdvertisement=n},n=>{console.log(n)})}initAdvertForm(){this.advertForm=this.fb.group({name:["",pO.required],description:["",pO.required],date:(new Date).toISOString()})}addAdvert(){this.advertForm.valid?(this.advertForm.patchValue({date:(new Date).toISOString()}),this.boardServices.create(this.advertForm.value).then(()=>{this.loadAdvertisement(),this.initAdvertForm(),this.modalExit()}).catch(n=>{console.log(n)})):alert("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u044f!")}delete(n){this.boardServices.delete(n).then(()=>{this.loadAdvertisement()}).catch(r=>{console.log(r)})}edit(n){this.isEdit=!0,this.uid=n.id,this.advertForm.patchValue({description:n.description,name:n.name,date:(new Date).toISOString()}),this.isEdit&&(this.modalCall(),this.loadModal())}saveChanges(){this.advertForm.valid?this.boardServices.update(this.advertForm.value,this.uid).then(()=>{this.loadAdvertisement(),this.initAdvertForm(),this.modalExit()}).catch(n=>{console.log(n)}):alert("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u044f!")}loadModal(){this.boardServices.isModal$.subscribe(n=>{this.ismodalCall=n})}modalCall(){this.boardServices.modalCalled(),this.loadModal()}modalExit(){this.isEdit=!1,this.boardServices.modalExit(),this.loadModal(),this.advertForm.reset()}search(){this.boardServices.field$.subscribe(n=>{this.field=n})}}return t.\u0275fac=function(n){return new(n||t)(I(pA),I(PY))},t.\u0275cmp=gs({type:t,selectors:[["app-home"]],decls:6,vars:6,consts:[[1,"center"],[1,"container"],["class","board",4,"ngFor","ngForOf"],["class","fon",4,"ngIf"],["class","modal",3,"formGroup",4,"ngIf"],[1,"board"],[1,"boardChild","itname"],[1,"desc"],[1,"boardChild","btn",3,"routerLink"],[1,"boardChild","btn",3,"click"],[1,"boardChild"],[1,"fon"],[1,"modal",3,"formGroup"],["formControlName","name","type","text",1,"search"],["formControlName","description","id","","cols","30","rows","10",1,"search"],[1,"modBottom"],["class","btn modalBtn",3,"click",4,"ngIf"],[1,"btn","modalBtn",3,"click"]],template:function(n,r){1&n&&(ue(0,"main",0),ue(1,"div",1),li(2,jde,16,17,"div",2),As(3,"search"),ce(),ce(),li(4,$de,1,0,"div",3),li(5,Gde,12,3,"form",4)),2&n&&(nt(2),$t("ngForOf",J_(3,3,r.arrAdvertisement,r.field)),nt(2),$t("ngIf",r.ismodalCall),nt(1),$t("ngIf",r.ismodalCall))},directives:[Gv,Wv,Au,WO,LO,op,Pl,_E,OE],pipes:[Ude,Jv,P1],styles:[".center[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.container[_ngcontent-%COMP%]{width:90%}.board[_ngcontent-%COMP%]{width:100%;display:flex;background-color:#fff;padding-right:1%;border-radius:10px;flex-direction:row;margin-top:1%;margin-bottom:1%;justify-content:space-between}.boardChild[_ngcontent-%COMP%]{width:10%;margin:1%}.itname[_ngcontent-%COMP%]{width:30%}.desc[_ngcontent-%COMP%]{margin:1%;width:50%!important}.modal[_ngcontent-%COMP%]{position:fixed;padding:1%;z-index:5;top:20%;left:30%;width:40%;display:flex;flex-direction:column;border:1px solid #000;border-radius:10px;background-color:#fff}.fon[_ngcontent-%COMP%]{width:100%;min-height:100vh;position:fixed;top:0;left:0;background-color:#fff;opacity:80%;z-index:1}.modBottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:3%}.modalBtn[_ngcontent-%COMP%]{width:50%}.search[_ngcontent-%COMP%]{padding:5px;border:1px solid #000;border-radius:10px}"]}),t})()},{path:"details/:details",component:Vde}];let zde=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({imports:[[gF.forRoot(Wde)],gF]}),t})();const Kde=function(){return[""]};let Qde=(()=>{class t{constructor(n){this.boardServices=n}ngOnInit(){this.loadAdvertisement()}cancelSearch(){this.field="",this.search()}search(){this.boardServices.searchValv(this.field)}loadAdvertisement(){this.boardServices.getAll().subscribe(n=>{this.arrAdvertisement=n},n=>{console.log(n)})}modalCall(){this.boardServices.modalCalled()}}return t.\u0275fac=function(n){return new(n||t)(I(pA))},t.\u0275cmp=gs({type:t,selectors:[["app-header"]],decls:9,vars:3,consts:[[1,"header"],[3,"routerLink","click"],["for","search",1,"inpSeach"],["type","text","id","search",3,"ngModel","ngModelChange"],[1,"btn",3,"click"]],template:function(n,r){1&n&&(ue(0,"header",0),ue(1,"h3",1),qe("click",function(){return r.cancelSearch()}),Ge(2,"\u041e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"),ce(),ue(3,"label",2),ue(4,"input",3),qe("ngModelChange",function(s){return r.field=s}),ce(),ue(5,"button",4),qe("click",function(){return r.search()}),Ge(6,"\u041f\u043e\u0448\u0443\u043a"),ce(),ce(),ue(7,"button",4),qe("click",function(){return r.modalCall()}),Ge(8,"\u0414\u043e\u0434\u0430\u0442\u0438 \u043e\u0433\u043e\u043b\u043e\u0448\u0435\u043d\u043d\u044f"),ce(),ce()),2&n&&(nt(1),$t("routerLink",Q_(2,Kde)),nt(3),$t("ngModel",r.field))},directives:[Au,Pl,_E,RE],styles:[".header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:1%;background-color:#f0f0f0;justify-content:space-between}#search[_ngcontent-%COMP%]{width:80%;padding:5px;border:1px solid #000;border-radius:10px}.inpSeach[_ngcontent-%COMP%]{width:50%}"]}),t})(),Yde=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gs({type:t,selectors:[["app-footer"]],decls:2,vars:0,consts:[[1,"textcenter"]],template:function(n,r){1&n&&(ue(0,"p",0),Ge(1,"Andriy Malovaniy"),ce())},styles:[".textcenter[_ngcontent-%COMP%]{text-align:center;margin-top:2%}"]}),t})(),Jde=(()=>{class t{constructor(){this.title="advertisement"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gs({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"mainPg"]],template:function(n,r){1&n&&(Is(0,"app-header"),ue(1,"main",0),Is(2,"router-outlet"),ce(),Is(3,"app-footer"))},directives:[Qde,sw,Yde],styles:[".mainPg[_ngcontent-%COMP%]{min-height:80vh;background-color:#f0f0f0;border-top:1px solid #b3b3b3}"]}),t})();const n$="firebasestorage.googleapis.com";class et extends vi{constructor(e,n){super(gA(e),`Firebase Storage: ${n} (${gA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}_codeEquals(e){return gA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function gA(t){return"storage/"+t}function yA(t){return new et("invalid-argument",t)}function o$(){return new et("app-deleted","The Firebase app was deleted.")}class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rn.makeFromUrl(e,n)}catch(i){return new Rn(e,"")}if(""===r.path)return r;throw function(t){return new et("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(D){D.path_=decodeURIComponent(D.path)}const d=n.replace(/[.]/g,"\\."),C=[{regex:a,indices:{bucket:1,path:3},postModify:function(D){"/"===D.path.charAt(D.path.length-1)&&(D.path_=D.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===n$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<C.length;D++){const L=C[D],Ee=L.regex.exec(e);if(Ee){let or=Ee[L.indices.path];or||(or=""),r=new Rn(Ee[L.indices.bucket],or),L.postModify(r);break}}if(null==r)throw function(t){return new et("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class hhe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vA(t,e,n,r){if(r<e)throw yA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yA(`Invalid value for '${t}'. Expected ${n} or less.`)}var eo=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(eo||(eo={})),eo))();class _he{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=new et("unknown","An unknown error occurred, please check the error payload for server response.");u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?o$():new et("canceled","User canceled the upload/download."):new et("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?n(0,new Im(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...g){c||(c=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(f,u())},g)}function h(){s&&clearTimeout(s)}function f(g,...v){if(c)return void h();if(g)return h(),void l.call(null,g,...v);if(u()||o)return h(),void l.call(null,g,...v);let C;r<64&&(r*=2),1===a?(a=2,C=0):C=1e3*(r+Math.random()),d(C)}let p=!1;function m(g){p||(p=!0,h(),!c&&(null!==i?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Im(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===eo.NO_ERROR,u=s.getStatus();if(!a||this.isRetryStatusCode_(u)){const l=s.getErrorCode()===eo.ABORT;return void r(!1,new Im(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Im(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return n||i||s}}class Im{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class ha{constructor(e,n){this._service=e,this._location=n instanceof Rn?n:Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ha(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Rn(this._location.bucket,e);return new ha(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function(t){return new et("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function S$(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:Rn.makeFromBucketSpec(n,t)}class DA{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=n$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Rn.makeFromBucketSpec(i,this._host):S$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Rn.makeFromBucketSpec(this._url,e):S$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new hhe(o$());{const s=function(t,e,n,r,i,s){const o=function(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new _he(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return y(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const x$="@firebase/storage",M$="storage";function yfe(t=Mp(),e){return Po(t=er(t),M$).getImmediate({identifier:e})}In(new un(M$,function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new DA(n,r,i,e,Fo)},"PUBLIC").setMultipleInstances(!0)),Ve(x$,"0.9.0",""),Ve(x$,"0.9.0","esm2017");class AA{constructor(e){return e}}const N$="storage",SA=new z("angularfire2.storage-instances");function bfe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new AA(r)}}const Cfe={provide:class{constructor(){return Bp(N$)}},deps:[[new Ae,SA]]},Ife={provide:AA,useFactory:function(t,e){const n=Up(N$,t,e);return n&&new AA(n)},deps:[[new Ae,SA],Ho]};let Tfe=(()=>{class t{constructor(){Ve("angularfire",ed.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=pt({providers:[Ife,Cfe]}),t})();function Dfe(t,...e){return{ngModule:Tfe,providers:[{provide:SA,useFactory:bfe(t),multi:!0,deps:[Le,ge,jp,$p,[new Ae,gT],[new Ae,Yp],...e]}]}}const Afe=bi(yfe,!0),k$_firebaseConfig={apiKey:"AIzaSyAz1TsutdCWSYfImyFi4J2qKzElm4diMFI",authDomain:"examination-project-e25a4.firebaseapp.com",projectId:"examination-project-e25a4",storageBucket:"examination-project-e25a4.appspot.com",messagingSenderId:"864137381549",appId:"1:864137381549:web:5caaa0ab0d8d276be8e824",measurementId:"G-NG3F396N0F"};let Sfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t,bootstrap:[Jde]}),t.\u0275inj=pt({providers:[],imports:[[_9,zde,dP,$9,kY,Tre(()=>Dre(k$_firebaseConfig)),Dde(()=>Rde()),Dfe(()=>Afe()),Zoe(()=>eae())]]}),t})();(function(){if(Vk)throw new Error("Cannot enable prod mode after platform setup.");Lk=!1})(),m9().bootstrapModule(Sfe).catch(t=>console.error(t))}},fa=>{fa(fa.s=900)}]);